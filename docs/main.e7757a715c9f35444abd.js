(()=>{var t,e,r={8923:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});var n=r(8081),i=r.n(n),a=r(3645),s=r.n(a)()(i());s.push([t.id,".jsondiffpatch-delta {\r\n  font-family: 'Fira Code', 'DejaVu Sans Mono', Monaco, Courier, monospace;\r\n\tfont-size: 0.7rem;\r\n  margin: 0;\r\n  padding: 0 0 0 1em;\r\n  display: inline-block;\r\n\tcolor: var(--theme-text);\r\n\t--tab-width: 0.25rem;\r\n}\r\n.jsondiffpatch-delta pre {\r\n  font-family: 'Fira Code', 'DejaVu Sans Mono', Monaco, Courier, monospace;\r\n\tfont-size: 0.7rem;\r\n  margin: 0;\r\n  padding: 0;\r\n  display: inline-block;\r\n\tcolor: var(--theme-text);\r\n\tmax-width: 100%;\r\n\tline-break: anywhere;\r\n\toverflow-x: auto;\r\n\toverflow-y: auto;\r\n\t-moz-tab-size: 1em;\r\n\t  -o-tab-size: 1em;\r\n\t     tab-size: 1em;\r\n\twhite-space: pre-wrap;\r\n}\r\nul.jsondiffpatch-delta {\r\n  list-style-type: none;\r\n  padding: 0 0 0 var(--tab-width);\r\n  margin: 0;\r\n}\r\n.jsondiffpatch-delta ul {\r\n  list-style-type: none;\r\n  padding: 0 0 0 var(--tab-width);\r\n  margin: 0;\r\n}\r\n.jsondiffpatch-added .jsondiffpatch-property-name,\r\n.jsondiffpatch-added .jsondiffpatch-value pre,\r\n.jsondiffpatch-modified .jsondiffpatch-right-value pre,\r\n.jsondiffpatch-textdiff-added {\r\n  background: #1c4428;\r\n}\r\n.jsondiffpatch-deleted .jsondiffpatch-property-name,\r\n.jsondiffpatch-deleted pre,\r\n.jsondiffpatch-modified .jsondiffpatch-left-value pre,\r\n.jsondiffpatch-textdiff-deleted {\r\n  background: #542426;\r\n  text-decoration: line-through;\r\n\ttext-decoration-thickness: 0.2rem;\r\n\t-webkit-text-decoration-color: rgba(255,255,255,0.25);\r\n\t        text-decoration-color: rgba(255,255,255,0.25)\r\n}\r\n:is(.jsondiffpatch-deleted .jsondiffpatch-property-name,.jsondiffpatch-deleted pre,.jsondiffpatch-modified .jsondiffpatch-left-value pre,.jsondiffpatch-textdiff-deleted):hover {\r\n\t\ttext-decoration: none;\r\n\t}\r\n.jsondiffpatch-unchanged,\r\n.jsondiffpatch-movedestination {\r\n  color: gray;\r\n}\r\n.jsondiffpatch-unchanged,\r\n.jsondiffpatch-movedestination > .jsondiffpatch-value {\r\n  transition: all 0.5s;\r\n  -webkit-transition: all 0.5s;\r\n  overflow-y: hidden;\r\n}\r\n.jsondiffpatch-unchanged-showing .jsondiffpatch-unchanged,\r\n.jsondiffpatch-unchanged-showing .jsondiffpatch-movedestination > .jsondiffpatch-value {\r\n  max-height: 100px;\r\n}\r\n.jsondiffpatch-unchanged-hidden .jsondiffpatch-unchanged,\r\n.jsondiffpatch-unchanged-hidden .jsondiffpatch-movedestination > .jsondiffpatch-value {\r\n  max-height: 0;\r\n}\r\n.jsondiffpatch-unchanged-hiding .jsondiffpatch-movedestination > .jsondiffpatch-value,\r\n.jsondiffpatch-unchanged-hidden .jsondiffpatch-movedestination > .jsondiffpatch-value {\r\n  display: block;\r\n}\r\n.jsondiffpatch-unchanged-visible .jsondiffpatch-unchanged,\r\n.jsondiffpatch-unchanged-visible .jsondiffpatch-movedestination > .jsondiffpatch-value {\r\n  max-height: 100px;\r\n}\r\n.jsondiffpatch-unchanged-hiding .jsondiffpatch-unchanged,\r\n.jsondiffpatch-unchanged-hiding .jsondiffpatch-movedestination > .jsondiffpatch-value {\r\n  max-height: 0;\r\n}\r\n.jsondiffpatch-unchanged-showing .jsondiffpatch-arrow,\r\n.jsondiffpatch-unchanged-hiding .jsondiffpatch-arrow {\r\n  display: none;\r\n}\r\n.jsondiffpatch-value {\r\n  display: inline-block;\r\n}\r\n.jsondiffpatch-property-name {\r\n  display: inline-block;\r\n  padding-right: 0.5em;\r\n  vertical-align: top;\r\n}\r\n.jsondiffpatch-property-name:after {\r\n  content: ': ';\r\n}\r\n.jsondiffpatch-child-node-type-array > .jsondiffpatch-property-name:after {\r\n  content: ': [';\r\n}\r\n.jsondiffpatch-child-node-type-array:after {\r\n  content: '],';\r\n}\r\ndiv.jsondiffpatch-child-node-type-array:before {\r\n  content: '[';\r\n}\r\ndiv.jsondiffpatch-child-node-type-array:after {\r\n  content: ']';\r\n}\r\n.jsondiffpatch-child-node-type-object > .jsondiffpatch-property-name:after {\r\n  content: ': {';\r\n}\r\n.jsondiffpatch-child-node-type-object:after {\r\n  content: '},';\r\n}\r\ndiv.jsondiffpatch-child-node-type-object:before {\r\n  content: '{';\r\n}\r\ndiv.jsondiffpatch-child-node-type-object:after {\r\n  content: '}';\r\n}\r\n.jsondiffpatch-value pre:after {\r\n  content: ',';\r\n}\r\nli:last-child > .jsondiffpatch-value pre:after,\r\n.jsondiffpatch-modified > .jsondiffpatch-left-value pre:after {\r\n  content: '';\r\n}\r\n.jsondiffpatch-modified .jsondiffpatch-value {\r\n  display: inline-block;\r\n}\r\n.jsondiffpatch-modified .jsondiffpatch-right-value {\r\n  margin-left: 5px;\r\n}\r\n.jsondiffpatch-moved .jsondiffpatch-value {\r\n  display: none;\r\n}\r\n.jsondiffpatch-moved .jsondiffpatch-moved-destination {\r\n  display: inline-block;\r\n  background: #ffffbb;\r\n  color: #888;\r\n}\r\n.jsondiffpatch-moved .jsondiffpatch-moved-destination:before {\r\n  content: ' => ';\r\n}\r\nul.jsondiffpatch-textdiff {\r\n  padding: 0;\r\n}\r\n.jsondiffpatch-textdiff-location {\r\n  color: #bbb;\r\n  display: inline-block;\r\n  min-width: 60px;\r\n}\r\n.jsondiffpatch-textdiff-line {\r\n  display: inline-block;\r\n}\r\n.jsondiffpatch-textdiff-line-number:after {\r\n  content: ',';\r\n}\r\n.jsondiffpatch-error {\r\n  background: red;\r\n  color: white;\r\n  font-weight: bold;\r\n}\r\n",""]);const o=s},2267:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});var n=r(8081),i=r.n(n),a=r(3645),s=r.n(a)()(i());s.push([t.id,'.dbItemPanel_clickout {\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tbackground-color: rgba(0,0,0,0.5);\r\n\tcursor: pointer;\r\n\t-webkit-animation: fade-in var(--time-active) linear;\r\n\t        animation: fade-in var(--time-active) linear;\r\n}\r\n\r\n.dbItemPanel_wrapper {\r\n\tdisplay: flex;\r\n\tposition: fixed;\r\n\theight: 100vh;\r\n\t--panelMaxWidth: 80vw;\r\n\t--padding-edge: 0.5rem;\r\n\tmax-width: var(--panelMaxWidth);\r\n\twidth: 50em;\r\n\tright: 0;\r\n\ttop: 0;\r\n\tbackground-color: var(--bg0);\r\n\tflex-direction: column;\r\n\toverflow: hidden;\r\n\toverflow-y: auto;\r\n\tbox-shadow: -1rem 0 1rem #000;\r\n\t-webkit-animation: slide-in-right var(--time-active) linear;\r\n\t        animation: slide-in-right var(--time-active) linear;\r\n\tz-index: 999\r\n}\r\n\r\n.dbItemPanel_wrapper::before {\r\n    content: "";\r\n    position: fixed;\r\n    top: 0;\r\n\t\tleft: 0;\r\n    right: 0;\r\n\t\tbottom: 0;\r\n\t\tz-index: -1;\r\n    display: block;\r\n\t\tpointer-events: none;\r\n\t\tbackground: radial-gradient(circle at 0%, transparent 20%, #0f161f 60%);\r\n\t\t-webkit-mask: var(--noise), radial-gradient(circle at 0%, transparent 30%, #000 75%);\r\n\t\t        mask: var(--noise), radial-gradient(circle at 0%, transparent 30%, #000 75%);\r\n\t}\r\n\r\n.dbItemPanel_wrapper::after {\r\n\t\tcontent: "";\r\n\t\tposition: fixed;\r\n\t\theight: 5em;\r\n\t\twidth: 100%;\r\n\t\tbottom: 0;\r\n\t\tz-index: 1;\r\n\t\tdisplay: block;\r\n\t\tpointer-events: none;\r\n\t\tbackground: linear-gradient(transparent, #0f161f 60%);\r\n\t\t-webkit-mask: var(--noise), linear-gradient(transparent, #000 80%);\r\n\t\t        mask: var(--noise), linear-gradient(transparent, #000 80%);\r\n\t}\r\n\r\n.dbItemPanel_wrapper label {\r\n\t\topacity: 0.66;\r\n\t\tfont-size: 0.8em;\r\n\t\tpadding-right: 0.2em;\r\n\t}\r\n\r\n.dbItemPanel_wrapper .item-meta_wrapper {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: left;\r\n\t\tpadding: 0 var(--padding-edge);\r\n\t\tmargin-bottom: 0.5rem\r\n\t}\r\n\r\n.dbItemPanel_wrapper .item-meta_wrapper .attribute {\r\n\t\t\tfont-size: 0.8em;\r\n\t\t\tfont-weight: normal;\r\n\t\t}\r\n\r\n.dbItemPanel_wrapper .item-meta_wrapper .item-badges {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\tflex-wrap: wrap;\r\n\t\t\tjustify-content: left;\r\n\t\t\talign-items: center;\r\n\t\t\tfont-size: 0.9em;\r\n\t\t\tgap: 1em;\r\n\t\t\tmargin-bottom: 0.5em\r\n\t\t}\r\n\r\n.dbItemPanel_wrapper .item-meta_wrapper .item-badges .badge {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\tjustify-content: left;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: 0.25em\r\n\t\t\t}\r\n\r\n.dbItemPanel_wrapper .item-meta_wrapper .item-badges .badge .badge-icon {\r\n\t\t\t\t\t--length: 1.5em;\r\n\t\t\t\t\tmin-width: var(--length);\r\n\t\t\t\t\tmin-height: var(--length);\r\n\t\t\t\t\tbackground-size: cover;\r\n\t\t\t\t\tbackground-repeat: no-repeat;\r\n\t\t\t\t\tbackground-position: center center;\r\n\t\t\t\t\topacity: 0.5;\r\n\t\t\t\t\tvertical-align: center;\r\n\t\t\t\t}\r\n\r\n.dbItemPanel_wrapper .item-meta_wrapper .item-badges .badge .badge-svg {\r\n\t\t\t\t\t--length: 1.5em;\r\n\t\t\t\t\t--path: attr(data-icon);\r\n\t\t\t\t\twidth: var(--length);\r\n\t\t\t\t\theight: var(--length);\r\n\t\t\t\t\t/* background-color: #fff; */\r\n\t\t\t\t\t/* mask: url("assets/icons.svg#close-x"); */\r\n\t\t\t\t\topacity: 0.5;\r\n\t\t\t\t\tbackground-size: cover;\r\n\t\t\t\t\tbackground-repeat: no-repeat;\r\n\t\t\t\t\tbackground-position: center center;\r\n\t\t\t\t}\r\n\r\n.dbItemPanel_wrapper .item-info_wrapper {\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\trow-wrap: wrap;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: var(--padding-edge)\r\n\t}\r\n\r\n.dbItemPanel_wrapper .item-info_wrapper .modified-info_wrapper {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\tjustify-content: right;\r\n\t\t\talign-items: center;\r\n\t\t\topacity: 0.8;\r\n\t\t}\r\n\r\n.dbItemPanel_wrapper .item-panel_manifest_wrapper {\r\n\t\tpadding: 0 var(--padding-edge) 5rem var(--padding-edge)\r\n\t}\r\n\r\n.dbItemPanel_wrapper .item-panel_manifest_wrapper .item-panel_manifest-property {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\trow-wrap: wrap;\r\n\t\t\tfont-size: 0.9em;\r\n\t\t\talign-items: center\r\n\t\t}\r\n\r\n.dbItemPanel_wrapper .item-panel_manifest_wrapper .item-panel_manifest-property label {\r\n\t\t\t\tmargin-right: 0.2em;\r\n\t\t\t}\r\n\r\n.dbItemPanel_wrapper .item-panel_manifest_wrapper .dbItemPanel_json {\r\n\t\t\twidth: 100%;\r\n\t\t\tfont-size: 0.7em;\r\n\t\t\tline-break: anywhere;\r\n\t\t\toverflow-x: auto;\r\n\t\t\toverflow-y: auto;\r\n\t\t\tfont-family: monospace;\r\n\t\t\t-moz-tab-size: 1em;\r\n\t\t\t  -o-tab-size: 1em;\r\n\t\t\t     tab-size: 1em;\r\n\t\t\twhite-space: pre-wrap;\r\n\t\t\tword-break: keep-all;\r\n\t\t\tposition: relative;\r\n\t\t\tscrollbar-width: none\r\n\t\t}\r\n\r\n.dbItemPanel_wrapper .item-panel_manifest_wrapper .dbItemPanel_json::-webkit-scrollbar {\r\n\t\t\t\tdisplay: none;\r\n\t\t\t}\r\n\r\n.dbItemPanel_wrapper .item-panel_manifest_wrapper .dbItemPanel_json a {\r\n\t\t\t\tfont-size: 1.2em;\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\tbackground-color: hsla(var(--theme-interact-hsl), 0.1);\r\n\t\t\t\tpadding: 0.2em 0.4em;\r\n\t\t\t\tmargin: 0 0.2em;\r\n\t\t\t\tborder-radius: var(--theme-border-radius);\r\n\t\t\t}\r\n\r\n.dbItemPanel_wrapper .dbItemPanel_header {\r\n\t\tmargin-bottom: 1em;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\twidth: 100%;\r\n\t\tbox-shadow: 0 1rem 1rem rgba(0,0,0,0.25);\r\n\t\tbackground-color: rgba(0,0,0,0.15)\r\n\t}\r\n\r\n.dbItemPanel_wrapper .dbItemPanel_header .item-img {\r\n\t\t\t--length: 9em;\r\n\t\t\tmin-width: var(--length);\r\n\t\t\tmin-height: var(--length);\r\n\t\t\tbackground-color: rgba(0,0,0,0.66);\r\n\t\t\tbackground-size: contain;\r\n\t\t\tbackground-repeat: no-repeat;\r\n\t\t\tbackground-position: center bottom;\r\n\t\t\tpadding: 0;\r\n\t\t\tmargin: 0;\r\n\t\t\tborder-radius: 0;\r\n\t\t\ttransition: background-color var(--time-active) linear\r\n\t\t}\r\n\r\n.dbItemPanel_wrapper .dbItemPanel_header .item-img:hover {\r\n\t\t\t\tbackground-color: #fff;\r\n\t\t\t}\r\n\r\n.dbItemPanel_wrapper .dbItemPanel_header .titles_wrapper {\r\n\t\t\topacity: 1\r\n\t\t}\r\n\r\n.dbItemPanel_wrapper .dbItemPanel_header .titles_wrapper h2 {\r\n\t\t\t\tfont-size: 1.25em;\r\n\t\t\t\tpadding-top: 1rem;\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\tfont-style: normal;\r\n\t\t\t}\r\n\r\n.dbItemPanel_wrapper .dbItemPanel_header .titles_wrapper h3 {\r\n\t\t\t\tfont-size: 0.75rem;\r\n\t\t\t\tfont-weight: normal;\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\tpadding-left: 0.5rem;\r\n\t\t\t\tfont-style: normal;\r\n\t\t\t}\r\n\r\n.dbItemPanel_wrapper .dbItemPanel_header .dbItemPanel_titles {\r\n\t\t\t--rarity: var(--rarity-common);\r\n\t\t\t--border: 0.2rem solid var(--rarity-common);\r\n\t\t\twidth: 100%;\r\n\t\t\tpadding-left: 1em;\r\n\t\t\tpadding-bottom: 0.5em;\r\n\t\t\tborder-left: var(--border);\r\n\t\t\tborder-left: 0.2rem solid var(--rarity);\r\n\t\t\ttransition: border-color var(--time-state) linear;\r\n\t\t\tposition: relative\r\n\t\t}\r\n\r\n.dbItemPanel_wrapper .dbItemPanel_header .dbItemPanel_titles::before {\r\n\t\t\t\tcontent: "";\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tz-index: -1;\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tpointer-events: none;\r\n\t\t\t\tbackground: linear-gradient(175deg, var(--rarity), rgba(0,0,0,0) 40%);\r\n\t\t\t\t-webkit-mask: var(--noise), linear-gradient(175deg, #000 10%, transparent 35%);\r\n\t\t\t\t        mask: var(--noise), linear-gradient(175deg, #000 10%, transparent 35%);\r\n\t\t\t}\r\n\r\n.dbItemPanel_wrapper .dbItemPanel_header .dbItemPanel_titles .description {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tfont-size: 0.9em;\r\n\t\t\t\tfont-weight: normal;\r\n\t\t\t\tfont-style: italic;\r\n\t\t\t\topacity: 0.75;\r\n\t\t\t\tpadding-right: 0.5em;\r\n\t\t\t\tmax-width: 70ch;\r\n\t\t\t}\r\n\r\n.dbItemPanel_wrapper .dbItemPanel_header .dbItemPanel_titles.legendary {\r\n\t\t\t\t--rarity: var(--rarity-legendary);\r\n\t\t\t}\r\n\r\n.dbItemPanel_wrapper .dbItemPanel_header .dbItemPanel_titles.epic {\r\n\t\t\t\t--rarity: var(--rarity-epic);\r\n\t\t\t}\r\n\r\n.dbItemPanel_wrapper .dbItemPanel_header .dbItemPanel_titles.rare {\r\n\t\t\t\t--rarity: var(--rarity-rare);\r\n\t\t\t}\r\n\r\n.dbItemPanel_wrapper .dbItemPanel_header .dbItemPanel_titles.Offering {\r\n\t\t\t\t--rarity: var(--rarity-store);\r\n\t\t\t}\r\n\r\n.dbItemPanel_wrapper .dbItemPanel_header .favorite {\r\n\t\t\t--length: 2rem;\r\n\t\t\theight: var(--length);\r\n\t\t\twidth: var(--length);\r\n\t\t\tposition: absolute;\r\n\t\t\tright: 0.5rem;\r\n\t\t\ttop: 0.5rem;\r\n\t\t\tbackground-size: cover;\r\n\t\t\tbackground-repeat: no-repeat;\r\n\t\t\tbackground-position: center center\r\n\t\t}\r\n\r\n.dbItemPanel_wrapper .dbItemPanel_header .favorite:hover {\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tbackground-color: transparent;\r\n\t\t\t}\r\n\r\n.dbItemPanel_wrapper .dbItemPanel_header .favorite::before {\r\n\t\t\t\tborder-width: 0;\r\n\t\t\t}\r\n\r\n.dbItemPanel_wrapper .parentSocket {\r\n\t\tdisplay: inline-block;\r\n\t\tbackground-color: hsla(var(--theme-interact-hsl), 0.1);\r\n\t\tpadding: 0 0.2em;\r\n\t\tmargin: 0 0.2em;\r\n\t\tborder-radius: var(--theme-border-radius);\r\n\t}\r\n\r\n.dbItemPanel_wrapper .page-list {\r\n\t\tlist-style-type: none;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tflex-wrap: wrap;\r\n\t\tjustify-content: left;\r\n\t\tmargin-left: var(--padding-edge)\r\n\t}\r\n\r\n.dbItemPanel_wrapper .page-list .hi-box {\r\n\t\t\tmargin: 0.25em 0.2em;\r\n\t\t}\r\n\r\n.dbItemPanel_wrapper .related-items_wrapper {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tpadding: 0 var(--padding-edge) 5rem var(--padding-edge)\r\n\t}\r\n\r\n.dbItemPanel_wrapper .related-items_wrapper .related-items_list {\r\n\t\t\tlist-style-type: none;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\tflex-wrap: wrap;\r\n\t\t\tjustify-content: left;\r\n\t\t}\r\n\r\n.dbItemPanel_wrapper .related-items_wrapper .related-items_show-more_wrapper {\r\n\t\t\twidth: 100%;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\tjustify-content: center;\r\n\t\t}\r\n\r\n.dbItemPanel_wrapper .item-panel_community_wrapper {\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: stretch;\r\n\t\tjustify-content: top;\r\n\t\tposition: relative;\r\n\t\tpadding: var(--padding-edge);\r\n\t\tmargin-bottom: 2rem;\r\n\t\tbox-shadow: 0 1rem 1rem rgba(0,0,0,0.25)\r\n\t}\r\n\r\n.dbItemPanel_wrapper .item-panel_community_wrapper::before, .dbItemPanel_wrapper .item-panel_community_wrapper::after {\r\n\t\t\tcontent: "";\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tright: 0;\r\n\t\t\tbottom: 0;\r\n\t\t\tz-index: -1;\r\n\t\t\tdisplay: block;\r\n\t\t\tpointer-events: none;\r\n\t\t}\r\n\r\n.dbItemPanel_wrapper .item-panel_community_wrapper::before {\r\n\t\t\topacity: 0.66;\r\n\t\t\tbackground: linear-gradient(30deg, var(--bg3), rgba(0,0,0,0) 80%);\r\n\t\t\t-webkit-mask: var(--noise), linear-gradient(30deg, #000 10%, transparent 75%);\r\n\t\t\t        mask: var(--noise), linear-gradient(30deg, #000 10%, transparent 75%);\r\n\t\t}\r\n\r\n.dbItemPanel_wrapper .item-panel_community_wrapper .community_content {\r\n\t\t\twidth: 100%;\r\n\t\t\tborder-left: 0.2rem solid var(--rarity-common);\r\n\t\t\tpadding: 0 var(--padding-edge)\r\n\t\t}\r\n\r\n.dbItemPanel_wrapper .item-panel_community_wrapper .community_content .community_tag-list {\r\n\t\t\t\tlist-style-type: none;\r\n\t\t\t\tdisplay: inline-flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\tflex-wrap: wrap\r\n\t\t\t}\r\n\r\n.dbItemPanel_wrapper .item-panel_community_wrapper .community_content .community_tag-list li {\r\n\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\tbackground-color: hsla(var(--theme-interact-hsl), 0.1);\r\n\t\t\t\t\tpadding: 0 0.2em;\r\n\t\t\t\t\tmargin: 0 0.2em;\r\n\t\t\t\t\tborder-radius: var(--theme-border-radius);\r\n\t\t\t\t}\r\n\r\n.dbItemPanel_wrapper .item-panel_community_wrapper .community_content .community_pop .community_pop-delta {\r\n\t\t\t\t\tfont-size: 0.7em;\r\n\t\t\t\t\tvertical-align: center\r\n\t\t\t\t}\r\n\r\n.dbItemPanel_wrapper .item-panel_community_wrapper .community_content .community_pop .community_pop-delta.pos {\r\n\t\t\t\t\t\tcolor: var(--base-green);\r\n\t\t\t\t\t\tvertical-align: top;\r\n\t\t\t\t\t}\r\n\r\n.dbItemPanel_wrapper .item-panel_community_wrapper .community_content .community_pop .community_pop-delta.neg {\r\n\t\t\t\t\t\tcolor: var(--base-orange);\r\n\t\t\t\t\t\tvertical-align: bottom;\r\n\t\t\t\t\t}\r\n\r\n.dbItemPanel_wrapper .item-panel_community_wrapper .community_content .community_pop .community_pop-type {\r\n\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\tbackground-color: hsla(var(--theme-interact-hsl), 0.1);\r\n\t\t\t\t\tpadding: 0 0.2em;\r\n\t\t\t\t\tborder-radius: var(--theme-border-radius);\r\n\t\t\t\t}\r\n\r\n.dbItemPanel_wrapper .item-panel_community_wrapper header {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\tflex-wrap: wrap;\r\n\t\t\talign-items: center\r\n\t\t}\r\n\r\n.dbItemPanel_wrapper .item-panel_community_wrapper header aside {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\topacity: 0.66;\r\n\t\t\t\tfont-size: 0.8rem;\r\n\t\t\t\tmargin-left: var(--padding-edge);\r\n\t\t\t}\r\n\r\n.dbItemPanel_wrapper .screenshots-wrapper {\r\n\t\tmargin-bottom: 1rem\r\n\t}\r\n\r\n.dbItemPanel_wrapper .screenshots-wrapper .screenshots_list {\r\n\t\t\tlist-style-type: none;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\r\n.dbItemPanel_wrapper .screenshots-wrapper .screenshot-expand-thumb {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 6rem;\r\n\t\t\tbackground-size: 125%;\r\n\t\t\tbackground-repeat: no-repeat;\r\n\t\t\tbackground-position: center 10%;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tjustify-content: flex-end;\r\n\t\t\tpadding-bottom: 1rem;\r\n\t\t\t-webkit-mask-image: linear-gradient(0deg, transparent 0%, #FFF 20%, #FFF 100%);\r\n\t\t\t        mask-image: linear-gradient(0deg, transparent 0%, #FFF 20%, #FFF 100%);\r\n\t\t\ttext-shadow: -0.1rem 0.1rem 0.1rem #000, 0.1rem 0.1rem 0.1rem #000;\r\n\t\t\tfont-weight: bold\r\n\t\t}\r\n\r\n.dbItemPanel_wrapper .screenshots-wrapper .screenshot-expand-thumb:hover {\r\n\t\t\t\ttext-shadow: 0 0 1rem #fff, 0 0 0.5rem #fff;\r\n\t\t\t\t-webkit-mask-image: initial;\r\n\t\t\t\t        mask-image: initial;\r\n\t\t\t}\r\n\r\n.dbItemPanel_image-modal img {\r\n\tmax-width: 100%;\r\n\tmax-height: 100%;\r\n}\r\n\r\n@media(max-width: 500px) {\r\n\t.dbItemPanel_wrapper {\r\n\t\tmin-height: 100vh;\r\n\t\theight: 100%;\r\n\t\toverflow: visible;\r\n\t\toverflow-y: scroll;\r\n\t\tscrollbar-width: none\r\n\t}\r\n\t\t.dbItemPanel_wrapper::-webkit-scrollbar {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\t\t.dbItemPanel_wrapper::before {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\t\t.dbItemPanel_wrapper .dbItemPanel_header {\r\n\t\t\tmargin-bottom: 1em;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column\r\n\t\t}\r\n\t\t\t.dbItemPanel_wrapper .dbItemPanel_header button.item-img {\r\n\t\t\t\t--length: var(--panelMaxWidth);\r\n\t\t\t}\r\n\t\t\t.dbItemPanel_wrapper .dbItemPanel_header .dbItemPanel_titles {\r\n\t\t\t\tpadding-left: 0.5em;\r\n\t\t\t}\r\n\t\t.dbItemPanel_wrapper .dbItemPanel_path a {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\t\t.dbItemPanel_wrapper .dbItemPanel_json {\r\n\t\t\toverflow-x: visible;\r\n\t\t\toverflow-x: initial;\r\n\t\t\toverflow-y: visible;\r\n\t\t\toverflow-y: initial;\r\n\t\t}\r\n\t\t\t.dbItemPanel_wrapper .related-items_wrapper button.dbItemIcon {\r\n\t\t\t\t--lengthMax: 30vw;\r\n\t\t\t}\r\n\t\t.dbItemPanel_wrapper .page-list {\r\n\t\t\tfont-size: 0.8em;\r\n\t\t}\r\n}\r\n\r\n@media(max-height: 500px) {\r\n\t.dbItemPanel_wrapper {\r\n\t\t--panelMaxWidth: 80vh;\r\n\t\tmin-height: 100vh;\r\n\t\theight: 100%;\r\n\t\toverflow: visible;\r\n\t\toverflow-y: scroll;\r\n\t\tscrollbar-width: none\r\n\t}\r\n\t\t.dbItemPanel_wrapper::-webkit-scrollbar {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\t\t.dbItemPanel_wrapper::before {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\t\t.dbItemPanel_wrapper .dbItemPanel_header {\r\n\t\t\tmargin-bottom: 1em;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column\r\n\t\t}\r\n\t\t\t.dbItemPanel_wrapper .dbItemPanel_header .item-img {\r\n\t\t\t\t--length: var(--panelMaxWidth);\r\n\t\t\t}\r\n\t\t\t.dbItemPanel_wrapper .dbItemPanel_header .dbItemPanel_titles {\r\n\t\t\t\tpadding-left: 0.5em;\r\n\t\t\t}\r\n\t\t.dbItemPanel_wrapper .dbItemPanel_path a {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\t\t.dbItemPanel_wrapper .dbItemPanel_json {\r\n\t\t\toverflow-x: visible;\r\n\t\t\toverflow-x: initial;\r\n\t\t\toverflow-y: visible;\r\n\t\t\toverflow-y: initial;\r\n\t\t}\r\n\t\t.dbItemPanel_wrapper .page-list {\r\n\t\t\tfont-size: 0.8em;\r\n\t\t}\r\n}\r\n\r\n.palettes_wrapper {\r\n\tmargin: var(--padding-edge);\r\n\tmargin-bottom: 2rem;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center\r\n}\r\n\r\n.palettes_wrapper header {\r\n\t\talign-self: flex-start;\r\n\t}\r\n\r\n.palettes_wrapper .palettes_list {\r\n\t\tlist-style-type: none;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tpointer-events: none;\r\n\t\tmargin: 0.25rem;\r\n\t\tgap: 1rem;\r\n\t}\r\n\r\n.palettes_wrapper .palettes_nameplate_wrapper {\r\n\t\tposition: relative;\r\n\t\tmin-height: 3rem;\r\n\t\t-webkit-animation: fade-in var(--time-state) linear;\r\n\t\t        animation: fade-in var(--time-state) linear\r\n\t}\r\n\r\n.palettes_wrapper .palettes_nameplate_wrapper .palettes_nameplate {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: auto;\r\n\t\t\tmax-height: 100%;\r\n\t\t\tpointer-events: initial;\r\n\t\t\tborder-radius: var(--theme-border-radius);\r\n\t\t}\r\n\r\n.palettes_wrapper .palettes_nameplate_wrapper .nameplate_content {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\talign-items: center;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0\r\n\t\t}\r\n\r\n.palettes_wrapper .palettes_nameplate_wrapper .nameplate_content .palettes_emblem {\r\n\t\t\t\twidth: 18.75%;\r\n\t\t\t\theight: auto;\r\n\t\t\t\tmargin: 0 4% 0 2.5%;\r\n\t\t\t\tpointer-events: initial;\r\n\t\t\t}\r\n\r\n.palettes_wrapper .palettes_nameplate_wrapper .nameplate_content .nametag_wrapper {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column\r\n\t\t\t}\r\n\r\n.palettes_wrapper .palettes_nameplate_wrapper .nameplate_content .nametag_wrapper .nametag_player {\r\n\t\t\t\t\tfont-size: 1.75em;\r\n\t\t\t\t}\r\n\r\n.palettes_wrapper .palettes_nameplate_wrapper .nameplate_content .nametag_wrapper .nametag_service {\r\n\t\t\t\t\tfont-size: 1.25em;\r\n\t\t\t\t\tfont-style: italic;\r\n\t\t\t\t\t-webkit-user-select: none;\r\n\t\t\t\t\t   -moz-user-select: none;\r\n\t\t\t\t\t        user-select: none;\r\n\t\t\t\t}\r\n\r\n@media(max-width: 650px) {\r\n\t\t.palettes_wrapper .nametag_wrapper {\r\n\t\t\tfont-size: 0.5rem;\r\n\t\t}\r\n}\r\n\r\n.json-diff-wrapper {\r\n\tbackground-color: var(--bg0);\r\n\tpadding: 0.5rem;\r\n}\r\n\r\n.history_dates-list {\r\n\tlist-style: none;\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tflex-wrap: wrap;\r\n\tmargin: 1rem 0\r\n}\r\n\r\n.history_dates-list li {\r\n\t\tfont-size: 0.8em;\r\n\t\tdisplay: inline-block;\r\n\t\tbackground-color: hsla(var(--theme-interact-hsl), 0.1);\r\n\t\tpadding: 0.2em;\r\n\t\tmargin: 0.2em;\r\n\t\tborder-radius: var(--theme-border-radius);\r\n\t}',""]);const o=s},2732:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});var n=r(8081),i=r.n(n),a=r(3645),s=r.n(a)()(i());s.push([t.id,'button.dbItemIcon {\r\n\t--length: 10rem;\r\n\t--lengthMax: 39vw;\r\n\twidth: var(--length);\r\n\theight: var(--length);\r\n\tmax-width: var(--lengthMax);\r\n\tmax-height: var(--lengthMax);\r\n\tmargin: 0.8em;\r\n\tbackground-size: contain;\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position: center center;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: flex-end;\r\n\talign-items: center;\r\n\tbackground-color: rgba(0,0,0,0.25);\r\n\tfont-weight: bold;\r\n\ttext-shadow: -0.1rem 0.1rem 0.1rem #000, 0.1rem 0.1rem 0.1rem #000;\r\n\t/* animation: fade-in var(--time-state) linear; */\r\n\tposition: relative;\r\n\tz-index: 0\r\n}\r\n\r\nbutton.dbItemIcon.ArmorVisor {\r\n\t\tbackground-size: 130%;\r\n\t\tbackground-position: center 60%;\r\n\t}\r\n\r\nbutton.dbItemIcon.Offering {\r\n\t\tbackground-size: cover;\r\n\t}\r\n\r\nbutton.dbItemIcon::before {\r\n\t\tdisplay: block;\r\n\t\tcontent: "";\r\n\t\t--padding: -0.5em;\r\n\t\ttop: var(--padding);\r\n\t\tleft: var(--padding);\r\n\t\tright: var(--padding);\r\n\t\tbottom: var(--padding);\r\n\t\tborder-radius: var(--theme-border-radius);\r\n\t\tposition: absolute;\r\n\t\tborder-width: 0.18em;\r\n\t\tborder-style: solid;\r\n\t\t-o-border-image: linear-gradient(\r\n\t\t\tto bottom,\r\n\t\t\thsla(var(--theme-interact-hsl), 1),\r\n\t\t\thsla(var(--theme-interact-hsl), 1) 7%,\r\n\t\t\thsla(var(--theme-interact-hsl), 0) 8%,\r\n\t\t\thsla(var(--theme-interact-hsl), 0) 12%,\r\n\t\t\thsla(var(--theme-interact-hsl), 0.25) 13%,\r\n\t\t\thsla(var(--theme-interact-hsl), 0.25) 87%,\r\n\t\t\thsla(var(--theme-interact-hsl), 0) 88%,\r\n\t\t\thsla(var(--theme-interact-hsl), 0) 92%,\r\n\t\t\tvar(--rarity) 93%,\r\n\t\t\tvar(--rarity)\r\n\t\t) 1 100%;\r\n\t\t   border-image: linear-gradient(\r\n\t\t\tto bottom,\r\n\t\t\thsla(var(--theme-interact-hsl), 1),\r\n\t\t\thsla(var(--theme-interact-hsl), 1) 7%,\r\n\t\t\thsla(var(--theme-interact-hsl), 0) 8%,\r\n\t\t\thsla(var(--theme-interact-hsl), 0) 12%,\r\n\t\t\thsla(var(--theme-interact-hsl), 0.25) 13%,\r\n\t\t\thsla(var(--theme-interact-hsl), 0.25) 87%,\r\n\t\t\thsla(var(--theme-interact-hsl), 0) 88%,\r\n\t\t\thsla(var(--theme-interact-hsl), 0) 92%,\r\n\t\t\tvar(--rarity) 93%,\r\n\t\t\tvar(--rarity)\r\n\t\t) 1 100%;\r\n\t\tborder-image-slice: 1;\r\n\t\topacity: 0.4;\r\n\t\ttransition: opacity var(--time-state) linear,\r\n\t\t\tborder-width var(--time-active) linear;\r\n\t}\r\n\r\nbutton.dbItemIcon::after {\r\n\t\tdisplay: block;\r\n\t\tcontent: "";\r\n    position: absolute;\r\n    top: 0px;\r\n    right: 0px;\r\n    bottom: 0px;\r\n    left: 0px;\r\n\t}\r\n\r\nbutton.dbItemIcon.selected::before {\r\n\t\t-o-border-image: linear-gradient(\r\n\t\t\tto bottom,\r\n\t\t\thsla(var(--theme-interact-hsl), 1),\r\n\t\t\thsla(var(--theme-interact-hsl), 1) 87%,\r\n\t\t\thsla(var(--theme-interact-hsl), 0) 88%,\r\n\t\t\thsla(var(--theme-interact-hsl), 0) 92%,\r\n\t\t\tvar(--rarity) 93%,\r\n\t\t\tvar(--rarity)\r\n\t\t) 1 100%;\r\n\t\t   border-image: linear-gradient(\r\n\t\t\tto bottom,\r\n\t\t\thsla(var(--theme-interact-hsl), 1),\r\n\t\t\thsla(var(--theme-interact-hsl), 1) 87%,\r\n\t\t\thsla(var(--theme-interact-hsl), 0) 88%,\r\n\t\t\thsla(var(--theme-interact-hsl), 0) 92%,\r\n\t\t\tvar(--rarity) 93%,\r\n\t\t\tvar(--rarity)\r\n\t\t) 1 100%;\r\n\t\tborder-image-slice: 1;\r\n\t\topacity: 1;\r\n\t}\r\n\r\nbutton.dbItemIcon>span {\r\n\t\twidth: 100%;\r\n\t\topacity: 1;\r\n\t\ttransition: opacity var(--time-active) linear;\r\n\t\tfont-size: 0.9em;\r\n\t\tmargin-bottom: 0.7rem;\r\n\t\tword-wrap: break-word;\r\n\t\tz-index: 2;\r\n\t}\r\n\r\nbutton.dbItemIcon:hover {\r\n    background-color: rgba(255,255,255,1);\r\n\t\tcolor: #000;\r\n\t\ttext-shadow: 0 0 1rem #fff, 0 0 0.5rem #fff\r\n\t}\r\n\r\nbutton.dbItemIcon:hover::before {\r\n\t\t\tborder-width: 0.25em;\r\n\t\t}\r\n\r\nbutton.dbItemIcon:hover>span {\r\n\t\topacity: 1;\r\n\t}\r\n\r\nbutton.dbItemIcon:hover::before, button.dbItemIcon:focus::before {\r\n\t\topacity: 1;\r\n\t}\r\n\r\nbutton.dbItemIcon.invert-hover:hover {\r\n\t\tfilter: invert(1);\r\n\t\tbackground-color: #000;\r\n\t\tcolor: #fff;\r\n\t\ttext-shadow: 0 0 1rem #000, 0 0 0.5rem #000\r\n\t}\r\n\r\nbutton.dbItemIcon.invert-hover:hover::before {\r\n\t\t\tfilter: invert(1);\r\n\t\t}\r\n\r\nbutton.dbItemIcon .item-type-icon {\r\n\t\tposition: absolute;\r\n\t\t--typeLength: 2.3rem;\r\n\t\twidth: var(--typeLength);\r\n\t\theight: var(--typeLength);\r\n\t\ttop: -0.1rem;\r\n\t\tright: 0.5rem;\r\n\t\t-webkit-mask-size: contain;\r\n\t\t        mask-size: contain;\r\n\t\t-webkit-mask-repeat: no-repeat;\r\n\t\t        mask-repeat: no-repeat;\r\n\t\t-webkit-mask-position: center center;\r\n\t\t        mask-position: center center;\r\n\t\tbackground-size: contain;\r\n\t\tbackground-repeat: no-repeat;\r\n\t\tbackground-position: center center;\r\n\t\toverflow: hidden;\r\n\t\tborder-radius: 0.1rem\r\n\t}\r\n\r\nbutton.dbItemIcon .item-type-icon.WeaponCoating {\r\n\t\t\ttransform: rotate(-30deg);\r\n\t\t\tbackground-color: rgb(128,128,128);\r\n\t\t}\r\n\r\nbutton.dbItemIcon .item-type-icon.VehicleCoating {\r\n\t\t\tbackground-color: rgb(128,128,128);\r\n\t\t}\r\n\r\nbutton.dbItemIcon .item-type-icon.ArmorCoating {\r\n\t\t\ttop: 0.7rem;\r\n\t\t\tright: 0.4rem;\r\n\t\t\t--typeLength: 1.5rem;\r\n\t\t}\r\n\r\nbutton.dbItemIcon .item-type-icon.emblem {\r\n\t\t\ttop: 0.2rem;\r\n\t\t\tright: 0.2rem;\r\n\t\t\t--typeLength: 1.2rem;\r\n\t\t}\r\n\r\nbutton.dbItemIcon .season-icon {\r\n\t\t--seasonLength: 1em;\r\n\t\twidth: var(--seasonLength);\r\n\t\theight: var(--seasonLength);\r\n\t\tposition: absolute;\r\n\t\tbottom: 0.2rem;\r\n\t\tleft: 0.2rem;\r\n\t\topacity: 1;\r\n\t\tbackground-color: #808080;\r\n\t\t-webkit-mask-size: contain;\r\n\t\t        mask-size: contain;\r\n\t\t-webkit-mask-repeat: no-repeat;\r\n\t\t        mask-repeat: no-repeat;\r\n\t\t-webkit-mask-position: center center;\r\n\t\t        mask-position: center center;\r\n\t\tbackground-size: contain;\r\n\t\tbackground-repeat: no-repeat;\r\n\t\tbackground-position: center center\r\n\t}\r\n\r\nbutton.dbItemIcon .season-icon[data-season="6"] {\r\n\t\t\tbackground-color: var(--rarity-event);\r\n\t\t}\r\n\r\nbutton.dbItemIcon .dbItem-coating-icon {\r\n\t\tdisplay: block;\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\twidth: 33%;\r\n\t\theight: 33%;\r\n\t\tbackground-size: contain;\r\n\t\tbackground-repeat: no-repeat;\r\n\t\tpointer-events: none;\r\n\t}\r\n\r\n@media(max-width: 400px) {\r\n\tbutton.dbItemIcon {\r\n\t\tmargin: 0.7rem;\r\n\t}\r\n}',""]);const o=s},8868:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});var n=r(8081),i=r.n(n),a=r(3645),s=r.n(a)()(i());s.push([t.id,'\r\n\t.armorhall_wrapper .armorhall-canvas_wrapper {\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tpadding: 3rem 0;\r\n\t\tbackground-color: var(--vanity-matte)\r\n\t}\r\n\r\n.armorhall_wrapper .armorhall-canvas_wrapper .vanity-canvas_armor-hall {\r\n\t\t\tmax-height: 100vh;\r\n\t\t\tmin-height: 512px;\r\n\t\t\tmax-width: 100vw;\r\n\t\t\tmin-width: 256px;\r\n\t\t}\r\n\r\n.vanity-menu_wrapper {\r\n\tdisplay: flex;\r\n\tflex-direction: column\r\n}\r\n\r\n.vanity-menu_wrapper .option-wrapper {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column\r\n\t}\r\n\r\n.vanity-menu_wrapper .option-wrapper input[type="range"] {\r\n\t\t\twidth: 8rem;\r\n\t\t}',""]);const o=s},5667:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});var n=r(8081),i=r.n(n),a=r(3645),s=r.n(a)()(i());s.push([t.id,"\r\n\t.vanity-profile_wrapper .mica_header-strip {\r\n\t\tjustify-content: left !important;\r\n\t}\r\n\r\n.vanity-profile_wrapper .vanity-search_input {\r\n\t\tpadding: 0.5em;\r\n\t\tmargin: 0 0.25rem;\r\n\t\tborder: 0;\r\n\t\tbackground-color: transparent;\r\n\t\tmax-width: 100%;\r\n\t\tcolor: var(--theme-text);\r\n\t\tfont-size: 1.25em;\r\n\t\tflex-grow: 2;\r\n\t}\r\n\r\n#vanity-profile-search {\r\n\tmargin-bottom: 0;\r\n}\r\n\r\n.vanity_wrapper .mica_header-strip h2 {\r\n\t\t\tfont-size: 1.3rem;\r\n\t\t\tfont-weight: normal;\r\n\t\t}\r\n\r\n.vanity_wrapper .vanity-placeholder {\r\n\t\tdisplay: flex;\r\n\t\twidth: 100%;\r\n\t\theight: 10rem;\r\n\t\theight: 50vh;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\talign-content: center;\r\n\t\topacity: 0.66;\r\n\t\tpointer-events: none;\r\n\t\t-webkit-user-select: none;\r\n\t\t   -moz-user-select: none;\r\n\t\t        user-select: none;\r\n\t\tpadding: 1rem;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n.vanity_feats_wrapper {\r\n\t--content-pad: 0.5rem\r\n}\r\n\r\n.vanity_feats_wrapper header.mica_header-strip {\r\n\t\tjustify-content: left\r\n\t}\r\n\r\n.vanity_feats_wrapper header.mica_header-strip h2 {\r\n\t\t\tfont-size: 1.3rem;\r\n\t\t\tfont-weight: normal;\r\n\t\t}\r\n\r\n.vanity_feats_wrapper header.mica_header-strip .beta {\r\n\t\t\tfont-size: 0.8rem;\r\n\t\t\topacity: 0.5;\r\n\t\t\tmargin-left: 0.5rem;\r\n\t\t}\r\n\r\n.vanity_feats_wrapper .mica_content {\r\n\t\tposition: relative\r\n\t}\r\n\r\n.vanity_feats_wrapper .mica_content .feats_nameplate-header {\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tright: 0;\r\n\t\t\theight: 240px;\r\n\t\t\tposition: absolute;\r\n\t\t\topacity: 0.5;\r\n\t\t\tbackground-position: center;\r\n\t\t\tbackground-size: cover;\r\n\t\t\t-webkit-mask-image: linear-gradient(-3deg, transparent 0%, transparent 33%, #FFF 100%);\r\n\t\t\t        mask-image: linear-gradient(-3deg, transparent 0%, transparent 33%, #FFF 100%);\r\n\t\t\tpointer-events: none;\r\n\t\t}\r\n\r\n.vanity_feats_wrapper .feats_header {\r\n\t\tmargin-left: var(--content-pad)\r\n\t}\r\n\r\n.vanity_feats_wrapper .feats_header div {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\talign-items: center;\r\n\t\t}\r\n\r\n.vanity_feats_wrapper .feats_header .feats_gamertag {\r\n\t\t\tfont-size: 1.3rem;\r\n\t\t}\r\n\r\n.vanity_feats_wrapper .feats_header .feats_servicetag {\r\n\t\t\tmargin-left: 1rem;\r\n\t\t\tfont-size: 1.1rem;\r\n\t\t\topacity: 0.66\r\n\t\t}\r\n\r\n.vanity_feats_wrapper .feats_header .feats_servicetag .feats_servicetag-bracket {\r\n\t\t\t\topacity: 0.33;\r\n\t\t\t}\r\n\r\n.vanity_feats_wrapper .feats_header .feats_enlisted {\r\n\t\t\topacity: 0.8;\r\n\t\t}\r\n\r\n.vanity_feats_wrapper .feats_header .feats_nameplate_wrapper {\r\n\t\t\t--height: 120px;\r\n\t\t\t--width: 640px;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\tmargin: 2rem 0;\r\n\t\t\tposition: relative;\r\n\t\t\t-webkit-user-select: none;\r\n\t\t\t   -moz-user-select: none;\r\n\t\t\t        user-select: none;\r\n\t\t\tpointer-events: none;\r\n\t\t\toverflow: hidden\r\n\t\t}\r\n\r\n.vanity_feats_wrapper .feats_header .feats_nameplate_wrapper .nameplate {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: auto;\r\n\t\t\t\tmax-width: var(--width);\r\n\t\t\t\tmax-height: var(--height);\r\n\t\t\t\tpointer-events: initial;\r\n\t\t\t\tborder-radius: var(--theme-border-radius);\r\n\t\t\t}\r\n\r\n.vanity_feats_wrapper .feats_header .feats_nameplate_wrapper .nameplate_content {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\twidth: 100%\r\n\t\t\t}\r\n\r\n.vanity_feats_wrapper .feats_header .feats_nameplate_wrapper .nameplate_content .emblem {\r\n\t\t\t\t\twidth: 18.75%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tmax-width: var(--height);\r\n\t\t\t\t\tmax-height: var(--height);\r\n\t\t\t\t\tmargin: 0 4% 0 2.5%;\r\n\t\t\t\t\tpointer-events: initial;\r\n\t\t\t\t}\r\n\r\n.vanity_feats_wrapper .feats_header .feats_nameplate_wrapper .nameplate_content .nameplate_text {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\tjustify-content: left;\r\n\t\t\t\t\talign-items: flex-start\r\n\t\t\t\t}\r\n\r\n.vanity_feats_wrapper .feats_header .feats_nameplate_wrapper .nameplate_content .nameplate_text .gamertag {\r\n\t\t\t\t\t\tfont-size: 1.5em;\r\n\t\t\t\t\t}\r\n\r\n.vanity_feats_wrapper .feats_header .feats_nameplate_wrapper .nameplate_content .nameplate_text .servicetag {\r\n\t\t\t\t\t\tfont-size: 1rem;\r\n\t\t\t\t\t\tfont-style: italic;\r\n\t\t\t\t\t}\r\n\r\n.vanity_feats_wrapper .feats_list {\r\n\t\tmargin-left: var(--content-pad)\r\n\t}\r\n\r\n.vanity_feats_wrapper .feats_list .feats_feat {\r\n\t\t\tmargin-left: var(--content-pad);\r\n\t\t\tmargin-bottom: 2rem\r\n\t\t}\r\n\r\n.vanity_feats_wrapper .feats_list .feats_feat .feat_feat-type {\r\n\t\t\t\tfont-size: 1.1rem;\r\n\t\t\t\topacity: 0.8;\r\n\t\t\t\tmargin: 0.5rem 0;\r\n\t\t\t\ttext-transform: uppercase;\r\n\t\t\t}\r\n\r\n.vanity_feats_wrapper .feat_reward-link {\r\n\t\tdisplay: inline-block;\r\n\t\tbackground-color: hsla(var(--theme-interact-hsl), 0.1);\r\n\t\tpadding: 0.2em 0.4em;\r\n\t\tmargin: 0.2em;\r\n\t\tborder-radius: var(--theme-border-radius);\r\n\t\tcolor: var(--theme-text);\r\n\t}",""]);const o=s},3415:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>K});var n=r(8081),i=r.n(n),a=r(3645),s=r.n(a),o=r(1667),l=r.n(o),c=new URL(r(8945),r.b),h=new URL(r(191),r.b),d=new URL(r(3479),r.b),u=new URL(r(1321),r.b),p=s()(i()),f=l()(c),m=l()(h,{hash:"#dots-h"}),g=l()(h,{hash:"#menu"}),b=l()(h,{hash:"#menu-open"}),v=l()(h,{hash:"#dots-v"}),y=l()(h,{hash:"#search"}),w=l()(h,{hash:"#settings"}),_=l()(h,{hash:"#filter"}),x=l()(h,{hash:"#alert"}),k=l()(h,{hash:"#info"}),S=l()(h,{hash:"#link"}),I=l()(h,{hash:"#copy"}),M=l()(h,{hash:"#share"}),D=l()(h,{hash:"#discord"}),C=l()(h,{hash:"#ritual"}),A=l()(h,{hash:"#close-x"}),P=l()(h,{hash:"#forge"}),$=l()(h,{hash:"#quote"}),T=l()(h,{hash:"#eye"}),E=l()(h,{hash:"#download"}),O=l()(h,{hash:"#save"}),R=l()(h,{hash:"#trash"}),L=l()(h,{hash:"#upload"}),F=l()(h,{hash:"#play"}),j=l()(h,{hash:"#stop"}),z=l()(h,{hash:"#step"}),N=l()(h,{hash:"#help"}),B=l()(h,{hash:"#minimize"}),H=l()(h,{hash:"#maximize"}),V=l()(h,{hash:"#checked"}),W=l()(h,{hash:"#unchecked"}),U=l()(h,{hash:"#arrow-left"}),q=l()(h,{hash:"#arrow-right"}),Z=l()(h,{hash:"#ugc-rec-badge"}),X=l()(h,{hash:"#ugc-2"}),G=l()(h,{hash:"#ugc-2-r"}),Y=l()(h,{hash:"#ugc-6"}),Q=l()(d,{hash:"#ArmorEmblem"}),J=l()(u);p.push([t.id,':root {\r\n\t--app-size: 1rem;\r\n\t--app-font-size: 1rem;\r\n\tfont-size: 1rem;\r\n\tfont-size: var(--app-size);\r\n\r\n\t--theme-fonts: \'Titillium Web\', "Noto Sans", "Roboto", "system-ui", "system", sans-serif;\r\n\r\n\t--base-bright: #d6dbdc;\t\t--base-bright-hsl: 186, 8%, 85%;\r\n\t--base-light: #839496;\t\t--base-light-hsl: 186, 8%, 55%;\r\n\t--base-dark: #36393f;\t\t--base-dark-hsl: 220, 8%, 23%;\r\n\t--base-darkish: #333333;\t--base-darkish-hsl: 0, 0%, 21%;\r\n\t--base-darker: #04202a;\t\t--base-darker-hsl: 195, 82%, 9%;\r\n\t--base-yellow: #f1c40e;\t\t--base-yellow-hsl: 48, 89%, 50%;\r\n\t--base-orange: #cb4b16;\t\t--base-orange-hsl: 18, 80%, 44%;\r\n\t--base-red: #dc322f;\t\t--base-red-hsl: 1, 71%, 52%;\r\n\t--base-magenta: #d33682;\t--base-magenta-hsl: 331, 64%, 52%;\r\n\t--base-violet: #6c71c4;\t\t--base-violet-hsl: 237, 43%, 60%;\r\n\t--base-cyan: #45a7b9;\t\t--base-cyan-hsl: 189, 46%, 50%;\r\n\t--base-blue: #2e8dcd;\t\t--base-blue-hsl: 204, 63%, 49%;\r\n\t--base-green: #538b41;\t--base-green-hsl: 145, 63%, 49%;\r\n\t--base-white: #fff;\t\t\t--base-white-hsl: 0, 0%, 100%;\r\n\r\n\t--time-state: 0.2s;\r\n\t--time-active: 0.1s;\r\n\t--time-pulse: 1s;\r\n\r\n\t--time-hold-short: 1000ms;\r\n\t--time-hold-long: 5000ms;\r\n\r\n\t--theme-shadow: 0 0.5rem 0.75rem -0.75rem rgba(0, 0, 0, 0.5);\r\n\t--theme-shadow-hover: 0 1rem 0.75rem -1rem rgba(0, 0, 0, 0.75);\r\n\t--theme-shadow-right: 0.5rem 0rem 0.75rem -0.75rem rgba(0, 0, 0, 0.75);\r\n\t--theme-shadow-right-hover: 1rem 0rem 0.75rem -1rem rgba(0, 0, 0, 0.75);\r\n\t--theme-shadow-cover: 0 0.5rem 1.75rem -0.25rem rgba(0, 0, 0, 0.5);\r\n\r\n\t--theme-border-radius: 0.2em; --theme-radius: 0.25em;\r\n\t--theme-border: 0.1rem solid hsla(var(--theme-accent-hsl), 0.75);\r\n\r\n\t--theme-padding: 0.25em; --theme-padding-double: 0.5em; --theme-padding-thin: 0.15em;\r\n\r\n\t/*Dark Theme*/\r\n\t--theme-primary: var(--base-dark);\t\t--theme-primary-hsl: var(--base-dark-hsl);\r\n\t--theme-secondary: var(--base-darkish);\t--theme-secondary-hsl: var(--base-darkish-hsl);\r\n\t--theme-accent: #102150;\t\t--theme-accent-hsl: 224, 67%, 19%;\r\n\t--theme-text: var(--base-bright);\t\t--theme-text-hsl: var(--base-bright-hsl);\r\n\t--theme-interact: var(--base-white);\t--theme-interact-hsl: var(--base-white-hsl);\r\n\t--theme-active: var(--base-blue);\t\t--theme-active-hsl: var(--base-blue-hsl);\r\n\t--theme-error: var(--base-red);\t\t\t--theme-error-hsl: var(--base-red-hsl);\r\n\t--theme-blank: #000;\r\n\t--theme-activate: #2ec3e5;\r\n\r\n\t--rarity-legendary: #a6701b;\r\n\t--rarity-epic: #5948b0;\r\n\t--rarity-rare: #2a71a7;\r\n\t--rarity-common: #808080;\r\n\t--rarity-event: #f15d22;\r\n\t--rarity-store: var(--base-green);\r\n\r\n\t--bg0: #141c27;\r\n\t--bg1: #0f161f;\r\n\t--bg2: #000;\r\n\t--bg3: rgba(16,33,80,0.66);\r\n\t--bg4: rgb(40,49,64);\r\n\t\r\n\t--vanity-matte: transparent;\r\n\t\r\n\t/* --bg0: #2b4165;\r\n\t--bg1: #394f76;\r\n\t--bg2: #fff;\r\n\t--bg3: #25487a;\r\n\t--bg4: #2b4165; */\r\n\r\n\t--noise: url('+f+');\r\n\r\n\t/*Light Theme*/\r\n\t/*--theme-primary: #fff;\t\t\t\t--theme-primary-hsl: 360, 100%, 100%;\r\n\t--theme-secondary: hsl(0, 0%, 95%);\t\t\t\t--theme-secondary-hsl: 0, 0%, 95%;\r\n\t--theme-accent: #000;\t\t\t\t\t--theme-accent-hsl: 0, 0%, 0%;\r\n\t--theme-text: #1a1a1a;\t\t\t\t\t--theme-text-hsl: 0, 0%, 10%;\r\n\t--theme-interact: var(--base-green);\t\t--theme-interact-hsl: var(--base-green-hsl);\r\n\t--theme-active: var(--base-blue);\t\t\t--theme-active-hsl: var(--base-blue-hsl);*/\r\n}\r\n\r\nhtml {\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\tbox-sizing: border-box;\r\n\tbackground-color: #141c27;\r\n\tbackground-color: var(--bg0);\r\n}\r\n\r\n*, *::before, *::after {\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n\tbox-sizing: inherit;\r\n\tfont-family: \'Titillium Web\', "Noto Sans", "Roboto", "system-ui", "system", sans-serif;\r\n\tfont-family: var(--theme-fonts);\r\n}\r\n\r\nbody {\r\n\tfont-size: 12pt;\r\n\tfont-size: 1rem;\r\n\tfont-size: var(--app-font-size);\r\n\tcolor: #ccc;\r\n\tmin-height: 100%\r\n}\r\n\r\nbody::before, body::after {\r\n    content: "";\r\n    position: fixed;\r\n    top: 0;\r\n\t\tleft: 0;\r\n    right: 0;\r\n\t\tbottom: 0;\r\n\t\tz-index: -1;\r\n    display: block;\r\n\t\tpointer-events: none;\r\n  }\r\n\r\nbody::before {\r\n\t\tbackground: radial-gradient(circle at 66%, transparent 30%, #0f161f 60%);\r\n\t\tbackground: radial-gradient(circle at 66%, transparent 30%, var(--bg1) 60%);\r\n\t\t-webkit-mask: url('+f+"), radial-gradient(circle at 66%, transparent 40%, #000 75%);\r\n\t\t        mask: url("+f+"), radial-gradient(circle at 66%, transparent 40%, #000 75%);\r\n\t\t-webkit-mask: var(--noise), radial-gradient(circle at 66%, transparent 40%, #000 75%);\r\n\t\t        mask: var(--noise), radial-gradient(circle at 66%, transparent 40%, #000 75%);\r\n\t}\r\n\r\nbody::after {\r\n    -webkit-mask-image: url("+f+"), linear-gradient(-80deg, #000 0%, transparent 25%, transparent 75%, #000 100%);\r\n            mask-image: url("+f+'), linear-gradient(-80deg, #000 0%, transparent 25%, transparent 75%, #000 100%);\r\n    -webkit-mask-image: var(--noise), linear-gradient(-80deg, var(--bg2) 0%, transparent 25%, transparent 75%, var(--bg2) 100%);\r\n            mask-image: var(--noise), linear-gradient(-80deg, var(--bg2) 0%, transparent 25%, transparent 75%, var(--bg2) 100%);\r\n    background: linear-gradient(-80deg, rgba(16,33,80,0.66) 20%, transparent 45%, transparent 75%, rgb(40,49,64) 90%);\r\n    background: linear-gradient(-80deg, var(--bg3) 20%, transparent 45%, transparent 75%, var(--bg4) 90%);\r\n  }\r\n\r\nfooter {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tflex-wrap: wrap;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tpadding: 2em;\r\n\topacity: 0.5;\r\n\tfont-size: 0.8em\r\n}\r\n\r\nfooter div {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tflex-wrap: wrap;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\nfooter a {\r\n\t\ttext-decoration: underline;\r\n\t}\r\n\r\nfooter span {\r\n\t\tpadding-left: 0.33em;\r\n\t}\r\n\r\nfooter p {\r\n\t\tpadding-top: 1em;\r\n\t\tmax-width: 50em;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\nmain {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tflex-wrap: wrap;\r\n\tz-index: 1;\r\n}\r\n\r\na:not([class]), .parentSocket {\r\n\tfont-size: 1em;\r\n\tcolor: #d6dbdc;\r\n\tcolor: var(--theme-text);\r\n\ttext-underline-offset: 0.15em;\r\n\t-webkit-text-decoration-skip: ink;\r\n\t        text-decoration-skip-ink: auto;\r\n\t-webkit-text-decoration-color: hsla(0, 0%, 100%, 0.5);\r\n\t        text-decoration-color: hsla(0, 0%, 100%, 0.5);\r\n\t-webkit-text-decoration-color: hsla(var(--theme-interact-hsl), 0.5);\r\n\t        text-decoration-color: hsla(var(--theme-interact-hsl), 0.5);\r\n\ttransition: -webkit-text-decoration-color 0.2s linear;\r\n\ttransition: text-decoration-color 0.2s linear;\r\n\ttransition: text-decoration-color 0.2s linear, -webkit-text-decoration-color 0.2s linear;\r\n\ttransition: -webkit-text-decoration-color var(--time-state) linear;\r\n\ttransition: text-decoration-color var(--time-state) linear;\r\n\ttransition: text-decoration-color var(--time-state) linear, -webkit-text-decoration-color var(--time-state) linear\r\n}\r\n\r\n:is(a:not([class]),.parentSocket):hover {\r\n\t\t-webkit-text-decoration-color: hsla(0, 0%, 100%, 1);\r\n\t\t        text-decoration-color: hsla(0, 0%, 100%, 1);\r\n\t\t-webkit-text-decoration-color: hsla(var(--theme-interact-hsl), 1);\r\n\t\t        text-decoration-color: hsla(var(--theme-interact-hsl), 1);\r\n\t}\r\n\r\n:is(a:not([class]),.parentSocket):focus {\r\n\t\toutline: 0.1em solid hsla(0, 0%, 100%, 0.5);\r\n\t\toutline: 0.1em solid hsla(var(--theme-interact-hsl), 0.5);\r\n\t\toutline-offset: 0.15em;\r\n\t}\r\n\r\n.display-none {\r\n\tdisplay: none;\r\n}\r\n\r\n@-webkit-keyframes slide-in-right {\r\n\t0% {\r\n\t\ttransform: translateX(100%);\r\n\t}\r\n\t100% {\r\n\t\ttransform: translateY(0%);\r\n\t}\r\n}\r\n\r\n@keyframes slide-in-right {\r\n\t0% {\r\n\t\ttransform: translateX(100%);\r\n\t}\r\n\t100% {\r\n\t\ttransform: translateY(0%);\r\n\t}\r\n}\r\n\r\n@-webkit-keyframes slide-in-top-bottom {\r\n\t0% {\r\n\t\ttransform: translateY(-100%);\r\n\t}\r\n\t100% {\r\n\t\ttransform: translateY(0%);\r\n\t}\r\n}\r\n\r\n@keyframes slide-in-top-bottom {\r\n\t0% {\r\n\t\ttransform: translateY(-100%);\r\n\t}\r\n\t100% {\r\n\t\ttransform: translateY(0%);\r\n\t}\r\n}\r\n\r\n@-webkit-keyframes slide-in-top-bottom-events {\r\n\t0% {\r\n\t\ttransform: translateY(-100%);\r\n\t\tpointer-events: none;\r\n\t}\r\n\t100% {\r\n\t\ttransform: translateY(0%);\r\n\t\tpointer-events: none;\r\n\t}\r\n}\r\n\r\n@keyframes slide-in-top-bottom-events {\r\n\t0% {\r\n\t\ttransform: translateY(-100%);\r\n\t\tpointer-events: none;\r\n\t}\r\n\t100% {\r\n\t\ttransform: translateY(0%);\r\n\t\tpointer-events: none;\r\n\t}\r\n}\r\n\r\n@-webkit-keyframes pop-up {\r\n\t0% {\r\n\t\ttransform: scale(1);\r\n\t}\r\n\t50% {\r\n\t\ttransform: scale(1.05);\r\n\t}\r\n\t100% {\r\n\t\ttransform: scale(1);\r\n\t}\r\n}\r\n\r\n@keyframes pop-up {\r\n\t0% {\r\n\t\ttransform: scale(1);\r\n\t}\r\n\t50% {\r\n\t\ttransform: scale(1.05);\r\n\t}\r\n\t100% {\r\n\t\ttransform: scale(1);\r\n\t}\r\n}\r\n\r\n@-webkit-keyframes scale-in {\r\n\t0% {\r\n\t\ttransform: scale(0);\r\n\t\tpointer-events: none;\r\n\t}\r\n\t100% {\r\n\t\ttransform: scale(1);\r\n\t\tpointer-events: none;\r\n\t}\r\n}\r\n\r\n@keyframes scale-in {\r\n\t0% {\r\n\t\ttransform: scale(0);\r\n\t\tpointer-events: none;\r\n\t}\r\n\t100% {\r\n\t\ttransform: scale(1);\r\n\t\tpointer-events: none;\r\n\t}\r\n}\r\n\r\n@-webkit-keyframes fade-in {\r\n\t0% {\r\n\t\topacity: 0;\r\n\t}\r\n\t100% {\r\n\t\topacity: 1;\r\n\t}\r\n}\r\n\r\n@keyframes fade-in {\r\n\t0% {\r\n\t\topacity: 0;\r\n\t}\r\n\t100% {\r\n\t\topacity: 1;\r\n\t}\r\n}\r\n\r\n/* LOADING THROBBER */\r\n@-webkit-keyframes loading_path {\r\n\t\t0% {\r\n\t\t\t\ttransform: scale(0) translate(0, 0);\r\n\t\t\t\topacity: 0\r\n\t\t}\r\n\t\t5% {\r\n\t\t\t\ttransform: scale(1) translate(128px, 96px);\r\n\t\t\t\topacity: 1\r\n\t\t}\r\n\t\t40% {\r\n\t\t\t\ttransform: scale(1) translate(608px, 96px);\r\n\t\t\t\topacity: 1\r\n\t\t}\r\n\t\t43% {\r\n\t\t\t\topacity: 0\r\n\t\t}\r\n\t\t50%,\r\n\t\tto {\r\n\t\t\t\ttransform: scale(1) translate(800px, 96px);\r\n\t\t\t\topacity: 0\r\n\t\t}\r\n}\r\n@keyframes loading_path {\r\n\t\t0% {\r\n\t\t\t\ttransform: scale(0) translate(0, 0);\r\n\t\t\t\topacity: 0\r\n\t\t}\r\n\t\t5% {\r\n\t\t\t\ttransform: scale(1) translate(128px, 96px);\r\n\t\t\t\topacity: 1\r\n\t\t}\r\n\t\t40% {\r\n\t\t\t\ttransform: scale(1) translate(608px, 96px);\r\n\t\t\t\topacity: 1\r\n\t\t}\r\n\t\t43% {\r\n\t\t\t\topacity: 0\r\n\t\t}\r\n\t\t50%,\r\n\t\tto {\r\n\t\t\t\ttransform: scale(1) translate(800px, 96px);\r\n\t\t\t\topacity: 0\r\n\t\t}\r\n}\r\n\r\n.placeholder_throbber {\r\n\tmargin: 10rem 0;\r\n\talign-self: center\r\n}\r\n\r\n.placeholder_throbber .loading_dot {\r\n\t\t\tfill: currentColor;\r\n\t\t\t-webkit-animation: 2s loading_path cubic-bezier(.1, .7, 1, 1) infinite normal;\r\n\t\t\t        animation: 2s loading_path cubic-bezier(.1, .7, 1, 1) infinite normal\r\n\t}\r\n\r\nbutton {\r\n\t--rarity: rgba(255,255,255,0.25);\r\n\tposition: relative;\r\n\t-webkit-appearance: none;\r\n\t   -moz-appearance: none;\r\n\t        appearance: none;\r\n\twidth: -webkit-fit-content;\r\n\twidth: -moz-fit-content;\r\n\twidth: fit-content;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tborder-radius: 0.2em;\r\n\tborder-radius: var(--theme-border-radius);\r\n\tpadding: 0.25em 0.5em;\r\n\tpadding: var(--theme-padding) var(--theme-padding-double);\r\n\tmargin: 0.25em 0;\r\n\tmargin: var(--theme-padding) 0;\r\n\tbackground-color: transparent;\r\n\tcolor: #d6dbdc;\r\n\tcolor: var(--theme-text);\r\n\tcursor: pointer;\r\n\tfont-family: \'Titillium Web\', "Noto Sans", "Roboto", "system-ui", "system", sans-serif;\r\n\tfont-family: var(--theme-fonts);\r\n\tfont-size: 1em;\r\n\tfont-weight: 400;\r\n\toverflow: visible;\r\n\tborder: none;\r\n\tmargin: 0.2em;\r\n\ttransition: opacity 0.2s linear,\r\n\t\tcolor 0.2s linear,\r\n\t\tbackground 0.2s linear,\r\n\t\ttext-shadow 0.1s linear;\r\n\ttransition: opacity var(--time-state) linear,\r\n\t\tcolor var(--time-state) linear,\r\n\t\tbackground var(--time-state) linear,\r\n\t\ttext-shadow var(--time-active) linear\r\n}\r\n\r\nbutton[disabled] {\r\n\t\topacity: 0.5;\r\n\t\tcursor: default;\r\n\t}\r\n\r\nbutton.active {\r\n\t\tbackground-color: hsla(0, 0%, 100%, 0.1);\r\n\t\tbackground-color: hsla(var(--theme-interact-hsl), 0.1);\r\n\t}\r\n\r\nbutton.featured {\r\n\t\tcolor: #fcba03;\r\n\t\tfont-weight: normal;\r\n\t}\r\n\r\nbutton.rare {\r\n\t\t--rarity: var(--rarity-rare);\r\n\t}\r\n\r\nbutton.epic {\r\n\t\t--rarity: var(--rarity-epic);\r\n\t}\r\n\r\nbutton.legendary {\r\n\t\t--rarity: var(--rarity-legendary);\r\n\t}\r\n\r\nbutton.Offering {\r\n\t\t--rarity: var(--rarity-store);\r\n\t}\r\n\r\nbutton:hover:not([disabled]) {\r\n\t\tcolor: #000;\r\n\t\tbackground-color: hsla(0, 0%, 100%, 1);\r\n\t\tbackground-color: hsla(var(--theme-interact-hsl), 1);\r\n\t}\r\n\r\nbutton:focus:not([disabled]) {\r\n\t\tbackground-color: hsla(0, 0%, 100%, 0.1);\r\n\t\tbackground-color: hsla(var(--theme-interact-hsl), 0.1);\r\n\t}\r\n\r\nbutton .icon-masked {\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\nbutton.hi-box {\r\n\t\tmargin: 0.5em;\r\n\t\tborder-radius: 0.1em;\r\n\t\t--rarity: hsla(var(--theme-interact-hsl), 1);\r\n\t\ttransition: transform 0.1s linear;\r\n\t\ttransition: transform var(--time-active) linear;\r\n\t\tfont-weight: bold\r\n\t}\r\n\r\nbutton.hi-box::before {\r\n\t\t\tdisplay: block;\r\n\t\t\tcontent: "";\r\n\t\t\t--padding: -0.25em;\r\n\t\t\ttop: var(--padding);\r\n\t\t\tleft: var(--padding);\r\n\t\t\tright: var(--padding);\r\n\t\t\tbottom: var(--padding);\r\n\t\t\tborder-radius: 0.2em;\r\n\t\t\tborder-radius: var(--theme-border-radius);\r\n\t\t\tposition: absolute;\r\n\t\t\tborder-width: 0.18em;\r\n\t\t\tborder-style: solid;\r\n\t\t\t-o-border-image: linear-gradient(\r\n\t\t\t\tto bottom,\r\n\t\t\t\thsla(0, 0%, 100%, 1),\r\n\t\t\t\thsla(0, 0%, 100%, 1) 7%,\r\n\t\t\t\thsla(0, 0%, 100%, 0) 8%,\r\n\t\t\t\thsla(0, 0%, 100%, 0) 12%,\r\n\t\t\t\thsla(0, 0%, 100%, 0.25) 13%,\r\n\t\t\t\thsla(0, 0%, 100%, 0.25) 87%,\r\n\t\t\t\thsla(0, 0%, 100%, 0) 88%,\r\n\t\t\t\thsla(0, 0%, 100%, 0) 92%,\r\n\t\t\t\tvar(--rarity) 93%,\r\n\t\t\t\tvar(--rarity)\r\n\t\t\t) 1 100%;\r\n\t\t\t   border-image: linear-gradient(\r\n\t\t\t\tto bottom,\r\n\t\t\t\thsla(0, 0%, 100%, 1),\r\n\t\t\t\thsla(0, 0%, 100%, 1) 7%,\r\n\t\t\t\thsla(0, 0%, 100%, 0) 8%,\r\n\t\t\t\thsla(0, 0%, 100%, 0) 12%,\r\n\t\t\t\thsla(0, 0%, 100%, 0.25) 13%,\r\n\t\t\t\thsla(0, 0%, 100%, 0.25) 87%,\r\n\t\t\t\thsla(0, 0%, 100%, 0) 88%,\r\n\t\t\t\thsla(0, 0%, 100%, 0) 92%,\r\n\t\t\t\tvar(--rarity) 93%,\r\n\t\t\t\tvar(--rarity)\r\n\t\t\t) 1 100%;\r\n\t\t\t-o-border-image: linear-gradient(\r\n\t\t\t\tto bottom,\r\n\t\t\t\thsla(var(--theme-interact-hsl), 1),\r\n\t\t\t\thsla(var(--theme-interact-hsl), 1) 7%,\r\n\t\t\t\thsla(var(--theme-interact-hsl), 0) 8%,\r\n\t\t\t\thsla(var(--theme-interact-hsl), 0) 12%,\r\n\t\t\t\thsla(var(--theme-interact-hsl), 0.25) 13%,\r\n\t\t\t\thsla(var(--theme-interact-hsl), 0.25) 87%,\r\n\t\t\t\thsla(var(--theme-interact-hsl), 0) 88%,\r\n\t\t\t\thsla(var(--theme-interact-hsl), 0) 92%,\r\n\t\t\t\tvar(--rarity) 93%,\r\n\t\t\t\tvar(--rarity)\r\n\t\t\t) 1 100%;\r\n\t\t\t   border-image: linear-gradient(\r\n\t\t\t\tto bottom,\r\n\t\t\t\thsla(var(--theme-interact-hsl), 1),\r\n\t\t\t\thsla(var(--theme-interact-hsl), 1) 7%,\r\n\t\t\t\thsla(var(--theme-interact-hsl), 0) 8%,\r\n\t\t\t\thsla(var(--theme-interact-hsl), 0) 12%,\r\n\t\t\t\thsla(var(--theme-interact-hsl), 0.25) 13%,\r\n\t\t\t\thsla(var(--theme-interact-hsl), 0.25) 87%,\r\n\t\t\t\thsla(var(--theme-interact-hsl), 0) 88%,\r\n\t\t\t\thsla(var(--theme-interact-hsl), 0) 92%,\r\n\t\t\t\tvar(--rarity) 93%,\r\n\t\t\t\tvar(--rarity)\r\n\t\t\t) 1 100%;\r\n\t\t\tborder-image-slice: 1;\r\n\t\t\topacity: 0;\r\n\t\t\ttransition: opacity 0.2s linear,\r\n\t\t\t\tborder-width 0.1s linear;\r\n\t\t\ttransition: opacity var(--time-state) linear,\r\n\t\t\t\tborder-width var(--time-active) linear;\r\n\t\t}\r\n\r\nbutton.hi-box::after {\r\n\t\t\tdisplay: block;\r\n\t\t\tcontent: "";\r\n\t\t\t--padding: -0.25em;\r\n\t\t\ttop: var(--padding);\r\n\t\t\tleft: var(--padding);\r\n\t\t\tright: var(--padding);\r\n\t\t\tbottom: var(--padding);\r\n\t\t\tborder-radius: 0.2em;\r\n\t\t\tborder-radius: var(--theme-border-radius);\r\n\t\t\tposition: absolute;\r\n\t\t\tborder-width: 0.18em;\r\n\t\t\tborder-style: solid;\r\n\t\t\t-o-border-image: linear-gradient(\r\n\t\t\t\tto bottom,\r\n\t\t\t\ttransparent,\r\n\t\t\t\thsla(0, 0%, 100%, 0) 92%,\r\n\t\t\t\tvar(--rarity) 93%,\r\n\t\t\t\tvar(--rarity)\r\n\t\t\t) 1 100%;\r\n\t\t\t   border-image: linear-gradient(\r\n\t\t\t\tto bottom,\r\n\t\t\t\ttransparent,\r\n\t\t\t\thsla(0, 0%, 100%, 0) 92%,\r\n\t\t\t\tvar(--rarity) 93%,\r\n\t\t\t\tvar(--rarity)\r\n\t\t\t) 1 100%;\r\n\t\t\t-o-border-image: linear-gradient(\r\n\t\t\t\tto bottom,\r\n\t\t\t\ttransparent,\r\n\t\t\t\thsla(var(--theme-interact-hsl), 0) 92%,\r\n\t\t\t\tvar(--rarity) 93%,\r\n\t\t\t\tvar(--rarity)\r\n\t\t\t) 1 100%;\r\n\t\t\t   border-image: linear-gradient(\r\n\t\t\t\tto bottom,\r\n\t\t\t\ttransparent,\r\n\t\t\t\thsla(var(--theme-interact-hsl), 0) 92%,\r\n\t\t\t\tvar(--rarity) 93%,\r\n\t\t\t\tvar(--rarity)\r\n\t\t\t) 1 100%;\r\n\t\t\tborder-image-slice: 1;\r\n\t\t\topacity: 0.4;\r\n\t\t\ttransition: opacity 0.2s linear,\r\n\t\t\t\tborder-width 0.1s linear;\r\n\t\t\ttransition: opacity var(--time-state) linear,\r\n\t\t\t\tborder-width var(--time-active) linear;\r\n\t\t}\r\n\r\nbutton.hi-box:active {\r\n\t\t\t-webkit-animation: pop-up 0.1s linear;\r\n\t\t\t        animation: pop-up 0.1s linear;\r\n\t\t\t-webkit-animation: pop-up var(--time-active) linear;\r\n\t\t\t        animation: pop-up var(--time-active) linear;\r\n\t\t}\r\n\r\nbutton.hi-box.active {\r\n\t\t\tbackground-color: transparent;\r\n\t\t}\r\n\r\nbutton.hi-box.active:hover:not([disabled]) {\r\n\t\t\tcolor: #000;\r\n\t\t\tbackground-color: hsla(0, 0%, 100%, 1);\r\n\t\t\tbackground-color: hsla(var(--theme-interact-hsl), 1);\r\n\t\t}\r\n\r\nbutton.hi-box.active::before {\r\n\t\t\topacity: 0.25;\r\n\t\t}\r\n\r\nbutton.hi-box:hover {\r\n\t\t\ttransform: translate(-0.1em, -0.1em);\r\n\t\t}\r\n\r\nbutton.hi-box:hover::before, button.hi-box:focus::before {\r\n\t\t\topacity: 1;\r\n\t\t}\r\n\r\nbutton.hi-box .icon-masked {\r\n\t\t\tmargin-left: -0.25rem;\r\n\t\t}\r\n\r\n.privacy-button {\r\n\tcursor: pointer;\r\n}\r\n\r\n.mica_viewer {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\twidth: 100%;\r\n\tbackground-color: rgba(0,0,0,0.15);\r\n\tbox-shadow: 0 1rem 1rem rgba(0,0,0,0.25);\r\n\tmargin-bottom: 6rem;\r\n\tposition: relative;\r\n\t--sidebar-width: 10em\r\n}\r\n\r\n.mica_viewer .mica_header-strip {\r\n\t\tdisplay: flex;\r\n\t\tbackground-color: rgba(0,0,0,0.25);\r\n\t\tpadding: 1em;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tflex-direction: row;\r\n\t\tflex-wrap: wrap\r\n\t}\r\n\r\n.mica_viewer .mica_header-strip .mica_header-anchor {\r\n\t\t\topacity: 0.8;\r\n\t\t\tcolor: #d6dbdc;\r\n\t\t\tcolor: var(--theme-text);\r\n\t\t\ttext-decoration: none;\r\n\t\t\t-webkit-text-decoration-color: transparent;\r\n\t\t\t        text-decoration-color: transparent;\r\n\t\t\ttransition: opacity 0.2s linear,\r\n\t\t\t\t-webkit-text-decoration-color 0.2s linear;\r\n\t\t\ttransition: text-decoration-color 0.2s linear,\r\n\t\t\t\topacity 0.2s linear;\r\n\t\t\ttransition: text-decoration-color 0.2s linear,\r\n\t\t\t\topacity 0.2s linear,\r\n\t\t\t\t-webkit-text-decoration-color 0.2s linear;\r\n\t\t\ttransition: opacity var(--time-state) linear,\r\n\t\t\t\t-webkit-text-decoration-color var(--time-state) linear;\r\n\t\t\ttransition: text-decoration-color var(--time-state) linear,\r\n\t\t\t\topacity var(--time-state) linear;\r\n\t\t\ttransition: text-decoration-color var(--time-state) linear,\r\n\t\t\t\topacity var(--time-state) linear,\r\n\t\t\t\t-webkit-text-decoration-color var(--time-state) linear\r\n\t\t}\r\n\r\n.mica_viewer .mica_header-strip .mica_header-anchor:hover, .mica_viewer .mica_header-strip .mica_header-anchor:focus {\r\n\t\t\t\topacity: 1;\r\n\t\t\t\ttext-decoration: underline;\r\n\t\t\t\ttext-underline-offset: 0.15em;\r\n\t\t\t\t-webkit-text-decoration-skip: ink;\r\n\t\t\t\t        text-decoration-skip-ink: auto;\r\n\t\t\t\t-webkit-text-decoration-color: hsla(0, 0%, 100%, 0.5);\r\n\t\t\t\t        text-decoration-color: hsla(0, 0%, 100%, 0.5);\r\n\t\t\t\t-webkit-text-decoration-color: hsla(var(--theme-interact-hsl), 0.5);\r\n\t\t\t\t        text-decoration-color: hsla(var(--theme-interact-hsl), 0.5);\r\n\t\t\t\ttransition: -webkit-text-decoration-color 0.2s linear;\r\n\t\t\t\ttransition: text-decoration-color 0.2s linear;\r\n\t\t\t\ttransition: text-decoration-color 0.2s linear, -webkit-text-decoration-color 0.2s linear;\r\n\t\t\t\ttransition: -webkit-text-decoration-color var(--time-state) linear;\r\n\t\t\t\ttransition: text-decoration-color var(--time-state) linear;\r\n\t\t\t\ttransition: text-decoration-color var(--time-state) linear, -webkit-text-decoration-color var(--time-state) linear;\r\n\t\t\t}\r\n\r\n.mica_viewer .mica_header-strip .mica_header-anchor h2 {\r\n\t\t\t\tfont-size: 1.3rem;\r\n\t\t\t\tfont-weight: normal;\r\n\t\t\t}\r\n\r\n.mica_viewer .mica_nav-list {\r\n\t\tlist-style-type: none;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\theight: 100%;\r\n\t\tmin-height: 100%;\r\n\t\tmax-height: 100vh;\r\n\t\toverflow-y: scroll;\r\n\t\tmin-width: var(--sidebar-width);\r\n\t\tscrollbar-width: none;\r\n\t\t/* padding: 0.25rem; */\r\n\t\t/* background-color: rgba(0,0,0,0.15); */\r\n\t\tposition: -webkit-sticky;\r\n\t\tposition: sticky;\r\n\t\ttop: 0;\r\n\t\tpadding-bottom: 3rem;\r\n\t\tpadding-top: 1rem;\r\n\t\t-webkit-mask: linear-gradient(transparent, black 1.5em, black calc(100vh - 4em), transparent);\r\n\t\t        mask: linear-gradient(transparent, black 1.5em, black calc(100vh - 4em), transparent);\r\n\t\t-webkit-mask-position: bottom;\r\n\t\t        mask-position: bottom;\r\n\t\t-webkit-mask-repeat: no-repeat;\r\n\t\t        mask-repeat: no-repeat\r\n\t}\r\n\r\n.mica_viewer .mica_nav-list::-webkit-scrollbar {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\r\n.mica_viewer .mica_nav-list button:not(.mica_mobile-menu_button) {\r\n\t\t\tdisplay: flex;\r\n\t\t\twidth: calc(var(--sidebar-width) - 0.5em);\r\n\t\t\toverflow: hidden;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\tfont-size: 0.9em;\r\n\t\t\tmargin: 0.1em 0.25em\r\n\t\t}\r\n\r\n.mica_viewer .mica_nav-list button.active:not(.mica_mobile-menu_button) {\r\n\t\t\t\tbackground-color: hsla(0, 0%, 100%, 0.1);\r\n\t\t\t\tbackground-color: hsla(var(--theme-interact-hsl), 0.1)\r\n\t\t\t}\r\n\r\n.mica_viewer .mica_nav-list button.active:not(.mica_mobile-menu_button):hover {\r\n\t\t\t\t\tbackground-color: hsla(0, 0%, 100%, 1);\r\n\t\t\t\t\tbackground-color: hsla(var(--theme-interact-hsl), 1);\r\n\t\t\t\t}\r\n\r\n.mica_viewer .mica_nav-list button:not(.mica_mobile-menu_button) span {\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tword-wrap: break-word;\r\n\t\t\t\tword-wrap: break-word;\r\n\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t}\r\n\r\n.mica_viewer .mica_main-content {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tflex-wrap: no-wrap;\r\n\t\twidth: 100%;\r\n\t\tposition: relative\r\n\t}\r\n\r\n.mica_viewer .mica_main-content .mica_mobile-menu_container {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tright: 0;\r\n\t\t\tbottom: 0;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: right;\r\n\t\t\talign-items: flex-end;\r\n\t\t\tpointer-events: none;\r\n\t\t\tz-index: 100\r\n\t\t}\r\n\r\n.mica_viewer .mica_main-content .mica_mobile-menu_container .mica_mobile-menu_button {\r\n\t\t\t\tpointer-events: auto;\r\n\t\t\t}\r\n\r\n.mica_viewer .mica_main-content::before {\r\n\t\t\tcontent: "";\r\n\t\t\tdisplay: block;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tbottom: 0;\r\n\t\t\twidth: var(--sidebar-width);\r\n\t\t\tbackground-color: rgba(0,0,0,0.15);\r\n\t\t}\r\n\r\n.mica_viewer .mica_content {\r\n\t\tpadding: 0.5rem;\r\n\t\t--mica-content-inset: 0.5rem;\r\n\t}\r\n\r\n.mica_viewer .page-controls_wrapper {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\talign-content: center;\r\n\t\tjustify-content: center\r\n\t}\r\n\r\n.mica_viewer .page-controls_wrapper span {\r\n\t\t\tmin-width: 5rem;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\talign-items: center;\r\n\t\t\talign-content: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tpointer-events: none;\r\n\t\t\t-webkit-user-select: none;\r\n\t\t\t   -moz-user-select: none;\r\n\t\t\t        user-select: none;\r\n\t\t}\r\n\r\n.mica_mobile-menu_button {\r\n\tdisplay: none;\r\n}\r\n\r\n@media(max-width: 580px) {\r\n\t.mica_mobile-menu_container {\r\n\t\tz-index: 98;\r\n\t}\r\n\t.mica_mobile-menu_button {\r\n\t\tdisplay: flex;\r\n\t\talign-items: flex-end;\r\n\t\tposition: -webkit-sticky;\r\n\t\tposition: sticky;\r\n\t\theight: 2rem;\r\n\t\tbottom: 0.5rem;\r\n\t\tmargin: 0.5rem;\r\n\t\tpointer-events: initial;\r\n\t\tcolor: #000;\r\n\t\tbackground-color: hsla(0, 0%, 100%, 0.66);\r\n\t\tbackground-color: hsla(var(--theme-interact-hsl), 0.66);\r\n\t}\r\n\t\t.mica_viewer .mica_nav-list.show-mobile {\r\n\t\t\tposition: fixed;\r\n\t\t\tjustify-content: flex-end;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding-bottom: 6rem;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tright: 0;\r\n\t\t\tbottom: 0;\r\n\t\t\tbackground-color: #141c27;\r\n\t\t\tbackground-color: var(--bg0);\r\n\t\t\toverflow-y: scroll;\r\n\t\t\tflex-wrap: wrap;\r\n\t\t\tz-index: 97;\r\n\t\t\t-webkit-animation: slide-in-right 0.1s linear;\r\n\t\t\t        animation: slide-in-right 0.1s linear;\r\n\t\t\t-webkit-animation: slide-in-right var(--time-active) linear;\r\n\t\t\t        animation: slide-in-right var(--time-active) linear;\r\n\t\t\t-webkit-mask: initial;\r\n\t\t\t        mask: initial\r\n\t\t}\r\n\t\t\t.mica_viewer .mica_nav-list.show-mobile button {\r\n\t\t\t\twidth: 10em;\r\n\t\t\t}\r\n\t\t.mica_viewer .mica_mobile-menu_container.show-mobile {\r\n\t\t\tposition: fixed;\r\n\t\t}\r\n\t\t.mica_viewer .mica_mobile-menu_container.hide-mobile {\r\n\t\t\tz-index: 96;\r\n\t\t}\r\n\t\t.mica_viewer .mica_nav-list.hide-mobile {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\t\t.mica_viewer .mica_content {\r\n\t\t\tpadding: 0.2rem;\r\n\t\t\t--mica-content-inset: 0;\r\n\t\t}\r\n\t\t.mica_viewer .mica_main-content {\r\n\t\t\tpadding-bottom: 3rem\r\n\t\t}\r\n\t\t\t.mica_viewer .mica_main-content::before {\r\n\t\t\t\tdisplay: none;\r\n\t\t\t}\r\n}\r\n\r\n.icon-masked {\r\n\tdisplay: inline-block;\r\n\tbackground-color: currentColor;\r\n\theight: 1em;\r\n\twidth: 1em;\r\n\tpadding: 0.7em 0;\r\n\tmargin: 0 0.25em;\r\n\t-webkit-mask-size: contain;\r\n\t        mask-size: contain;\r\n\t-webkit-mask-repeat: no-repeat;\r\n\t        mask-repeat: no-repeat;\r\n\t-webkit-mask-position: center center;\r\n\t        mask-position: center center;\r\n\t-webkit-mask-image: url('+m+");\r\n\t        mask-image: url("+m+")\r\n}\r\n\r\n.icon-masked.icon-menu {\r\n\t\t-webkit-mask-image: url("+g+");\r\n\t\t        mask-image: url("+g+");\r\n\t}\r\n\r\n.icon-masked.icon-menu-open {\r\n\t\t-webkit-mask-image: url("+b+");\r\n\t\t        mask-image: url("+b+");\r\n\t}\r\n\r\n.icon-masked.icon-dots-v {\r\n\t\t-webkit-mask-image: url("+v+");\r\n\t\t        mask-image: url("+v+");\r\n\t}\r\n\r\n.icon-masked.icon-search {\r\n\t\t-webkit-mask-image: url("+y+");\r\n\t\t        mask-image: url("+y+");\r\n\t}\r\n\r\n.icon-masked.icon-settings {\r\n\t\t-webkit-mask-image: url("+w+");\r\n\t\t        mask-image: url("+w+");\r\n\t}\r\n\r\n.icon-masked.icon-filter {\r\n\t\t-webkit-mask-image: url("+_+");\r\n\t\t        mask-image: url("+_+");\r\n\t}\r\n\r\n.icon-masked.icon-alert {\r\n\t\t-webkit-mask-image: url("+x+");\r\n\t\t        mask-image: url("+x+");\r\n\t}\r\n\r\n.icon-masked.icon-info {\r\n\t\t-webkit-mask-image: url("+k+");\r\n\t\t        mask-image: url("+k+");\r\n\t}\r\n\r\n.icon-masked.icon-link {\r\n\t\t-webkit-mask-image: url("+S+");\r\n\t\t        mask-image: url("+S+");\r\n\t}\r\n\r\n.icon-masked.icon-copy {\r\n\t\t-webkit-mask-image: url("+I+");\r\n\t\t        mask-image: url("+I+");\r\n\t}\r\n\r\n.icon-masked.icon-share {\r\n\t\t-webkit-mask-image: url("+M+");\r\n\t\t        mask-image: url("+M+");\r\n\t}\r\n\r\n.icon-masked.icon-discord {\r\n\t\t-webkit-mask-image: url("+D+");\r\n\t\t        mask-image: url("+D+");\r\n\t}\r\n\r\n.icon-masked.icon-ritual {\r\n\t\t-webkit-mask-image: url("+C+");\r\n\t\t        mask-image: url("+C+");\r\n\t}\r\n\r\n.icon-masked.icon-close {\r\n\t\t-webkit-mask-image: url("+A+");\r\n\t\t        mask-image: url("+A+");\r\n\t}\r\n\r\n.icon-masked.icon-forge {\r\n\t\t-webkit-mask-image: url("+P+");\r\n\t\t        mask-image: url("+P+");\r\n\t}\r\n\r\n.icon-masked.icon-quote {\r\n\t\t-webkit-mask-image: url("+$+");\r\n\t\t        mask-image: url("+$+");\r\n\t}\r\n\r\n.icon-masked.icon-eye {\r\n\t\t-webkit-mask-image: url("+T+");\r\n\t\t        mask-image: url("+T+");\r\n\t}\r\n\r\n.icon-masked.icon-download {\r\n\t\t-webkit-mask-image: url("+E+");\r\n\t\t        mask-image: url("+E+");\r\n\t}\r\n\r\n.icon-masked.icon-save {\r\n\t\t-webkit-mask-image: url("+O+");\r\n\t\t        mask-image: url("+O+");\r\n\t}\r\n\r\n.icon-masked.icon-trash {\r\n\t\t-webkit-mask-image: url("+R+");\r\n\t\t        mask-image: url("+R+");\r\n\t}\r\n\r\n.icon-masked.icon-upload {\r\n\t\t-webkit-mask-image: url("+L+");\r\n\t\t        mask-image: url("+L+");\r\n\t}\r\n\r\n.icon-masked.icon-play {\r\n\t\t-webkit-mask-image: url("+F+");\r\n\t\t        mask-image: url("+F+");\r\n\t}\r\n\r\n.icon-masked.icon-stop {\r\n\t\t-webkit-mask-image: url("+j+");\r\n\t\t        mask-image: url("+j+");\r\n\t}\r\n\r\n.icon-masked.icon-step {\r\n\t\t-webkit-mask-image: url("+z+");\r\n\t\t        mask-image: url("+z+");\r\n\t}\r\n\r\n.icon-masked.icon-help {\r\n\t\t-webkit-mask-image: url("+N+");\r\n\t\t        mask-image: url("+N+");\r\n\t}\r\n\r\n.icon-masked.icon-minimize {\r\n\t\t-webkit-mask-image: url("+B+");\r\n\t\t        mask-image: url("+B+");\r\n\t}\r\n\r\n.icon-masked.icon-maximize {\r\n\t\t-webkit-mask-image: url("+H+");\r\n\t\t        mask-image: url("+H+");\r\n\t}\r\n\r\n.icon-masked.icon-checked {\r\n\t\t-webkit-mask-image: url("+V+");\r\n\t\t        mask-image: url("+V+");\r\n\t}\r\n\r\n.icon-masked.icon-unchecked {\r\n\t\t-webkit-mask-image: url("+W+");\r\n\t\t        mask-image: url("+W+");\r\n\t}\r\n\r\n.icon-masked.icon-arrow-left {\r\n\t\t-webkit-mask-image: url("+U+");\r\n\t\t        mask-image: url("+U+");\r\n\t}\r\n\r\n.icon-masked.icon-arrow-right {\r\n\t\t-webkit-mask-image: url("+q+");\r\n\t\t        mask-image: url("+q+");\r\n\t}\r\n\r\n.icon-masked.icon-ugc-rec {\r\n\t\t-webkit-mask-image: url("+Z+");\r\n\t\t        mask-image: url("+Z+");\r\n\t}\r\n\r\n.icon-masked.icon-ugc-0 {\r\n\t\t-webkit-mask-image: url("+P+");\r\n\t\t        mask-image: url("+P+");\r\n\t}\r\n\r\n.icon-masked.icon-ugc-1 {\r\n\t\t-webkit-mask-image: url("+P+");\r\n\t\t        mask-image: url("+P+");\r\n\t}\r\n\r\n.icon-masked.icon-ugc-2 {\r\n\t\t-webkit-mask-image: url("+X+");\r\n\t\t        mask-image: url("+X+");\r\n\t}\r\n\r\n.icon-masked.icon-ugc-2-r {\r\n\t\t-webkit-mask-image: url("+G+");\r\n\t\t        mask-image: url("+G+");\r\n\t}\r\n\r\n.icon-masked.icon-ugc-3 {\r\n\t\t-webkit-mask-image: url("+P+");\r\n\t\t        mask-image: url("+P+");\r\n\t}\r\n\r\n.icon-masked.icon-ugc-4 {\r\n\t\t-webkit-mask-image: url("+P+");\r\n\t\t        mask-image: url("+P+");\r\n\t}\r\n\r\n.icon-masked.icon-ugc-5 {\r\n\t\t-webkit-mask-image: url("+P+");\r\n\t\t        mask-image: url("+P+");\r\n\t}\r\n\r\n.icon-masked.icon-ugc-6 {\r\n\t\t-webkit-mask-image: url("+Y+");\r\n\t\t        mask-image: url("+Y+");\r\n\t}\r\n\r\n.icon-masked.icon-ugc-7 {\r\n\t\t-webkit-mask-image: url("+P+");\r\n\t\t        mask-image: url("+P+");\r\n\t}\r\n\r\n.icon-masked.icon-ugc-8 {\r\n\t\t-webkit-mask-image: url("+P+");\r\n\t\t        mask-image: url("+P+");\r\n\t}\r\n\r\n.icon-masked.icon-ugc-9 {\r\n\t\t-webkit-mask-image: url("+P+");\r\n\t\t        mask-image: url("+P+");\r\n\t}\r\n\r\n.icon-masked.icon-ugc-10 {\r\n\t\t-webkit-mask-image: url("+P+");\r\n\t\t        mask-image: url("+P+");\r\n\t}\r\n\r\n.icon-masked.icon-emblem {\r\n\t\t-webkit-mask-image: url("+Q+");\r\n\t\t        mask-image: url("+Q+");\r\n\t}\r\n\r\n.no-select {\r\n\t-webkit-user-select: none;\r\n\t   -moz-user-select: none;\r\n\t        user-select: none;\r\n}\r\n\r\nselect {\r\n\t-webkit-appearance: none;\r\n\t   -moz-appearance: none;\r\n\t        appearance: none;\r\n\tborder: 0;\r\n\tborder-radius: 0.2em;\r\n\tborder-radius: var(--theme-border-radius);\r\n\tbackground: none;\r\n\tbackground-color: rgba(0,0,0,0.25);\r\n\tmargin: 0 0.2em;\r\n\tcolor: var(--base-text);\r\n\tfont-size: 1rem;\r\n\twidth: 100%;\r\n\tmax-width: 10rem;\r\n\toverflow: visible;\r\n\tword-wrap: break-word;\r\n\tword-wrap: break-word;\r\n\ttext-overflow: ellipsis;\r\n\tcursor: pointer;\r\n\tposition: relative;\r\n\tfont-size: 1em;\r\n\tpadding: 0.2rem;\r\n\tpadding-right: 2rem;\r\n\tmargin: 0.1rem 0;\r\n\tbackground-image: url("+J+");\r\n\tbackground-position: right 10px center;\r\n  background-repeat: no-repeat;\r\n  background-size: auto 50%;\r\n\ttransition: background-color 0.1s linear,\r\n\t\tcolor 0.1s linear;\r\n\ttransition: background-color var(--time-active) linear,\r\n\t\tcolor var(--time-active) linear\r\n}\r\n\r\nselect:hover, select:active, select:focus {\r\n\t\tcolor: #000;\r\n\t\tcolor: initial;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\r\ndetails {\r\n\tbackground-color: rgba(0,0,0, 0.1);\r\n\tborder-radius: 0.2em;\r\n\tborder-radius: var(--theme-border-radius);\r\n\tpadding: 0.5rem;\r\n\tmargin: 0.5rem 0;\r\n\tmax-width: 50ch\r\n}\r\n\r\ndetails summary {\r\n\t\tcursor: pointer;\r\n\t}",""]);const K=p},9674:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});var n=r(8081),i=r.n(n),a=r(3645),s=r.n(a)()(i());s.push([t.id,'\r\n\t.calendar_wrapper .header-notice {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tfont-size: 0.8em;\r\n\t\topacity: 0.66;\r\n\t\tpointer-events: none;\r\n\t\t-webkit-user-select: none;\r\n\t\t   -moz-user-select: none;\r\n\t\t        user-select: none;\r\n\t}\r\n\r\n.calendar_wrapper .calendar-placeholder {\r\n\t\tdisplay: flex;\r\n\t\twidth: 100%;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\talign-content: center;\r\n\t\topacity: 0.66;\r\n\t\tpointer-events: none;\r\n\t\t-webkit-user-select: none;\r\n\t\t   -moz-user-select: none;\r\n\t\t        user-select: none;\r\n\t}\r\n\r\n.calendar_wrapper .calendar_content {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t}\r\n\r\n.calendar_wrapper .mica_nav-list li {\r\n\t\t\tborder-left: .2rem solid var(--theme-text)\r\n\t\t}\r\n\r\n.calendar_wrapper .mica_nav-list li.season {\r\n\t\t\t\tborder-color: var(--rarity-legendary);\r\n\t\t\t}\r\n\r\n.calendar_wrapper .mica_nav-list li.event {\r\n\t\t\t\tborder-color: var(--rarity-epic);\r\n\t\t\t}\r\n\r\n.timeline_wrapper {\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tjustify-content: flex-start;\r\n\talign-items: flex-start;\r\n\talign-content: flex-start\r\n}\r\n\r\n.timeline_wrapper .timeline_list {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tflex-wrap: wrap;\r\n\t\tpadding: 0.5em;\r\n\t\tlist-style-type: none;\r\n\t\tjustify-content: flex-start;\r\n\t\talign-items: center;\r\n\t\talign-content: center;\r\n\t\tgap: 0.2rem\r\n\t}\r\n\r\n.timeline_wrapper .timeline_list .timeline-event {\r\n\t\t\tposition: relative;\r\n\t\t\tborder-radius: var(--theme-border-radius);\r\n\t\t\toverflow: hidden\r\n\t\t}\r\n\r\n.timeline_wrapper .timeline_list .timeline-event .event-bg {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\tright: 0;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\tbackground-size: cover;\r\n\t\t\t\tbackground-repeat: no-repeat;\r\n\t\t\t\tbackground-position: center 35%;\r\n\t\t\t\topacity: 0.33;\r\n\t\t\t\ttransition: opacity var(--time-active) linear;\r\n\t\t\t\tborder: 0.15rem solid var(--rarity-epic);\r\n\t\t\t\tpointer-events: none;\r\n\t\t\t\t-webkit-user-select: none;\r\n\t\t\t\t   -moz-user-select: none;\r\n\t\t\t\t        user-select: none\r\n\t\t\t}\r\n\r\n.timeline_wrapper .timeline_list .timeline-event .event-bg.past {\r\n\t\t\t\t\tfilter: grayscale(80%);\r\n\t\t\t\t\topacity: 0.15;\r\n\t\t\t\t}\r\n\r\n.timeline_wrapper .timeline_list .timeline-event:hover .event-bg {\r\n\t\t\t\topacity: 0.5;\r\n\t\t\t}\r\n\r\n.timeline_wrapper .timeline_list .timeline-event.active .event-bg {\r\n\t\t\t\t\topacity: 0.8;\r\n\t\t\t\t\tborder: 0.15rem solid var(--rarity-event);\r\n\t\t\t\t}\r\n\r\n.timeline_wrapper .timeline_list .timeline-event.active:hover .event-bg {\r\n\t\t\t\t\topacity: 1;\r\n\t\t\t\t}\r\n\r\n.timeline_wrapper .timeline_list .timeline-event.operation .event-bg {\r\n\t\t\t\tborder: 0.15rem solid var(--rarity-legendary);\r\n\t\t\t}\r\n\r\n.timeline_wrapper .timeline_list .timeline-event button {\r\n\t\t\t\t--length: 10rem;\r\n\t\t\t\t--lengthMax: 39vw;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\tbackground-color: rgba(0,0,0,0.25);\r\n\t\t\t\tpadding: 0.75em;\r\n\t\t\t\tmargin: 0;\r\n\t\t\t\tfont-size: 1em;\r\n\t\t\t\theight: var(--length);\r\n\t\t\t\twidth: var(--length);\r\n\t\t\t\tmax-width: var(--lengthMax);\r\n\t\t\t\tmax-height: var(--lengthMax);\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\talign-items: flex-start;\r\n\t\t\t\talign-content: flex-start;\r\n\t\t\t\ttext-shadow: 0.1rem 0.1rem 0.2rem #000, 0.1rem 0.1rem 0.2rem #000;\r\n\t\t\t\ttext-align: left\r\n\t\t\t}\r\n\r\n.timeline_wrapper .timeline_list .timeline-event button:hover {\r\n\t\t\t\t\tcolor: currentColor;\r\n\t\t\t\t}\r\n\r\n.timeline_wrapper .timeline_list .timeline-event button .upcoming {\r\n\t\t\t\t\topacity: 0.5;\r\n\t\t\t\t}\r\n\r\n.timeline_wrapper .timeline_list.rituals {\r\n\t\tflex-grow: 2;\r\n\t}\r\n\r\n.timeline_wrapper .timeline_list.operations {\r\n\t\t/* width: 10rem; */\r\n\t}\r\n\r\n.timeline_wrapper .timeline_list.operations .event-bg {\r\n\t\t\tbackground-size: cover;\r\n\t\t\tbackground-position: right;\r\n\t\t}\r\n\r\n.timeline_wrapper .timeline_list.operations button {\r\n\t\t\theight: 8.2rem;\r\n\t\t\tmax-height: 20.2rem;\r\n\t\t\twidth: 30rem\r\n\t\t}\r\n\r\n.timeline_wrapper .timeline_list.operations button .event-name {\r\n\t\t\t\tfont-size: 1.5rem;\r\n\t\t\t}\r\n\r\n@media(max-width: 580px) {\r\n\t.timeline_wrapper {\r\n\t\tflex-direction: column\r\n\t}\r\n\t\t\t.timeline_wrapper .timeline_list.operations .event-bg {\r\n\t\t\t\tbackground-position: right;\r\n\t\t\t}\r\n\t\t\t.timeline_wrapper .timeline_list.operations button {\r\n\t\t\t\tmax-height: var(--lengthMax)\r\n\t\t\t}\r\n\t\t\t\t.timeline_wrapper .timeline_list.operations button .event-name {\r\n\t\t\t\t\tfont-size: 1rem;\r\n\t\t\t\t}\r\n}\r\n\r\n.reward-track_wrapper {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\twidth: 100%\r\n}\r\n\r\n.reward-track_wrapper ul {\r\n\t\tlist-style-type: none;\r\n\t}\r\n\r\n.reward-track_wrapper header {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\r\n.reward-track_wrapper .dates-list {\r\n\t\tlist-style-type: none;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tflex-wrap: wrap;\r\n\t\talign-items: center\r\n\t\t/* visibility: collapse; */\r\n\t}\r\n\r\n.reward-track_wrapper .dates-list li:not(.event-header) {\r\n\t\t\tbackground-color: red;\r\n\t\t\tbackground-color: rgba(0,0,0,0.25);\r\n\t\t\tpadding: 0.5em;\r\n\t\t\tmargin: 0.2em;\r\n\t\t\tborder-radius: var(--theme-border-radius);\r\n\t\t\tfont-size: 0.8em;\r\n\t\t}\r\n\r\n.reward-track_wrapper .reward-list {\r\n\t\tlist-style-type: none;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tflex-wrap: wrap;\r\n\t\tpadding: 0.5em\r\n\t}\r\n\r\n.reward-track_wrapper .reward-list .rank_rewards {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\tposition: relative;\r\n\t\t\tpadding-bottom: 2em;\r\n\t\t\t-webkit-animation: fade-in var(--time-state) linear;\r\n\t\t\t        animation: fade-in var(--time-state) linear\r\n\t\t}\r\n\r\n.reward-track_wrapper .reward-list .rank_rewards:hover .rank_number {\r\n\t\t\t\tbackground-color: hsla(var(--theme-interact-hsl), 0.25);\r\n\t\t\t}\r\n\r\n.reward-track_wrapper .reward-list .rank_rewards .rank_number {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: left;\r\n\t\t\t\tpadding-left: 0.5em;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tbackground-color: hsla(var(--theme-interact-hsl), 0.1);\r\n\t\t\t\tbottom: 0.8em;\r\n\t\t\t\tleft: 0.5em;\r\n\t\t\t\tright: 0.5em;\r\n\t\t\t\theight: 1.2em;\r\n\t\t\t\tfont-size: 0.9em;\r\n\t\t\t\tborder-radius: var(--theme-border-radius);\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\t-webkit-user-select: none;\r\n\t\t\t\t   -moz-user-select: none;\r\n\t\t\t\t        user-select: none;\r\n\t\t\t\tpoint-events: none;\r\n\t\t\t\ttransition: background-color var(--time-active) linear;\r\n\t\t\t}\r\n\r\n.reward-track_wrapper .reward-list .rank_rewards .rank_reward-items {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\tflex-wrap: wrap;\r\n\t\t\t}\r\n\r\n.reward-track_wrapper .reward-list .rank_rewards .rank_reward-items li {\r\n\t\t\t\tposition: relative\r\n\t\t\t}\r\n\r\n.reward-track_wrapper .reward-list .rank_rewards .rank_reward-items li::before {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tfont-size: 0.8em;\r\n\t\t\t\t\tbottom: -1.5em;\r\n\t\t\t\t\theight: 1em;\r\n\t\t\t\t\twidth: 3rem;\r\n\t\t\t\t\tleft: calc(50% - 1.5rem);\r\n\t\t\t\t\tpadding: 0 0.2rem;\r\n\t\t\t\t\tmargin: 0.1rem;\r\n\t\t\t\t\t-webkit-user-select: none;\r\n\t\t\t\t\t   -moz-user-select: none;\r\n\t\t\t\t\t        user-select: none;\r\n\t\t\t\t\tpoint-events: none;\r\n\t\t\t\t\topacity: 0.8;\r\n\t\t\t\t}\r\n\r\n.reward-track_wrapper .reward-list .rank_rewards .rank_reward-items.free li::before {\r\n\t\t\t\tcontent: "FREE";\r\n\t\t\t}\r\n\r\n.reward-track_wrapper .reward-list .rank_rewards .rank_reward-items.paid li::before {\r\n\t\t\t\tcontent: "PAID";\r\n\t\t\t}\r\n\r\n.reward-track_wrapper .reward-list .rank_rewards .currency::after {\r\n\t\t\t\tcontent: "×" attr(data-quantity);\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tfont-size: 0.8em;\r\n\t\t\t\tbottom: -1.5em;\r\n\t\t\t\theight: 1em;\r\n\t\t\t\twidth: 3rem;\r\n\t\t\t\tright: 0;\r\n\t\t\t\tpadding: 0 0.2rem;\r\n\t\t\t\tmargin: 0.1rem;\r\n\t\t\t\t-webkit-user-select: none;\r\n\t\t\t\t   -moz-user-select: none;\r\n\t\t\t\t        user-select: none;\r\n\t\t\t\tpoint-events: none;\r\n\t\t\t\topacity: 0.8;\r\n\t\t\t}\r\n\r\n@media(max-width: 580px) {\r\n\t.reward-list {\r\n\t\tjustify-content: center !important;\r\n\t}\r\n}\r\n\r\n.capstone-calendar_wrapper {\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tflex-wrap: wrap;\r\n\tjustify-content: left;\r\n\t--padding: 0.5rem;\r\n\tpadding: var(--padding)\r\n}\r\n\r\n.capstone-calendar_wrapper .calendar-item {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: flex-start;\r\n\t\talign-items: center;\r\n\t\tposition: relative;\r\n\t\tborder-radius: var(--theme-border-radius);\r\n\t\tmargin-bottom: 1rem\r\n\t}\r\n\r\n.capstone-calendar_wrapper .calendar-item .date-wrapper {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 1em;\r\n\t\t\tmargin-bottom: 0.2rem;\r\n\t\t\tmargin-left: 0.4rem;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\talign-items: center;\r\n\t\t}\r\n\r\n.capstone-calendar_wrapper .calendar-item.active .date {\r\n\t\t\t\tcolor: var(--rarity-event);\r\n\t\t\t}\r\n\r\n.capstone-calendar_wrapper .calendar-item.active .icon-ritual {\r\n\t\t\t\tbackground-color: var(--rarity-event);\r\n\t\t\t}\r\n\r\n.capstone-calendar_wrapper .calendar-item.past:not(:hover) {\r\n\t\t\tfilter: grayscale(50%);\r\n\t\t\topacity: 0.8\r\n\t\t}\r\n\r\n.capstone-calendar_wrapper .calendar-item.past:not(:hover) a {\r\n\t\t\t\ttext-decoration: line-through;\r\n\t\t\t}\r\n\r\n.capstone-calendar_wrapper .calendar-item:hover .challenge-link {\r\n\t\t\tbackground-color: hsla(var(--theme-interact-hsl), 0.1);\r\n\t\t}\r\n\r\n.capstone-calendar_wrapper .calendar-item .challenge-link {\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tpadding: 0.2em 0.4em;\r\n\t\t\tmargin: 0.1em;\r\n\t\t\tborder-radius: var(--theme-border-radius);\r\n\t\t\tcolor: var(--theme-text);\r\n\t\t\ttext-decoration: none;\r\n\t\t\twidth: 100%;\r\n\t\t\tmax-width: 8rem;\r\n\t\t\ttext-align: center;\r\n\t\t\tposition: relative;\r\n\t\t\tword-wrap: break-word;\r\n\t\t\ttransition: background-color var(--time-active) linear\r\n\t\t}\r\n\r\n.capstone-calendar_wrapper .calendar-item .challenge-link:hover {\r\n\t\t\t\tbackground-color: hsla(var(--theme-interact-hsl), 0.25);\r\n\t\t\t}\r\n\r\n@media(max-width: 580px) {\r\n\t.timeline_wrapper {\r\n\t\tflex-direction: column\r\n\t}\r\n\t\t.timeline_wrapper .timeline_list.operations button {\r\n\t\t\tmax-height: var(--lengthMax);\r\n\t\t}\r\n}\r\n\r\n.economy {\r\n\twidth: 100%\r\n}\r\n\r\n.economy input[type=date] {\r\n\t\tbackground: none;\r\n\t\tbackground-color: rgba(0,0,0,0.15);\r\n\t\tpadding: 0.2rem;\r\n\t\tmargin: 0.1rem 0;\r\n\t\tcolor: currentColor;\r\n\t\tborder: none;\r\n\t\tfont-size: 1em;\r\n\t\tborder-radius: var(--theme-border-radius);\r\n\t\ttransition: background-color var(--time-active) linear,\r\n\t\t\tcolor var(--time-active) linear\r\n\t}\r\n\r\n.economy input[type=date]:hover, .economy input[type=date]:active, .economy input[type=date]:focus {\r\n\t\t\tbackground-color: var(--theme-interact);\r\n\t\t\tcolor: #000;\r\n\t\t}\r\n\r\n.economy .economy_store-date {\r\n\t\tdisplay: block;\r\n\t\topacity: 0.8;\r\n\t\tfont-style: italic;\r\n\t\tfont-size: 1.5rem;\r\n\t\tmargin-top: 3rem;\r\n\t\tmargin-left: 1rem;\r\n\t}\r\n\r\n.economy .store-list {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tflex-wrap: wrap;\r\n\t\twidth: 100%;\r\n\t\tpadding: 0.5em;\r\n\t\tlist-style-type: none;\r\n\t\tjustify-content: flex-start;\r\n\t\talign-items: center;\r\n\t\talign-content: center;\r\n\t\tgap: 0.2rem\r\n\t}\r\n\r\n.economy .store-list .hi-box {\r\n\t\t\tmargin: 0.25em 0.2em;\r\n\t\t}\r\n\r\n.economy ul.economy-offerings {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tflex-wrap: wrap;\r\n\t\twidth: 100%;\r\n\t\tpadding: 0.5em;\r\n\t\tlist-style-type: none;\r\n\t\tjustify-content: flex-start;\r\n\t\talign-items: flex-start;\r\n\t\talign-content: flex-start;\r\n\t\tgap: 0.2rem\r\n\t}\r\n\r\n.economy ul.economy-offerings > li {\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\r\n.economy ul.economy-offerings .economy-offering {\r\n\t\t\twidth: 100%;\r\n\t\t\tmin-height: 15rem;\r\n\t\t\tbackground-position: top 3rem left;\r\n\t\t\tbackground-size: 25%, cover;\r\n\t\t\tbackground-repeat: no-repeat;\r\n\t\t\tposition: relative;\r\n\t\t\tborder-radius: var(--theme-border-radius);\r\n\t\t\t--rarity: var(--rarity-store)\r\n\t\t}\r\n\r\n.economy ul.economy-offerings .economy-offering.rare {\r\n\t\t\t\t--rarity: var(--rarity-rare);\r\n\t\t\t}\r\n\r\n.economy ul.economy-offerings .economy-offering.epic {\r\n\t\t\t\t--rarity: var(--rarity-epic);\r\n\t\t\t}\r\n\r\n.economy ul.economy-offerings .economy-offering.legendary {\r\n\t\t\t\t--rarity: var(--rarity-legendary);\r\n\t\t\t}\r\n\r\n.economy ul.economy-offerings .economy-offering::before {\r\n\t\t\t\tcontent: "";\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tz-index: -1;\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tpointer-events: none;\r\n\t\t\t\tbackground: linear-gradient(11deg, var(--rarity), rgba(0,0,0,0) 60%);\r\n\t\t\t\t-webkit-mask: var(--noise), linear-gradient(11deg, #000 30%, transparent 55%);\r\n\t\t\t\t        mask: var(--noise), linear-gradient(11deg, #000 30%, transparent 55%);\r\n\t\t\t\tborder-radius: var(--theme-border-radius);\r\n\t\t\t}\r\n\r\n.economy ul.economy-offerings .economy-offering.height-4 {\r\n\t\t\t\t/* background-position: top left; */\r\n\t\t\t}\r\n\r\n.economy ul.economy-offerings .economy-offering header {\r\n\t\t\t\ttop: 1rem;\r\n\t\t\t\tleft: 1rem;\r\n\t\t\t\tfont-size: 1.3rem;\r\n\t\t\t\tposition: absolute\r\n\t\t\t}\r\n\r\n.economy ul.economy-offerings .economy-offering header .flair {\r\n\t\t\t\t\topacity: 0.8;\r\n\t\t\t\t\tfont-style: italic;\r\n\t\t\t\t\tfont-size: 1rem;\r\n\t\t\t\t}\r\n\r\n.economy ul.economy-offerings .economy-offering .offering-layout {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\tjustify-content: left;\r\n\t\t\t\tpadding-top: 3rem\r\n\t\t\t}\r\n\r\n.economy ul.economy-offerings .economy-offering .offering-layout .offering-img {\r\n\t\t\t\t\t-o-object-fit: contain;\r\n\t\t\t\t\t   object-fit: contain;\r\n\t\t\t\t\t-o-object-position: bottom;\r\n\t\t\t\t\t   object-position: bottom;\r\n\t\t\t\t\tmax-width: 25vw;\r\n\t\t\t\t\tmax-height: 50vh;\r\n\t\t\t\t\tmin-width: 200px;\r\n\t\t\t\t\theight: auto;\r\n\t\t\t\t\twidth: auto;\r\n\t\t\t\t\t-webkit-mask: linear-gradient(180deg, #000 85%, transparent 100%);\r\n\t\t\t\t\t        mask: linear-gradient(180deg, #000 85%, transparent 100%);\r\n\t\t\t\t}\r\n\r\n.economy ul.economy-offerings .economy-offering .offering-layout .offering-info {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\tjustify-content: center\r\n\t\t\t\t}\r\n\r\n.economy ul.economy-offerings .economy-offering .offering-layout .offering-info aside {\r\n\t\t\t\t\t\topacity: 0.8;\r\n\t\t\t\t\t\tfont-style: italic;\r\n\t\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\t}\r\n\r\n.economy ul.economy-offerings .economy-offering .offering-layout .offering-info .items_list {\r\n\t\t\t\t\t\tlist-style-type: none;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\t\t\tjustify-content: left\r\n\t\t\t\t\t}\r\n\r\n.economy ul.economy-offerings .economy-offering .offering-layout .offering-info .items_list button.dbItemIcon {\r\n\t\t\t\t\t\t\t--lengthMax: 25vw;\r\n\t\t\t\t\t\t}\r\n\r\n@media(max-width: 1000px) {\r\n\t\t.economy-offering::before {\r\n\t\t\tbackground: linear-gradient(141deg, var(--rarity), rgba(0,0,0,0) 60%) !important;\r\n\t\t\t-webkit-mask: var(--noise), linear-gradient(141deg, #000 30%, transparent 55%) !important;\r\n\t\t\t        mask: var(--noise), linear-gradient(141deg, #000 30%, transparent 55%) !important;\r\n\t\t}\r\n\t\t.economy-offering header, .economy-offering aside {\r\n\t\t\ttext-shadow: -0.1rem 0.1rem 0.1rem #000, 0.1rem 0.1rem 0.1rem #000;\r\n\t\t}\r\n\t\t.economy-offering .offering-layout {\r\n\t\t\tflex-direction: column !important;\r\n\t\t\talign-items: flex-start !important;\r\n\t\t\toverflow: clip;\r\n\t\t\tposition: relative\r\n\t\t}\r\n\t\t\t.economy-offering .offering-layout .offering-img {\r\n\t\t\t\talign-self: center;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: -0.5rem;\r\n\t\t\t\twidth: 100% !important;\r\n\t\t\t\tmax-width: 100% !important;\r\n\t\t\t\tmax-height: 15rem !important;\r\n\t\t\t\t-o-object-fit: contain !important;\r\n\t\t\t\t   object-fit: contain !important;\r\n\t\t\t\t-o-object-position: top right;\r\n\t\t\t\t   object-position: top right;\r\n\t\t\t\tz-index: -1;\r\n\t\t\t\t-webkit-mask: linear-gradient(180deg, #000 70%, transparent 95%) !important;\r\n\t\t\t\t        mask: linear-gradient(180deg, #000 70%, transparent 95%) !important;\r\n\t\t\t}\r\n\t\t\t.economy-offering .offering-layout .offering-info {\r\n\t\t\t\tmargin-top: 5rem\r\n\t\t\t}\r\n\t\t\t\t.economy-offering .offering-layout .offering-info aside {\r\n\t\t\t\t\tpadding: 0.5rem 0.3rem;\r\n\t\t\t\t\topacity: 1 !important;\r\n\t\t\t\t}\r\n}\r\n\r\n.career-ranks-list {\r\n\tlist-style-type: none;\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tflex-wrap: wrap;\r\n\tpadding: 0.5em;\r\n\t--rarity: var(--rarity-store)\r\n}\r\n\r\n.career-ranks-list .career-rank {\r\n\t\tlist-style-type: none;\r\n\t\tdisplay: flex;\r\n\t\t/* border: 1px solid red; */\r\n\t\twidth: 12rem;\r\n\t\tmax-width: 45vw;\r\n\t\theight: 12rem;\r\n\t\tmargin: 0.1rem;\r\n\t\tbackground-color: rgba(0,0,0,0.25);\r\n\t\tborder-radius: var(--theme-border-radius)\r\n\t}\r\n\r\n.career-ranks-list .career-rank.has-rewards {\r\n\t\t\tcursor: pointer;\r\n\t\t\ttransition: background-color var(--time-state) linear\r\n\t\t}\r\n\r\n.career-ranks-list .career-rank.has-rewards:hover {\r\n\t\t\t\tbackground-color: rgba(255,255,255,1);\r\n\t\t\t\tcolor: #000;\r\n\t\t\t\ttext-shadow: none\r\n\t\t\t}\r\n\r\n.career-ranks-list .career-rank.has-rewards:hover .rank-subtitle {\r\n\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t}\r\n\r\n.career-ranks-list .career-rank.has-rewards:hover .rank-number {\r\n\t\t\t\t\ttext-shadow: none !important;\r\n\t\t\t\t\ttext-shadow: initial !important;\r\n\t\t\t\t}\r\n\r\n.career-ranks-list .career-rank .rank_rewards {\r\n\t\t\tdisplay: flex;\r\n\t\t\twidth: 100%;\r\n\t\t\tposition: relative\r\n\t\t}\r\n\r\n.career-ranks-list .career-rank .rank_rewards .rank_number {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tz-index: 1\r\n\t\t\t}\r\n\r\n.career-ranks-list .career-rank .rank_rewards .rank_number .rank-number {\r\n\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tleft: 0.8rem;\r\n\t\t\t\t\ttop: 0.6rem;\r\n\t\t\t\t\topacity: 0.8;\r\n\t\t\t\t\tfont-size: 0.8em;\r\n\t\t\t\t\ttext-shadow: -0.05rem 0.05rem 0.1rem #000;\r\n\t\t\t\t}\r\n\r\n.career-ranks-list .career-rank .rank_rewards .rank_number .rank-title {\r\n\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\talign-self: center;\r\n\t\t\t\t\tbottom: 2.2rem;\r\n\t\t\t\t}\r\n\r\n.career-ranks-list .career-rank .rank_rewards .rank_number .rank-subtitle {\r\n\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\talign-self: center;\r\n\t\t\t\t\ttop: 0.6rem;\r\n\t\t\t\t\topacity: 0;\r\n\t\t\t\t\tfont-size: 0.8em;\r\n\t\t\t\t\tz-index: 2;\r\n\t\t\t\t\ttransition: opacity var(--time-state) linear;\r\n\t\t\t\t}\r\n\r\n.career-ranks-list .career-rank .rank_rewards .rank_number .rank-xp {\r\n\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\talign-self: center;\r\n\t\t\t\t\tbottom: 0.8rem;\r\n\t\t\t\t\tfont-size: 0.9em\r\n\t\t\t\t}\r\n\r\n.career-ranks-list .career-rank .rank_rewards .rank_number .rank-xp .fade {\r\n\t\t\t\t\t\topacity: 0.6;\r\n\t\t\t\t\t\tfont-size: 0.8em;\r\n\t\t\t\t\t}\r\n\r\n.career-ranks-list .career-rank .rank_rewards .rank_number .rank-rewards {\r\n\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tright: 0.4rem;\r\n\t\t\t\t\ttop: 0.4rem;\r\n\t\t\t\t\topacity: 0.8;\r\n\t\t\t\t\tfont-size: 1.2rem;\r\n\t\t\t\t}\r\n\r\n.career-ranks-list .career-rank .rank_rewards .rank-img_container {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tposition: relative;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tjustify-content: flex-start;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tpadding: 0.6rem\r\n\t\t\t}\r\n\r\n.career-ranks-list .career-rank .rank_rewards .rank-img_container img {\r\n\t\t\t\t\ttransition: opacity var(--time-state) linear;\r\n\t\t\t\t}\r\n\r\n.career-ranks-list .career-rank .rank_rewards .rank-img_container .rank-img {\r\n\t\t\t\t\theight: 8rem;\r\n\t\t\t\t\twidth: auto;\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tz-index: 1;\r\n\t\t\t\t\t-webkit-user-select: none;\r\n\t\t\t\t\t   -moz-user-select: none;\r\n\t\t\t\t\t        user-select: none;\r\n\t\t\t\t}\r\n\r\n.career-ranks-list .career-rank .rank_rewards .rank-img_container .rank-img_adornment {\r\n\t\t\t\t\theight: 8rem;\r\n\t\t\t\t\twidth: auto;\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tz-index: 1;\r\n\t\t\t\t\t-webkit-user-select: none;\r\n\t\t\t\t\t   -moz-user-select: none;\r\n\t\t\t\t\t        user-select: none;\r\n\t\t\t\t\topacity: 0;\r\n\t\t\t\t\tdisplay: none;\r\n\t\t\t\t}\r\n\r\n.career-ranks-list .career-rank .rank_rewards:hover .rank-subtitle {\r\n\t\t\t\t\topacity: 1;\r\n\t\t\t\t\ttext-shadow: -0.1rem 0.1rem 0.1rem #000, 0.1rem 0.1rem 0.1rem #000;\r\n\t\t\t\t}\r\n\r\n.career-ranks-list .career-rank:hover .rank-img {\r\n\t\t\t\topacity: 0;\r\n\t\t\t}\r\n\r\n.career-ranks-list .career-rank:hover .rank-img_adornment {\r\n\t\t\t\topacity: 1 !important;\r\n\t\t\t\tdisplay: block !important;\r\n\t\t\t}\r\n\r\n.career-rank_details header {\r\n\t\tfont-size: 2rem;\r\n\t}\r\n\r\n.career-rank_details .career-rank_rewards {\r\n\t\tlist-style-type: none;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tflex-wrap: wrap;\r\n\t\tpadding: 0.5em;\r\n\t}',""]);const o=s},8956:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});var n=r(8081),i=r.n(n),a=r(3645),s=r.n(a)()(i());s.push([t.id,"\r\n\t.core-viewer_wrapper .core-viewer_nav ul {\r\n\t\tlist-style-type: none;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tflex-wrap: wrap;\r\n\t\tbackground-color: rgba(0,0,0,0.25);\r\n\t\tpadding: 0 1rem 0.25em;\r\n\t}\r\n\r\n.core-viewer_wrapper .cores-list_nav ul {\r\n\t\tlist-style-type: none;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tflex-wrap: wrap;\r\n\t\tbackground-color: rgba(0,0,0,0.15);\r\n\t\tpadding: 0 1rem 0.25em;\r\n\t}\r\n\r\n.core-viewer_wrapper nav button {\r\n\t\tmargin-top: 0;\r\n\t\tborder-top: 0.2em solid transparent\r\n\t}\r\n\r\n.core-viewer_wrapper nav button.active {\r\n\t\t\tborder-top: 0.2em solid hsla(var(--theme-interact-hsl), 0.5);\r\n\t\t\tborder-radius: 0 0 var(--theme-border-radius) var(--theme-border-radius)\r\n\t\t}\r\n\r\n.core-viewer_wrapper nav button.active:hover {\r\n\t\t\t\tbackground-color: hsla(var(--theme-interact-hsl), 0.1);\r\n\t\t\t\tcolor: var(--theme-text);\r\n\t\t\t}\r\n\r\n.core-viewer_wrapper .core-placeholder {\r\n\t\tdisplay: flex;\r\n\t\twidth: 100%;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\talign-content: center;\r\n\t\topacity: 0.66;\r\n\t\tpointer-events: none;\r\n\t\t-webkit-user-select: none;\r\n\t\t   -moz-user-select: none;\r\n\t\t        user-select: none;\r\n\t\ttext-transform: uppercase;\r\n\t\tmin-height: 8rem;\r\n\t}\r\n\r\n.core_wrapper .core-socket-placeholder {\r\n\t\tdisplay: flex;\r\n\t\twidth: 100%;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\talign-content: center;\r\n\t\topacity: 0.66;\r\n\t\tpointer-events: none;\r\n\t\t-webkit-user-select: none;\r\n\t\t   -moz-user-select: none;\r\n\t\t        user-select: none;\r\n\t}\r\n\r\n.core_wrapper .core-socket-list {\r\n\t\t-webkit-animation: fade-in var(--time-active) linear;\r\n\t\t        animation: fade-in var(--time-active) linear\r\n\t}\r\n\r\n.core_wrapper .core-socket-list button {\r\n\t\t\tfont-size: 1em;\r\n\t\t\twidth: 9.5em;\r\n\t\t\tmax-width: 30vw\r\n\t\t}\r\n\r\n.core_wrapper .core-socket-list button::before {\r\n\t\t\t\tborder-width: 0;\r\n\t\t\t}\r\n\r\n.core_wrapper .core-socket-list button.active {\r\n\t\t\t\tbackground-color: hsla(var(--theme-interact-hsl), 0.1)\r\n\t\t\t}\r\n\r\n.core_wrapper .core-socket-list button.active:hover {\r\n\t\t\t\t\tbackground-color: hsla(var(--theme-interact-hsl), 1);\r\n\t\t\t\t}\r\n\r\n.core_wrapper .core-socket-list button span {\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\ttext-align: left;\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t}\r\n\r\n.core_wrapper .core-socket-list .core-socket-title {\r\n\t\t\topacity: 0.66;\r\n\t\t\tmargin-left: 0.5em;\r\n\t\t}\r\n\r\n.core_wrapper .core-sockets_wrapper {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\twidth: 100%;\r\n\t\tjustify-content: flex-start;\r\n\t\talign-items: flex-start\r\n\t}\r\n\r\n.core_wrapper .core-sockets_wrapper .socket-items {\r\n\t\t\twidth: 100%;\r\n\t\t\tlist-style-type: none;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\tflex-wrap: wrap;\r\n\t\t\tjustify-content: left;\r\n\t\t}\r\n\r\n.core_wrapper .page-controls_wrapper {\r\n\t\talign-self: center;\r\n\t}\r\n\r\n@media(max-width: 580px) {\r\n\t.socket-items {\r\n\t\tjustify-content: center !important;\r\n\t}\r\n}",""]);const o=s},7534:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});var n=r(8081),i=r.n(n),a=r(3645),s=r.n(a)()(i());s.push([t.id,".discord_wrapper {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: left;\r\n\tgap: 1em\r\n}\n.discord_wrapper header {\r\n\t\tfont-size: 1.5em;\r\n\t}\n.discord_wrapper p {\r\n\t\tmax-width: 600px;\r\n\t\tmax-width: 80ch;\r\n\t}\n.discord_wrapper img {\r\n\t\tmax-width: 100%;\r\n\t}\n.discord_wrapper .option_wrapper {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tgap: 0.5em;\r\n\t\tflex-wrap: wrap\r\n\t}\n.discord_wrapper .option_wrapper input {\r\n\t\t\twidth: 20em;\r\n\t\t\tmax-width: 100%;\r\n\t\t}",""]);const o=s},3769:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});var n=r(8081),i=r.n(n),a=r(3645),s=r.n(a)()(i());s.push([t.id,'\r\n\t.inventory_wrapper header .sort-controls_wrapper {\r\n\t\tlist-style-type: none;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tflex-wrap: wrap;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n.inventory_wrapper .inventory-category_wrapper {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n.inventory_wrapper .inv-category-placeholder {\r\n\t\tdisplay: flex;\r\n\t\twidth: 100%;\r\n\t\tjustify-content: center;\r\n\t\talign-content: center;\r\n\t\tmargin-top: 8em;\r\n\t\topacity: 0.66;\r\n\t\tpointer-events: none;\r\n\t\t-webkit-user-select: none;\r\n\t\t   -moz-user-select: none;\r\n\t\t        user-select: none;\r\n\t}\r\n\r\n.inventory_wrapper .inventory-category_items {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tflex-wrap: wrap;\r\n\t\tjustify-content: left;\r\n\t\tpadding: 0.5em;\r\n\t}\r\n\r\n.inventory_wrapper ul {\r\n\t\tlist-style-type: none;\r\n\t}\r\n\r\n.inventory_wrapper header.h-favorites {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: space-between;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n.inventory_wrapper .favorites-placeholder {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: flex-end;\r\n\t\talign-content: center;\r\n\t\tjustify-content: center;\r\n\t\tflex-wrap: wrap;\r\n\t\tgap: 0.3rem;\r\n\t\twidth: 100%;\r\n\t\theight: 7rem;\r\n\t\topacity: 0.66;\r\n\t\tpointer-events: none;\r\n\t\t-webkit-user-select: none;\r\n\t\t   -moz-user-select: none;\r\n\t\t        user-select: none\r\n\t}\r\n\r\n.inventory_wrapper .favorites-placeholder .favorite {\r\n\t\t\tdisplay: block;\r\n\t\t\t--length: 1.25rem;\r\n\t\t\theight: var(--length);\r\n\t\t\twidth: var(--length);\r\n\t\t\tbackground-size: cover;\r\n\t\t\tbackground-repeat: no-repeat;\r\n\t\t\tbackground-position: center center;\r\n\t\t\tmargin-bottom: 0.15rem;\r\n\t\t}\r\n\r\n.inventory_wrapper .inventory-search_info {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n.inventory_wrapper .inventory-search_wrapper {\r\n\t\tmax-width: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\talign-content: center;\r\n\t\tjustify-content: center\r\n\t}\r\n\r\n.inventory_wrapper .inventory-search_wrapper .inventory-search-filter_wrapper {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\talign-items: flex-start;\r\n\t\t\talign-content: center;\r\n\t\t\tjustify-content: left;\r\n\t\t\twidth: 60%\r\n\t\t}\r\n\r\n.inventory_wrapper .inventory-search_wrapper .inventory-search-filter_wrapper label[for="inventory-search_toggle-filters"]\r\n\t\t\t{\r\n\t\t\t\tborder-radius: var(--theme-border-radius);\r\n\t\t\t\tpadding: var(--theme-padding) var(--theme-padding-double);\r\n\t\t\t\tmargin: var(--theme-padding) 0;\r\n\t\t\t}\r\n\r\n.inventory_wrapper .inventory-search_wrapper .inventory-search-filter_wrapper .inventory-search-filters {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\talign-items: flex-start;\r\n\t\t\t\talign-content: center;\r\n\t\t\t\tjustify-content: left;\r\n\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\trow-gap: 1rem;\r\n\t\t\t\t-moz-column-gap: 0.5rem;\r\n\t\t\t\t     column-gap: 0.5rem\r\n\t\t\t}\r\n\r\n.inventory_wrapper .inventory-search_wrapper .inventory-search-filter_wrapper .inventory-search-filters .filter-input_wrapper {\r\n\t\t\t\t\tmargin: 0 0.1rem;\r\n\t\t\t\t\tmargin-top: 0.5em;\r\n\t\t\t\t\tposition: relative;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\talign-items: left;\r\n\t\t\t\t\talign-content: center;\r\n\t\t\t\t\tjustify-content: center\r\n\t\t\t\t}\r\n\r\n.inventory_wrapper .inventory-search_wrapper .inventory-search-filter_wrapper .inventory-search-filters .filter-input_wrapper label {\r\n\t\t\t\t\t\tfont-size: 0.9rem;\r\n\t\t\t\t\t\topacity: 0.66;\r\n\t\t\t\t\t\tcursor: pointer;\r\n\t\t\t\t\t}\r\n\r\n.inventory_wrapper .inventory-search_wrapper .inventory-search-filter_wrapper .inventory-search-filters .filter-input_wrapper input {\r\n\t\t\t\t\t\tbackground: none;\r\n\t\t\t\t\t\tbackground-color: rgba(0,0,0,0.15);\r\n\t\t\t\t\t\tpadding: 0.2rem;\r\n\t\t\t\t\t\tmargin: 0.1rem 0;\r\n\t\t\t\t\t\tcolor: currentColor;\r\n\t\t\t\t\t\tborder: none;\r\n\t\t\t\t\t\tfont-size: 1em;\r\n\t\t\t\t\t\tborder-radius: var(--theme-border-radius);\r\n\t\t\t\t\t\ttransition: background-color var(--time-active) linear,\r\n\t\t\t\t\t\t\tcolor var(--time-active) linear\r\n\t\t\t\t\t}\r\n\r\n.inventory_wrapper .inventory-search_wrapper .inventory-search-filter_wrapper .inventory-search-filters .filter-input_wrapper input:hover, .inventory_wrapper .inventory-search_wrapper .inventory-search-filter_wrapper .inventory-search-filters .filter-input_wrapper input:active, .inventory_wrapper .inventory-search_wrapper .inventory-search-filter_wrapper .inventory-search-filters .filter-input_wrapper input:focus {\r\n\t\t\t\t\t\t\tbackground-color: var(--theme-interact);\r\n\t\t\t\t\t\t\tcolor: #000;\r\n\t\t\t\t\t\t}\r\n\r\n.inventory_wrapper .inventory-search_wrapper .inventory-search-filter_wrapper .inventory-search-filters .filter-input_wrapper .filter-popularity_wrapper {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\twidth: 7rem\r\n\t\t\t\t\t}\r\n\r\n.inventory_wrapper .inventory-search_wrapper .inventory-search-filter_wrapper .inventory-search-filters .filter-input_wrapper .filter-popularity_wrapper input {\r\n\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t\tmargin-left: 0.5em\r\n\t\t\t\t\t\t}\r\n\r\n.inventory_wrapper .inventory-search_wrapper .inventory-search-filter_wrapper .inventory-search-filters .filter-input_wrapper .filter-popularity_wrapper input:invalid {\r\n\t\t\t\t\t\t\t\tcolor: red;\r\n\t\t\t\t\t\t\t}\r\n\r\n.inventory_wrapper .inventory-search_wrapper .inventory-search-bar_wrapper {\r\n\t\t\tmargin-top: 0.5rem;\r\n\t\t\twidth: 60%;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\talign-items: center;\r\n\t\t\talign-content: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tposition: relative;\r\n\t\t\tborder: 0;\r\n\t\t\tborder-bottom: 0.2rem solid hsla(var(--theme-text-hsl), 0.25);\r\n\t\t\tbackground-color: rgba(0,0,0,0.15)\r\n\t\t}\r\n\r\n.inventory_wrapper .inventory-search_wrapper .inventory-search-bar_wrapper .inventory-search_input {\r\n\t\t\t\tpadding: 0.5em;\r\n\t\t\t\tmargin: 0 0.25rem;\r\n\t\t\t\tborder: 0;\r\n\t\t\t\tbackground-color: transparent;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tcolor: var(--theme-text);\r\n\t\t\t\tfont-size: 1.25em;\r\n\t\t\t}\r\n\r\n.inventory_wrapper .inventory-search_wrapper .inventory-search-bar_wrapper .inventory-search_submit {\r\n\t\t\t\tfont-size: 1.25em;\r\n\t\t\t\tpadding: 0.5em;\r\n\t\t\t}\r\n\r\n.inventory_wrapper .inventory-search_wrapper .inventory-search-bar_wrapper .inventory-search_suggestions {\r\n\t\t\t\topacity: 0;\r\n\t\t\t\tpointer-events: none;\r\n\t\t\t\tdisplay: none;\r\n\t\t\t}\r\n\r\n.inventory_wrapper .inventory-search_wrapper .inventory-search-bar_wrapper[focus-within] .inventory-search_suggestions {\r\n\t\t\t\topacity: 1;\r\n\t\t\t\tpointer-events: initial;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tjustify-content: left;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tpadding: 0.5em;\r\n\t\t\t\tmargin: 0 0.25rem;\r\n\t\t\t\tbackground: black;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tbottom: 100%;\r\n\t\t\t\tbackground-color: var(--bg0);\r\n\t\t\t\t-webkit-animation: fade-in var(--time-active) linear;\r\n\t\t\t\t        animation: fade-in var(--time-active) linear\r\n\t\t\t}\r\n\r\n.inventory_wrapper .inventory-search_wrapper .inventory-search-bar_wrapper:focus-within .inventory-search_suggestions {\r\n\t\t\t\topacity: 1;\r\n\t\t\t\tpointer-events: initial;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tjustify-content: left;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tpadding: 0.5em;\r\n\t\t\t\tmargin: 0 0.25rem;\r\n\t\t\t\tbackground: black;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tbottom: 100%;\r\n\t\t\t\tbackground-color: var(--bg0);\r\n\t\t\t\t-webkit-animation: fade-in var(--time-active) linear;\r\n\t\t\t\t        animation: fade-in var(--time-active) linear\r\n\t\t\t}\r\n\r\n.inventory_wrapper .inventory-search_wrapper .inventory-search-bar_wrapper[focus-within] .inventory-search_suggestions button {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t}\r\n\r\n.inventory_wrapper .inventory-search_wrapper .inventory-search-bar_wrapper:focus-within .inventory-search_suggestions button {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t}\r\n\r\n@media(max-width: 580px) {\r\n\t\t.inventory_wrapper .inventory-search-bar_wrapper, .inventory_wrapper .inventory-search-filter_wrapper {\r\n\t\t\twidth: 100% !important;\r\n\t\t}\r\n\t.inventory-category_items {\r\n\t\tjustify-content: center !important;\r\n\t}\r\n}\r\n\r\n.favorites-man_wrapper {\r\n\tdisplay: flex;\r\n\tflex-direction: column\r\n}\r\n\r\n.favorites-man_wrapper textarea {\r\n\t\tcolor: #000;\r\n\t}',""]);const o=s},8701:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});var n=r(8081),i=r.n(n),a=r(3645),s=r.n(a)()(i());s.push([t.id,".modals_wrapper {\r\n\tdisplay: flex;\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tpointer-events: none;\r\n\tz-index: 999;\r\n}\r\n\r\n.modal_clickout {\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tbackground-color: rgba(0,0,0,0.5);\r\n\tcursor: pointer;\r\n\t-webkit-animation: fade-in var(--time-state) linear;\r\n\t        animation: fade-in var(--time-state) linear;\r\n\tpointer-events: auto;\r\n}\r\n\r\n.modal_wrapper {\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tpointer-events: none;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center\r\n}\r\n\r\n.modal_wrapper .modal_content {\r\n\t\tposition: relative;\r\n\t\talign-items: left;\r\n\t\tpointer-events: auto;\r\n\t\tpadding: 1em;\r\n\t\tmax-width: 90vw;\r\n\t\tmax-height: 85vh;\r\n\t\toverflow: auto;\r\n\t\tbackground-color: var(--theme-primary);\r\n\t\tborder-radius: var(--theme-border-radius);\r\n\t\t-webkit-animation: fade-in var(--time-active) linear;\r\n\t\t        animation: fade-in var(--time-active) linear\r\n\t}\r\n\r\n.modal_wrapper .modal_content .modal_close {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tright: 0;\r\n\t\t\tmargin: 0;\r\n\t\t}\r\n\r\n.modal_wrapper .modal_content p {\r\n\t\t\tmax-width: 80ch;\r\n\t\t\tmargin-bottom: 0.5em;\r\n\t\t}\r\n\r\n.modal_wrapper .modal_content h2 {\r\n\t\t\tmargin-top: 0.5em;\r\n\t\t}\r\n\r\n.modal_wrapper .modal_content ul {\r\n\t\t\tmargin-left: 1rem;\r\n\t\t}",""]);const o=s},1961:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});var n=r(8081),i=r.n(n),a=r(3645),s=r.n(a)()(i());s.push([t.id,"nav.toolbar {\r\n\twidth: 100%;\r\n\tpadding: 0.2rem 0.5em;\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tflex-wrap: wrap;\r\n\talign-items: center;\r\n\talign-content: center;\r\n\tjustify-content: space-between;\r\n\tmargin-bottom: 1em\r\n}\r\nnav.toolbar ul {\r\n\t\tlist-style-type: none;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tjustify-content: right;\r\n\t\tflex-wrap: wrap;\r\n\t\tflex-grow: 2\r\n\t}\r\nnav.toolbar ul li {\r\n\t\t\tpadding: 0 0.15em;\r\n\t\t\t/* & button::before {\r\n\t\t\t\tborder-width: 0;\r\n\t\t\t} */\r\n\t\t}\r\nnav.toolbar .settings:not(:hover) {\r\n\t\t/* opacity: 0.5; */\r\n\t}\r\nnav.toolbar .header-logo {\r\n\t\tcolor: #fff;\r\n\t\ttext-decoration: none;\r\n\t}\r\nnav.toolbar header {\r\n\t\tdisplay: flex;\r\n\t\theight: 4rem;\r\n\t\tflex-direction: row;\r\n\t\tgap: 0.5rem;\r\n\t\topacity: 0.66;\r\n\t\ttransition: opacity var(--time-state) linear\r\n\t}\r\nnav.toolbar header h1 {\r\n\t\t\tfont-size: 1.5rem;\r\n\t\t\tfont-style: bold;\r\n\t\t}\r\nnav.toolbar header span {\r\n\t\t\tfont-size: 0.8rem;\r\n\t\t\tfont-style: italic;\r\n\t\t}\r\nnav.toolbar header .logo {\r\n\t\t\tmargin-top: 0.5rem;\r\n\t\t\ttransition: fill var(--time-state) linear,  filter var(--time-state) linear;\r\n\t\t\tfill: #fff;\r\n\t\t\tfilter: blur(0.25rem);\r\n\t\t\tmax-height: 100%;\r\n\t\t\twidth: 2rem;\r\n\t\t\topacity: 0.1;\r\n\t\t}\r\nnav.toolbar header:hover {\r\n\t\t\topacity: 1\r\n\t\t}\r\nnav.toolbar header:hover .logo {\r\n\t\t\t\tfilter: blur(0);\r\n\t\t\t\topacity: 1;\r\n\t\t\t}\r\nnav.toolbar header:hover .cls-1 {\r\n\t\t\t\tfill: #2a8c2a;\r\n\t\t\t}\r\nnav.toolbar header:hover .cls-2 {\r\n\t\t\t\tfill: #f4ad31;\r\n\t\t\t}\r\nnav.toolbar header:hover .cls-3 {\r\n\t\t\t\tfill: #282828;\r\n\t\t\t}\r\nnav.toolbar header:hover {\r\n\t\t\t& .cls-3, .cls-4 {\r\n\t\t\t\tfill-rule: evenodd;\r\n\t\t\t}\r\n\t\t}\r\nnav.toolbar header:hover .cls-4 {\r\n\t\t\t\tfill: #fff;\r\n\t\t\t}\r\nnav.toolbar header:hover .title_wrapper {\r\n\t\t\t\ttransform: translate(0);\r\n\t\t\t}\r\nnav.toolbar header .title_wrapper {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\theight: 100%;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tpadding: 0.25rem 0;\r\n\t\t\ttransform: translate(-2rem);\r\n\t\t\ttransition: transform var(--time-active) linear;\r\n\t\t}\r\nnav.toolbar .menu_wrapper {\r\n\t\tposition: relative;\r\n\t\tcursor: pointer\r\n\t}\r\nnav.toolbar .menu_wrapper .menu_list_wrapper {\r\n\t\t\tpadding: 0.5rem 0;\r\n\t\t\tposition: absolute;\r\n\t\t\tright: 0;\r\n\t\t\ttop: 80%;\r\n\t\t\tz-index: 9999\r\n\t\t}\r\nnav.toolbar .menu_wrapper .menu_list_wrapper .menu_list {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tjustify-content: right;\r\n\t\t\t\talign-items: flex-end;\r\n\t\t\t\tpadding: 0.2rem;\r\n\t\t\t\tbackground-color: var(--bg0);\r\n\t\t\t\twidth: 12em;\r\n\t\t\t\tmax-width: 80vw;\r\n\t\t\t\tbox-shadow: 0 1rem 1rem rgba(0,0,0,0.25);\r\n\t\t\t\t-webkit-animation: fade-in var(--time-active) linear;\r\n\t\t\t\t        animation: fade-in var(--time-active) linear;\r\n\t\t\t\tborder-radius: var(--theme-border-radius)\r\n\t\t\t}\r\nnav.toolbar .menu_wrapper .menu_list_wrapper .menu_list li {\r\n\t\t\t\t\twidth: 100%\r\n\t\t\t\t}\r\nnav.toolbar .menu_wrapper .menu_list_wrapper .menu_list li button {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\t\tjustify-content: flex-end\r\n\t\t\t\t\t}\r\nnav.toolbar .menu_wrapper .menu_list_wrapper .menu_list li button span {\r\n\t\t\t\t\t\t\tmargin-right: 0.2em;\r\n\t\t\t\t\t\t}",""]);const o=s},1788:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});var n=r(8081),i=r.n(n),a=r(3645),s=r.n(a)()(i());s.push([t.id,".settings_wrapper {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: left;\r\n\tgap: 1em\r\n}\n.settings_wrapper header {\r\n\t\tfont-size: 1.5em;\r\n\t}\n.settings_wrapper .option_wrapper {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tgap: 0.5em;\r\n\t}",""]);const o=s},3645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r="",n=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),n&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=t(e),n&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r})).join("")},e.i=function(t,r,n,i,a){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(n)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(s[l]=!0)}for(var c=0;c<t.length;c++){var h=[].concat(t[c]);n&&s[h[0]]||(void 0!==a&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=a),r&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=r):h[2]=r),i&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=i):h[4]="".concat(i)),e.push(h))}},e}},1667:t=>{"use strict";t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},8081:t=>{"use strict";t.exports=function(t){return t[1]}},2837:()=>{},5311:function(t,e,r){!function(t,e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=function t(e,r,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(void 0===i){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,r,n)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(n):void 0},s=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},l=function(){function t(t,e){var r=[],n=!0,i=!1,a=void 0;try{for(var s,o=t[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{!n&&o.return&&o.return()}finally{if(i)throw a}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)},h=function(){function t(e){n(this,t),this.selfOptions=e||{},this.pipes={}}return i(t,[{key:"options",value:function(t){return t&&(this.selfOptions=t),this.selfOptions}},{key:"pipe",value:function(t,e){var r=e;if("string"==typeof t){if(void 0===r)return this.pipes[t];this.pipes[t]=r}if(t&&t.name){if(r=t,r.processor===this)return r;this.pipes[r.name]=r}return r.processor=this,r}},{key:"process",value:function(t,e){var r=t;r.options=this.options();for(var n=e||t.pipe||"default",i=void 0,a=void 0;n;)void 0!==r.nextAfterChildren&&(r.next=r.nextAfterChildren,r.nextAfterChildren=null),"string"==typeof n&&(n=this.pipe(n)),n.process(r),a=r,i=n,n=null,r&&r.next&&(r=r.next,n=a.nextPipe||r.pipe||i);return r.hasResult?r.result:void 0}}]),t}(),d=function(){function t(e){n(this,t),this.name=e,this.filters=[]}return i(t,[{key:"process",value:function(t){if(!this.processor)throw new Error("add this pipe to a processor before using it");for(var e=this.debug,n=this.filters.length,i=t,a=0;a<n;a++){var s=this.filters[a];if(e&&this.log("filter: "+s.filterName),s(i),"object"===(void 0===i?"undefined":r(i))&&i.exiting){i.exiting=!1;break}}!i.next&&this.resultCheck&&this.resultCheck(i)}},{key:"log",value:function(t){console.log("[jsondiffpatch] "+this.name+" pipe, "+t)}},{key:"append",value:function(){var t;return(t=this.filters).push.apply(t,arguments),this}},{key:"prepend",value:function(){var t;return(t=this.filters).unshift.apply(t,arguments),this}},{key:"indexOf",value:function(t){if(!t)throw new Error("a filter name is required");for(var e=0;e<this.filters.length;e++)if(this.filters[e].filterName===t)return e;throw new Error("filter not found: "+t)}},{key:"list",value:function(){return this.filters.map((function(t){return t.filterName}))}},{key:"after",value:function(t){var e=this.indexOf(t),r=Array.prototype.slice.call(arguments,1);if(!r.length)throw new Error("a filter is required");return r.unshift(e+1,0),Array.prototype.splice.apply(this.filters,r),this}},{key:"before",value:function(t){var e=this.indexOf(t),r=Array.prototype.slice.call(arguments,1);if(!r.length)throw new Error("a filter is required");return r.unshift(e,0),Array.prototype.splice.apply(this.filters,r),this}},{key:"replace",value:function(t){var e=this.indexOf(t),r=Array.prototype.slice.call(arguments,1);if(!r.length)throw new Error("a filter is required");return r.unshift(e,1),Array.prototype.splice.apply(this.filters,r),this}},{key:"remove",value:function(t){var e=this.indexOf(t);return this.filters.splice(e,1),this}},{key:"clear",value:function(){return this.filters.length=0,this}},{key:"shouldHaveResult",value:function(t){if(!1!==t){if(!this.resultCheck){var e=this;return this.resultCheck=function(t){if(!t.hasResult){console.log(t);var r=new Error(e.name+" failed");throw r.noResult=!0,r}},this}}else this.resultCheck=null}}]),t}(),u=function(){function t(){n(this,t)}return i(t,[{key:"setResult",value:function(t){return this.result=t,this.hasResult=!0,this}},{key:"exit",value:function(){return this.exiting=!0,this}},{key:"switchTo",value:function(t,e){return"string"==typeof t||t instanceof d?this.nextPipe=t:(this.next=t,e&&(this.nextPipe=e)),this}},{key:"push",value:function(t,e){return t.parent=this,void 0!==e&&(t.childName=e),t.root=this.root||this,t.options=t.options||this.options,this.children?(this.children[this.children.length-1].next=t,this.children.push(t)):(this.children=[t],this.nextAfterChildren=this.next||null,this.next=t),t.next=this,this}}]),t}(),p="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array};function f(t){var e=/^\/(.*)\/([gimyu]*)$/.exec(t.toString());return new RegExp(e[1],e[2])}function m(t){if("object"!==(void 0===t?"undefined":r(t)))return t;if(null===t)return null;if(p(t))return t.map(m);if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return f(t);var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=m(t[n]));return e}var g=function(t){function e(t,r){n(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.left=t,i.right=r,i.pipe="diff",i}return s(e,t),i(e,[{key:"setResult",value:function(t){if(this.options.cloneDiffValues&&"object"===(void 0===t?"undefined":r(t))){var e="function"==typeof this.options.cloneDiffValues?this.options.cloneDiffValues:m;"object"===r(t[0])&&(t[0]=e(t[0])),"object"===r(t[1])&&(t[1]=e(t[1]))}return u.prototype.setResult.apply(this,arguments)}}]),e}(u),b=function(t){function e(t,r){n(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.left=t,i.delta=r,i.pipe="patch",i}return s(e,t),e}(u),v=function(t){function e(t){n(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.delta=t,r.pipe="reverse",r}return s(e,t),e}(u),y="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},w=function(t){if(t.left!==t.right)if(void 0!==t.left)if(void 0!==t.right){if("function"==typeof t.left||"function"==typeof t.right)throw new Error("functions are not supported");t.leftType=null===t.left?"null":r(t.left),t.rightType=null===t.right?"null":r(t.right),t.leftType===t.rightType&&"boolean"!==t.leftType&&"number"!==t.leftType?("object"===t.leftType&&(t.leftIsArray=y(t.left)),"object"===t.rightType&&(t.rightIsArray=y(t.right)),t.leftIsArray===t.rightIsArray?t.left instanceof RegExp&&(t.right instanceof RegExp?t.setResult([t.left.toString(),t.right.toString()]).exit():t.setResult([t.left,t.right]).exit()):t.setResult([t.left,t.right]).exit()):t.setResult([t.left,t.right]).exit()}else t.setResult([t.left,0,0]).exit();else{if("function"==typeof t.right)throw new Error("functions are not supported");t.setResult([t.right]).exit()}else t.setResult(void 0).exit()};w.filterName="trivial";var _=function(t){if(void 0!==t.delta){if(t.nested=!y(t.delta),!t.nested)if(1!==t.delta.length)if(2!==t.delta.length)3===t.delta.length&&0===t.delta[2]&&t.setResult(void 0).exit();else{if(t.left instanceof RegExp){var e=/^\/(.*)\/([gimyu]+)$/.exec(t.delta[1]);if(e)return void t.setResult(new RegExp(e[1],e[2])).exit()}t.setResult(t.delta[1]).exit()}else t.setResult(t.delta[0]).exit()}else t.setResult(t.left).exit()};_.filterName="trivial";var x=function(t){void 0!==t.delta?(t.nested=!y(t.delta),t.nested||(1!==t.delta.length?2!==t.delta.length?3===t.delta.length&&0===t.delta[2]&&t.setResult([t.delta[0]]).exit():t.setResult([t.delta[1],t.delta[0]]).exit():t.setResult([t.delta[0],0,0]).exit())):t.setResult(t.delta).exit()};function k(t){if(t&&t.children){for(var e=t.children.length,r=void 0,n=t.result,i=0;i<e;i++)void 0!==(r=t.children[i]).result&&((n=n||{})[r.childName]=r.result);n&&t.leftIsArray&&(n._t="a"),t.setResult(n).exit()}}function S(t){if(!t.leftIsArray&&"object"===t.leftType){var e=void 0,r=void 0,n=t.options.propertyFilter;for(e in t.left)Object.prototype.hasOwnProperty.call(t.left,e)&&(n&&!n(e,t)||(r=new g(t.left[e],t.right[e]),t.push(r,e)));for(e in t.right)Object.prototype.hasOwnProperty.call(t.right,e)&&(n&&!n(e,t)||void 0===t.left[e]&&(r=new g(void 0,t.right[e]),t.push(r,e)));t.children&&0!==t.children.length?t.exit():t.setResult(void 0).exit()}}x.filterName="trivial",k.filterName="collectChildren",S.filterName="objects";var I=function(t){if(t.nested&&!t.delta._t){var e=void 0,r=void 0;for(e in t.delta)r=new b(t.left[e],t.delta[e]),t.push(r,e);t.exit()}};I.filterName="objects";var M=function(t){if(t&&t.children&&!t.delta._t){for(var e=t.children.length,r=void 0,n=0;n<e;n++)r=t.children[n],Object.prototype.hasOwnProperty.call(t.left,r.childName)&&void 0===r.result?delete t.left[r.childName]:t.left[r.childName]!==r.result&&(t.left[r.childName]=r.result);t.setResult(t.left).exit()}};M.filterName="collectChildren";var D=function(t){if(t.nested&&!t.delta._t){var e=void 0,r=void 0;for(e in t.delta)r=new v(t.delta[e]),t.push(r,e);t.exit()}};function C(t){if(t&&t.children&&!t.delta._t){for(var e=t.children.length,r=void 0,n={},i=0;i<e;i++)n[(r=t.children[i]).childName]!==r.result&&(n[r.childName]=r.result);t.setResult(n).exit()}}D.filterName="objects",C.filterName="collectChildren";var A=function(t,e,r,n){return t[r]===e[n]},P=function(t,e,r,n){var i=t.length,a=e.length,s=void 0,o=void 0,l=[i+1];for(s=0;s<i+1;s++)for(l[s]=[a+1],o=0;o<a+1;o++)l[s][o]=0;for(l.match=r,s=1;s<i+1;s++)for(o=1;o<a+1;o++)r(t,e,s-1,o-1,n)?l[s][o]=l[s-1][o-1]+1:l[s][o]=Math.max(l[s-1][o],l[s][o-1]);return l},$=function(t,e,r,n){for(var i=e.length,a=r.length,s={sequence:[],indices1:[],indices2:[]};0!==i&&0!==a;)t.match(e,r,i-1,a-1,n)?(s.sequence.unshift(e[i-1]),s.indices1.unshift(i-1),s.indices2.unshift(a-1),--i,--a):t[i][a-1]>t[i-1][a]?--a:--i;return s},T={get:function(t,e,r,n){var i=n||{},a=P(t,e,r||A,i),s=$(a,t,e,i);return"string"==typeof t&&"string"==typeof e&&(s.sequence=s.sequence.join("")),s}},E=3,O="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},R="function"==typeof Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var r=t.length,n=0;n<r;n++)if(t[n]===e)return n;return-1};function L(t,e,r,n){for(var i=0;i<r;i++)for(var a=t[i],s=0;s<n;s++){var o=e[s];if(i!==s&&a===o)return!0}}function F(t,e,n,i,a){var s=t[n],o=e[i];if(s===o)return!0;if("object"!==(void 0===s?"undefined":r(s))||"object"!==(void 0===o?"undefined":r(o)))return!1;var l=a.objectHash;if(!l)return a.matchByPosition&&n===i;var c=void 0,h=void 0;return"number"==typeof n?(a.hashCache1=a.hashCache1||[],void 0===(c=a.hashCache1[n])&&(a.hashCache1[n]=c=l(s,n))):c=l(s),void 0!==c&&("number"==typeof i?(a.hashCache2=a.hashCache2||[],void 0===(h=a.hashCache2[i])&&(a.hashCache2[i]=h=l(o,i))):h=l(o),void 0!==h&&c===h)}var j=function(t){if(t.leftIsArray){var e={objectHash:t.options&&t.options.objectHash,matchByPosition:t.options&&t.options.matchByPosition},r=0,n=0,i=void 0,a=void 0,s=void 0,o=t.left,l=t.right,c=o.length,h=l.length,d=void 0;for(c>0&&h>0&&!e.objectHash&&"boolean"!=typeof e.matchByPosition&&(e.matchByPosition=!L(o,l,c,h));r<c&&r<h&&F(o,l,r,r,e);)i=r,d=new g(t.left[i],t.right[i]),t.push(d,i),r++;for(;n+r<c&&n+r<h&&F(o,l,c-1-n,h-1-n,e);)a=c-1-n,s=h-1-n,d=new g(t.left[a],t.right[s]),t.push(d,s),n++;var u=void 0;if(r+n!==c)if(r+n!==h){delete e.hashCache1,delete e.hashCache2;var p=o.slice(r,c-n),f=l.slice(r,h-n),m=T.get(p,f,F,e),b=[];for(u=u||{_t:"a"},i=r;i<c-n;i++)R(m.indices1,i-r)<0&&(u["_"+i]=[o[i],0,0],b.push(i));var v=!0;t.options&&t.options.arrays&&!1===t.options.arrays.detectMove&&(v=!1);var y=!1;t.options&&t.options.arrays&&t.options.arrays.includeValueOnMove&&(y=!0);var w=b.length;for(i=r;i<h-n;i++){var _=R(m.indices2,i-r);if(_<0){var x=!1;if(v&&w>0)for(var k=0;k<w;k++)if(F(p,f,(a=b[k])-r,i-r,e)){u["_"+a].splice(1,2,i,E),y||(u["_"+a][0]=""),s=i,d=new g(t.left[a],t.right[s]),t.push(d,s),b.splice(k,1),x=!0;break}x||(u[i]=[l[i]])}else a=m.indices1[_]+r,s=m.indices2[_]+r,d=new g(t.left[a],t.right[s]),t.push(d,s)}t.setResult(u).exit()}else{for(u=u||{_t:"a"},i=r;i<c-n;i++)u["_"+i]=[o[i],0,0];t.setResult(u).exit()}else{if(c===h)return void t.setResult(void 0).exit();for(u=u||{_t:"a"},i=r;i<h-n;i++)u[i]=[l[i]];t.setResult(u).exit()}}};j.filterName="arrays";var z={numerically:function(t,e){return t-e},numericallyBy:function(t){return function(e,r){return e[t]-r[t]}}},N=function(t){if(t.nested&&"a"===t.delta._t){var e=void 0,r=void 0,n=t.delta,i=t.left,a=[],s=[],o=[];for(e in n)if("_t"!==e)if("_"===e[0]){if(0!==n[e][2]&&n[e][2]!==E)throw new Error("only removal or move can be applied at original array indices, invalid diff type: "+n[e][2]);a.push(parseInt(e.slice(1),10))}else 1===n[e].length?s.push({index:parseInt(e,10),value:n[e][0]}):o.push({index:parseInt(e,10),delta:n[e]});for(e=(a=a.sort(z.numerically)).length-1;e>=0;e--){var l=n["_"+(r=a[e])],c=i.splice(r,1)[0];l[2]===E&&s.push({index:l[1],value:c})}var h=(s=s.sort(z.numericallyBy("index"))).length;for(e=0;e<h;e++){var d=s[e];i.splice(d.index,0,d.value)}var u=o.length,p=void 0;if(u>0)for(e=0;e<u;e++){var f=o[e];p=new b(t.left[f.index],f.delta),t.push(p,f.index)}t.children?t.exit():t.setResult(t.left).exit()}};N.filterName="arrays";var B=function(t){if(t&&t.children&&"a"===t.delta._t){for(var e=t.children.length,r=void 0,n=0;n<e;n++)r=t.children[n],t.left[r.childName]=r.result;t.setResult(t.left).exit()}};B.filterName="arraysCollectChildren";var H=function(t){if(t.nested){if("a"===t.delta._t){var e=void 0,r=void 0;for(e in t.delta)"_t"!==e&&(r=new v(t.delta[e]),t.push(r,e));t.exit()}}else t.delta[2]===E&&(t.newName="_"+t.delta[1],t.setResult([t.delta[0],parseInt(t.childName.substr(1),10),E]).exit())};H.filterName="arrays";var V=function(t,e,r){if("string"==typeof e&&"_"===e[0])return parseInt(e.substr(1),10);if(O(r)&&0===r[2])return"_"+e;var n=+e;for(var i in t){var a=t[i];if(O(a))if(a[2]===E){var s=parseInt(i.substr(1),10),o=a[1];if(o===+e)return s;s<=n&&o>n?n++:s>=n&&o<n&&n--}else 0===a[2]?parseInt(i.substr(1),10)<=n&&n++:1===a.length&&i<=n&&n--}return n};function W(t){if(t&&t.children&&"a"===t.delta._t){for(var e=t.children.length,r=void 0,n={_t:"a"},i=0;i<e;i++){var a=(r=t.children[i]).newName;void 0===a&&(a=V(t.delta,r.childName,r.result)),n[a]!==r.result&&(n[a]=r.result)}t.setResult(n).exit()}}W.filterName="arraysCollectChildren";var U=function(t){t.left instanceof Date?(t.right instanceof Date?t.left.getTime()!==t.right.getTime()?t.setResult([t.left,t.right]):t.setResult(void 0):t.setResult([t.left,t.right]),t.exit()):t.right instanceof Date&&t.setResult([t.left,t.right]).exit()};function q(t,e){return t(e={exports:{}},e.exports),e.exports}U.filterName="dates";var Z=q((function(t){function e(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}var r=-1,n=1,i=0;e.prototype.diff_main=function(t,e,r,n){void 0===n&&(n=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var a=n;if(null==t||null==e)throw new Error("Null input. (diff_main)");if(t==e)return t?[[i,t]]:[];void 0===r&&(r=!0);var s=r,o=this.diff_commonPrefix(t,e),l=t.substring(0,o);t=t.substring(o),e=e.substring(o),o=this.diff_commonSuffix(t,e);var c=t.substring(t.length-o);t=t.substring(0,t.length-o),e=e.substring(0,e.length-o);var h=this.diff_compute_(t,e,s,a);return l&&h.unshift([i,l]),c&&h.push([i,c]),this.diff_cleanupMerge(h),h},e.prototype.diff_compute_=function(t,e,a,s){var o;if(!t)return[[n,e]];if(!e)return[[r,t]];var l=t.length>e.length?t:e,c=t.length>e.length?e:t,h=l.indexOf(c);if(-1!=h)return o=[[n,l.substring(0,h)],[i,c],[n,l.substring(h+c.length)]],t.length>e.length&&(o[0][0]=o[2][0]=r),o;if(1==c.length)return[[r,t],[n,e]];var d=this.diff_halfMatch_(t,e);if(d){var u=d[0],p=d[1],f=d[2],m=d[3],g=d[4],b=this.diff_main(u,f,a,s),v=this.diff_main(p,m,a,s);return b.concat([[i,g]],v)}return a&&t.length>100&&e.length>100?this.diff_lineMode_(t,e,s):this.diff_bisect_(t,e,s)},e.prototype.diff_lineMode_=function(t,e,a){t=(p=this.diff_linesToChars_(t,e)).chars1,e=p.chars2;var s=p.lineArray,o=this.diff_main(t,e,!1,a);this.diff_charsToLines_(o,s),this.diff_cleanupSemantic(o),o.push([i,""]);for(var l=0,c=0,h=0,d="",u="";l<o.length;){switch(o[l][0]){case n:h++,u+=o[l][1];break;case r:c++,d+=o[l][1];break;case i:if(c>=1&&h>=1){o.splice(l-c-h,c+h),l=l-c-h;for(var p,f=(p=this.diff_main(d,u,!1,a)).length-1;f>=0;f--)o.splice(l,0,p[f]);l+=p.length}h=0,c=0,d="",u=""}l++}return o.pop(),o},e.prototype.diff_bisect_=function(t,e,i){for(var a=t.length,s=e.length,o=Math.ceil((a+s)/2),l=o,c=2*o,h=new Array(c),d=new Array(c),u=0;u<c;u++)h[u]=-1,d[u]=-1;h[l+1]=0,d[l+1]=0;for(var p=a-s,f=p%2!=0,m=0,g=0,b=0,v=0,y=0;y<o&&!((new Date).getTime()>i);y++){for(var w=-y+m;w<=y-g;w+=2){for(var _=l+w,x=(D=w==-y||w!=y&&h[_-1]<h[_+1]?h[_+1]:h[_-1]+1)-w;D<a&&x<s&&t.charAt(D)==e.charAt(x);)D++,x++;if(h[_]=D,D>a)g+=2;else if(x>s)m+=2;else if(f&&(I=l+p-w)>=0&&I<c&&-1!=d[I]&&D>=(S=a-d[I]))return this.diff_bisectSplit_(t,e,D,x,i)}for(var k=-y+b;k<=y-v;k+=2){for(var S,I=l+k,M=(S=k==-y||k!=y&&d[I-1]<d[I+1]?d[I+1]:d[I-1]+1)-k;S<a&&M<s&&t.charAt(a-S-1)==e.charAt(s-M-1);)S++,M++;if(d[I]=S,S>a)v+=2;else if(M>s)b+=2;else if(!f){var D;if((_=l+p-k)>=0&&_<c&&-1!=h[_])if(x=l+(D=h[_])-_,D>=(S=a-S))return this.diff_bisectSplit_(t,e,D,x,i)}}}return[[r,t],[n,e]]},e.prototype.diff_bisectSplit_=function(t,e,r,n,i){var a=t.substring(0,r),s=e.substring(0,n),o=t.substring(r),l=e.substring(n),c=this.diff_main(a,s,!1,i),h=this.diff_main(o,l,!1,i);return c.concat(h)},e.prototype.diff_linesToChars_=function(t,e){var r=[],n={};function i(t){for(var e="",i=0,a=-1,s=r.length;a<t.length-1;){-1==(a=t.indexOf("\n",i))&&(a=t.length-1);var o=t.substring(i,a+1);i=a+1,(n.hasOwnProperty?n.hasOwnProperty(o):void 0!==n[o])?e+=String.fromCharCode(n[o]):(e+=String.fromCharCode(s),n[o]=s,r[s++]=o)}return e}return r[0]="",{chars1:i(t),chars2:i(e),lineArray:r}},e.prototype.diff_charsToLines_=function(t,e){for(var r=0;r<t.length;r++){for(var n=t[r][1],i=[],a=0;a<n.length;a++)i[a]=e[n.charCodeAt(a)];t[r][1]=i.join("")}},e.prototype.diff_commonPrefix=function(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,a=0;r<i;)t.substring(a,i)==e.substring(a,i)?a=r=i:n=i,i=Math.floor((n-r)/2+r);return i},e.prototype.diff_commonSuffix=function(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,a=0;r<i;)t.substring(t.length-i,t.length-a)==e.substring(e.length-i,e.length-a)?a=r=i:n=i,i=Math.floor((n-r)/2+r);return i},e.prototype.diff_commonOverlap_=function(t,e){var r=t.length,n=e.length;if(0==r||0==n)return 0;r>n?t=t.substring(r-n):r<n&&(e=e.substring(0,r));var i=Math.min(r,n);if(t==e)return i;for(var a=0,s=1;;){var o=t.substring(i-s),l=e.indexOf(o);if(-1==l)return a;s+=l,0!=l&&t.substring(i-s)!=e.substring(0,s)||(a=s,s++)}},e.prototype.diff_halfMatch_=function(t,e){if(this.Diff_Timeout<=0)return null;var r=t.length>e.length?t:e,n=t.length>e.length?e:t;if(r.length<4||2*n.length<r.length)return null;var i=this;function a(t,e,r){for(var n,a,s,o,l=t.substring(r,r+Math.floor(t.length/4)),c=-1,h="";-1!=(c=e.indexOf(l,c+1));){var d=i.diff_commonPrefix(t.substring(r),e.substring(c)),u=i.diff_commonSuffix(t.substring(0,r),e.substring(0,c));h.length<u+d&&(h=e.substring(c-u,c)+e.substring(c,c+d),n=t.substring(0,r-u),a=t.substring(r+d),s=e.substring(0,c-u),o=e.substring(c+d))}return 2*h.length>=t.length?[n,a,s,o,h]:null}var s,o,l,c,h,d=a(r,n,Math.ceil(r.length/4)),u=a(r,n,Math.ceil(r.length/2));return d||u?(s=u?d&&d[4].length>u[4].length?d:u:d,t.length>e.length?(o=s[0],l=s[1],c=s[2],h=s[3]):(c=s[0],h=s[1],o=s[2],l=s[3]),[o,l,c,h,s[4]]):null},e.prototype.diff_cleanupSemantic=function(t){for(var e=!1,a=[],s=0,o=null,l=0,c=0,h=0,d=0,u=0;l<t.length;)t[l][0]==i?(a[s++]=l,c=d,h=u,d=0,u=0,o=t[l][1]):(t[l][0]==n?d+=t[l][1].length:u+=t[l][1].length,o&&o.length<=Math.max(c,h)&&o.length<=Math.max(d,u)&&(t.splice(a[s-1],0,[r,o]),t[a[s-1]+1][0]=n,s--,l=--s>0?a[s-1]:-1,c=0,h=0,d=0,u=0,o=null,e=!0)),l++;for(e&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),l=1;l<t.length;){if(t[l-1][0]==r&&t[l][0]==n){var p=t[l-1][1],f=t[l][1],m=this.diff_commonOverlap_(p,f),g=this.diff_commonOverlap_(f,p);m>=g?(m>=p.length/2||m>=f.length/2)&&(t.splice(l,0,[i,f.substring(0,m)]),t[l-1][1]=p.substring(0,p.length-m),t[l+1][1]=f.substring(m),l++):(g>=p.length/2||g>=f.length/2)&&(t.splice(l,0,[i,p.substring(0,g)]),t[l-1][0]=n,t[l-1][1]=f.substring(0,f.length-g),t[l+1][0]=r,t[l+1][1]=p.substring(g),l++),l++}l++}},e.prototype.diff_cleanupSemanticLossless=function(t){function r(t,r){if(!t||!r)return 6;var n=t.charAt(t.length-1),i=r.charAt(0),a=n.match(e.nonAlphaNumericRegex_),s=i.match(e.nonAlphaNumericRegex_),o=a&&n.match(e.whitespaceRegex_),l=s&&i.match(e.whitespaceRegex_),c=o&&n.match(e.linebreakRegex_),h=l&&i.match(e.linebreakRegex_),d=c&&t.match(e.blanklineEndRegex_),u=h&&r.match(e.blanklineStartRegex_);return d||u?5:c||h?4:a&&!o&&l?3:o||l?2:a||s?1:0}for(var n=1;n<t.length-1;){if(t[n-1][0]==i&&t[n+1][0]==i){var a=t[n-1][1],s=t[n][1],o=t[n+1][1],l=this.diff_commonSuffix(a,s);if(l){var c=s.substring(s.length-l);a=a.substring(0,a.length-l),s=c+s.substring(0,s.length-l),o=c+o}for(var h=a,d=s,u=o,p=r(a,s)+r(s,o);s.charAt(0)===o.charAt(0);){a+=s.charAt(0),s=s.substring(1)+o.charAt(0),o=o.substring(1);var f=r(a,s)+r(s,o);f>=p&&(p=f,h=a,d=s,u=o)}t[n-1][1]!=h&&(h?t[n-1][1]=h:(t.splice(n-1,1),n--),t[n][1]=d,u?t[n+1][1]=u:(t.splice(n+1,1),n--))}n++}},e.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,e.whitespaceRegex_=/\s/,e.linebreakRegex_=/[\r\n]/,e.blanklineEndRegex_=/\n\r?\n$/,e.blanklineStartRegex_=/^\r?\n\r?\n/,e.prototype.diff_cleanupEfficiency=function(t){for(var e=!1,a=[],s=0,o=null,l=0,c=!1,h=!1,d=!1,u=!1;l<t.length;)t[l][0]==i?(t[l][1].length<this.Diff_EditCost&&(d||u)?(a[s++]=l,c=d,h=u,o=t[l][1]):(s=0,o=null),d=u=!1):(t[l][0]==r?u=!0:d=!0,o&&(c&&h&&d&&u||o.length<this.Diff_EditCost/2&&c+h+d+u==3)&&(t.splice(a[s-1],0,[r,o]),t[a[s-1]+1][0]=n,s--,o=null,c&&h?(d=u=!0,s=0):(l=--s>0?a[s-1]:-1,d=u=!1),e=!0)),l++;e&&this.diff_cleanupMerge(t)},e.prototype.diff_cleanupMerge=function(t){t.push([i,""]);for(var e,a=0,s=0,o=0,l="",c="";a<t.length;)switch(t[a][0]){case n:o++,c+=t[a][1],a++;break;case r:s++,l+=t[a][1],a++;break;case i:s+o>1?(0!==s&&0!==o&&(0!==(e=this.diff_commonPrefix(c,l))&&(a-s-o>0&&t[a-s-o-1][0]==i?t[a-s-o-1][1]+=c.substring(0,e):(t.splice(0,0,[i,c.substring(0,e)]),a++),c=c.substring(e),l=l.substring(e)),0!==(e=this.diff_commonSuffix(c,l))&&(t[a][1]=c.substring(c.length-e)+t[a][1],c=c.substring(0,c.length-e),l=l.substring(0,l.length-e))),0===s?t.splice(a-o,s+o,[n,c]):0===o?t.splice(a-s,s+o,[r,l]):t.splice(a-s-o,s+o,[r,l],[n,c]),a=a-s-o+(s?1:0)+(o?1:0)+1):0!==a&&t[a-1][0]==i?(t[a-1][1]+=t[a][1],t.splice(a,1)):a++,o=0,s=0,l="",c=""}""===t[t.length-1][1]&&t.pop();var h=!1;for(a=1;a<t.length-1;)t[a-1][0]==i&&t[a+1][0]==i&&(t[a][1].substring(t[a][1].length-t[a-1][1].length)==t[a-1][1]?(t[a][1]=t[a-1][1]+t[a][1].substring(0,t[a][1].length-t[a-1][1].length),t[a+1][1]=t[a-1][1]+t[a+1][1],t.splice(a-1,1),h=!0):t[a][1].substring(0,t[a+1][1].length)==t[a+1][1]&&(t[a-1][1]+=t[a+1][1],t[a][1]=t[a][1].substring(t[a+1][1].length)+t[a+1][1],t.splice(a+1,1),h=!0)),a++;h&&this.diff_cleanupMerge(t)},e.prototype.diff_xIndex=function(t,e){var i,a=0,s=0,o=0,l=0;for(i=0;i<t.length&&(t[i][0]!==n&&(a+=t[i][1].length),t[i][0]!==r&&(s+=t[i][1].length),!(a>e));i++)o=a,l=s;return t.length!=i&&t[i][0]===r?l:l+(e-o)},e.prototype.diff_prettyHtml=function(t){for(var e=[],a=/&/g,s=/</g,o=/>/g,l=/\n/g,c=0;c<t.length;c++){var h=t[c][0],d=t[c][1].replace(a,"&amp;").replace(s,"&lt;").replace(o,"&gt;").replace(l,"&para;<br>");switch(h){case n:e[c]='<ins style="background:#e6ffe6;">'+d+"</ins>";break;case r:e[c]='<del style="background:#ffe6e6;">'+d+"</del>";break;case i:e[c]="<span>"+d+"</span>"}}return e.join("")},e.prototype.diff_text1=function(t){for(var e=[],r=0;r<t.length;r++)t[r][0]!==n&&(e[r]=t[r][1]);return e.join("")},e.prototype.diff_text2=function(t){for(var e=[],n=0;n<t.length;n++)t[n][0]!==r&&(e[n]=t[n][1]);return e.join("")},e.prototype.diff_levenshtein=function(t){for(var e=0,a=0,s=0,o=0;o<t.length;o++){var l=t[o][0],c=t[o][1];switch(l){case n:a+=c.length;break;case r:s+=c.length;break;case i:e+=Math.max(a,s),a=0,s=0}}return e+=Math.max(a,s)},e.prototype.diff_toDelta=function(t){for(var e=[],a=0;a<t.length;a++)switch(t[a][0]){case n:e[a]="+"+encodeURI(t[a][1]);break;case r:e[a]="-"+t[a][1].length;break;case i:e[a]="="+t[a][1].length}return e.join("\t").replace(/%20/g," ")},e.prototype.diff_fromDelta=function(t,e){for(var a=[],s=0,o=0,l=e.split(/\t/g),c=0;c<l.length;c++){var h=l[c].substring(1);switch(l[c].charAt(0)){case"+":try{a[s++]=[n,decodeURI(h)]}catch(t){throw new Error("Illegal escape in diff_fromDelta: "+h)}break;case"-":case"=":var d=parseInt(h,10);if(isNaN(d)||d<0)throw new Error("Invalid number in diff_fromDelta: "+h);var u=t.substring(o,o+=d);"="==l[c].charAt(0)?a[s++]=[i,u]:a[s++]=[r,u];break;default:if(l[c])throw new Error("Invalid diff operation in diff_fromDelta: "+l[c])}}if(o!=t.length)throw new Error("Delta length ("+o+") does not equal source text length ("+t.length+").");return a},e.prototype.match_main=function(t,e,r){if(null==t||null==e||null==r)throw new Error("Null input. (match_main)");return r=Math.max(0,Math.min(r,t.length)),t==e?0:t.length?t.substring(r,r+e.length)==e?r:this.match_bitap_(t,e,r):-1},e.prototype.match_bitap_=function(t,e,r){if(e.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var n=this.match_alphabet_(e),i=this;function a(t,n){var a=t/e.length,s=Math.abs(r-n);return i.Match_Distance?a+s/i.Match_Distance:s?1:a}var s=this.Match_Threshold,o=t.indexOf(e,r);-1!=o&&(s=Math.min(a(0,o),s),-1!=(o=t.lastIndexOf(e,r+e.length))&&(s=Math.min(a(0,o),s)));var l,c,h=1<<e.length-1;o=-1;for(var d,u=e.length+t.length,p=0;p<e.length;p++){for(l=0,c=u;l<c;)a(p,r+c)<=s?l=c:u=c,c=Math.floor((u-l)/2+l);u=c;var f=Math.max(1,r-c+1),m=Math.min(r+c,t.length)+e.length,g=Array(m+2);g[m+1]=(1<<p)-1;for(var b=m;b>=f;b--){var v=n[t.charAt(b-1)];if(g[b]=0===p?(g[b+1]<<1|1)&v:(g[b+1]<<1|1)&v|(d[b+1]|d[b])<<1|1|d[b+1],g[b]&h){var y=a(p,b-1);if(y<=s){if(s=y,!((o=b-1)>r))break;f=Math.max(1,2*r-o)}}}if(a(p+1,r)>s)break;d=g}return o},e.prototype.match_alphabet_=function(t){for(var e={},r=0;r<t.length;r++)e[t.charAt(r)]=0;for(r=0;r<t.length;r++)e[t.charAt(r)]|=1<<t.length-r-1;return e},e.prototype.patch_addContext_=function(t,e){if(0!=e.length){for(var r=e.substring(t.start2,t.start2+t.length1),n=0;e.indexOf(r)!=e.lastIndexOf(r)&&r.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)n+=this.Patch_Margin,r=e.substring(t.start2-n,t.start2+t.length1+n);n+=this.Patch_Margin;var a=e.substring(t.start2-n,t.start2);a&&t.diffs.unshift([i,a]);var s=e.substring(t.start2+t.length1,t.start2+t.length1+n);s&&t.diffs.push([i,s]),t.start1-=a.length,t.start2-=a.length,t.length1+=a.length+s.length,t.length2+=a.length+s.length}},e.prototype.patch_make=function(t,a,s){var o,l;if("string"==typeof t&&"string"==typeof a&&void 0===s)o=t,(l=this.diff_main(o,a,!0)).length>2&&(this.diff_cleanupSemantic(l),this.diff_cleanupEfficiency(l));else if(t&&"object"==typeof t&&void 0===a&&void 0===s)l=t,o=this.diff_text1(l);else if("string"==typeof t&&a&&"object"==typeof a&&void 0===s)o=t,l=a;else{if("string"!=typeof t||"string"!=typeof a||!s||"object"!=typeof s)throw new Error("Unknown call format to patch_make.");o=t,l=s}if(0===l.length)return[];for(var c=[],h=new e.patch_obj,d=0,u=0,p=0,f=o,m=o,g=0;g<l.length;g++){var b=l[g][0],v=l[g][1];switch(d||b===i||(h.start1=u,h.start2=p),b){case n:h.diffs[d++]=l[g],h.length2+=v.length,m=m.substring(0,p)+v+m.substring(p);break;case r:h.length1+=v.length,h.diffs[d++]=l[g],m=m.substring(0,p)+m.substring(p+v.length);break;case i:v.length<=2*this.Patch_Margin&&d&&l.length!=g+1?(h.diffs[d++]=l[g],h.length1+=v.length,h.length2+=v.length):v.length>=2*this.Patch_Margin&&d&&(this.patch_addContext_(h,f),c.push(h),h=new e.patch_obj,d=0,f=m,u=p)}b!==n&&(u+=v.length),b!==r&&(p+=v.length)}return d&&(this.patch_addContext_(h,f),c.push(h)),c},e.prototype.patch_deepCopy=function(t){for(var r=[],n=0;n<t.length;n++){var i=t[n],a=new e.patch_obj;a.diffs=[];for(var s=0;s<i.diffs.length;s++)a.diffs[s]=i.diffs[s].slice();a.start1=i.start1,a.start2=i.start2,a.length1=i.length1,a.length2=i.length2,r[n]=a}return r},e.prototype.patch_apply=function(t,e){if(0==t.length)return[e,[]];t=this.patch_deepCopy(t);var a=this.patch_addPadding(t);e=a+e+a,this.patch_splitMax(t);for(var s=0,o=[],l=0;l<t.length;l++){var c,h,d=t[l].start2+s,u=this.diff_text1(t[l].diffs),p=-1;if(u.length>this.Match_MaxBits?-1!=(c=this.match_main(e,u.substring(0,this.Match_MaxBits),d))&&(-1==(p=this.match_main(e,u.substring(u.length-this.Match_MaxBits),d+u.length-this.Match_MaxBits))||c>=p)&&(c=-1):c=this.match_main(e,u,d),-1==c)o[l]=!1,s-=t[l].length2-t[l].length1;else if(o[l]=!0,s=c-d,u==(h=-1==p?e.substring(c,c+u.length):e.substring(c,p+this.Match_MaxBits)))e=e.substring(0,c)+this.diff_text2(t[l].diffs)+e.substring(c+u.length);else{var f=this.diff_main(u,h,!1);if(u.length>this.Match_MaxBits&&this.diff_levenshtein(f)/u.length>this.Patch_DeleteThreshold)o[l]=!1;else{this.diff_cleanupSemanticLossless(f);for(var m,g=0,b=0;b<t[l].diffs.length;b++){var v=t[l].diffs[b];v[0]!==i&&(m=this.diff_xIndex(f,g)),v[0]===n?e=e.substring(0,c+m)+v[1]+e.substring(c+m):v[0]===r&&(e=e.substring(0,c+m)+e.substring(c+this.diff_xIndex(f,g+v[1].length))),v[0]!==r&&(g+=v[1].length)}}}}return[e=e.substring(a.length,e.length-a.length),o]},e.prototype.patch_addPadding=function(t){for(var e=this.Patch_Margin,r="",n=1;n<=e;n++)r+=String.fromCharCode(n);for(n=0;n<t.length;n++)t[n].start1+=e,t[n].start2+=e;var a=t[0],s=a.diffs;if(0==s.length||s[0][0]!=i)s.unshift([i,r]),a.start1-=e,a.start2-=e,a.length1+=e,a.length2+=e;else if(e>s[0][1].length){var o=e-s[0][1].length;s[0][1]=r.substring(s[0][1].length)+s[0][1],a.start1-=o,a.start2-=o,a.length1+=o,a.length2+=o}return 0==(s=(a=t[t.length-1]).diffs).length||s[s.length-1][0]!=i?(s.push([i,r]),a.length1+=e,a.length2+=e):e>s[s.length-1][1].length&&(o=e-s[s.length-1][1].length,s[s.length-1][1]+=r.substring(0,o),a.length1+=o,a.length2+=o),r},e.prototype.patch_splitMax=function(t){for(var a=this.Match_MaxBits,s=0;s<t.length;s++)if(!(t[s].length1<=a)){var o=t[s];t.splice(s--,1);for(var l=o.start1,c=o.start2,h="";0!==o.diffs.length;){var d=new e.patch_obj,u=!0;for(d.start1=l-h.length,d.start2=c-h.length,""!==h&&(d.length1=d.length2=h.length,d.diffs.push([i,h]));0!==o.diffs.length&&d.length1<a-this.Patch_Margin;){var p=o.diffs[0][0],f=o.diffs[0][1];p===n?(d.length2+=f.length,c+=f.length,d.diffs.push(o.diffs.shift()),u=!1):p===r&&1==d.diffs.length&&d.diffs[0][0]==i&&f.length>2*a?(d.length1+=f.length,l+=f.length,u=!1,d.diffs.push([p,f]),o.diffs.shift()):(f=f.substring(0,a-d.length1-this.Patch_Margin),d.length1+=f.length,l+=f.length,p===i?(d.length2+=f.length,c+=f.length):u=!1,d.diffs.push([p,f]),f==o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(f.length))}h=(h=this.diff_text2(d.diffs)).substring(h.length-this.Patch_Margin);var m=this.diff_text1(o.diffs).substring(0,this.Patch_Margin);""!==m&&(d.length1+=m.length,d.length2+=m.length,0!==d.diffs.length&&d.diffs[d.diffs.length-1][0]===i?d.diffs[d.diffs.length-1][1]+=m:d.diffs.push([i,m])),u||t.splice(++s,0,d)}}},e.prototype.patch_toText=function(t){for(var e=[],r=0;r<t.length;r++)e[r]=t[r];return e.join("")},e.prototype.patch_fromText=function(t){var a=[];if(!t)return a;for(var s=t.split("\n"),o=0,l=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;o<s.length;){var c=s[o].match(l);if(!c)throw new Error("Invalid patch string: "+s[o]);var h=new e.patch_obj;for(a.push(h),h.start1=parseInt(c[1],10),""===c[2]?(h.start1--,h.length1=1):"0"==c[2]?h.length1=0:(h.start1--,h.length1=parseInt(c[2],10)),h.start2=parseInt(c[3],10),""===c[4]?(h.start2--,h.length2=1):"0"==c[4]?h.length2=0:(h.start2--,h.length2=parseInt(c[4],10)),o++;o<s.length;){var d=s[o].charAt(0);try{var u=decodeURI(s[o].substring(1))}catch(t){throw new Error("Illegal escape in patch_fromText: "+u)}if("-"==d)h.diffs.push([r,u]);else if("+"==d)h.diffs.push([n,u]);else if(" "==d)h.diffs.push([i,u]);else{if("@"==d)break;if(""!==d)throw new Error('Invalid patch mode "'+d+'" in: '+u)}o++}}return a},e.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},e.patch_obj.prototype.toString=function(){for(var t,e=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],a=0;a<this.diffs.length;a++){switch(this.diffs[a][0]){case n:t="+";break;case r:t="-";break;case i:t=" "}e[a+1]=t+encodeURI(this.diffs[a][1])+"\n"}return e.join("").replace(/%20/g," ")},t.exports=e,t.exports.diff_match_patch=e,t.exports.DIFF_DELETE=r,t.exports.DIFF_INSERT=n,t.exports.DIFF_EQUAL=i})),X=2,G=60,Y=null,Q=function(t){if(!Y){var e=void 0;if("undefined"!=typeof diff_match_patch)e="function"==typeof diff_match_patch?new diff_match_patch:new diff_match_patch.diff_match_patch;else if(Z)try{e=Z&&new Z}catch(t){e=null}if(!e){if(!t)return null;var r=new Error("text diff_match_patch library not found");throw r.diff_match_patch_not_found=!0,r}Y={diff:function(t,r){return e.patch_toText(e.patch_make(t,r))},patch:function(t,r){for(var n=e.patch_apply(e.patch_fromText(r),t),i=0;i<n[1].length;i++)n[1][i]||(new Error("text patch failed").textPatchFailed=!0);return n[0]}}}return Y},J=function(t){if("string"===t.leftType){var e=t.options&&t.options.textDiff&&t.options.textDiff.minLength||G;if(t.left.length<e||t.right.length<e)t.setResult([t.left,t.right]).exit();else{var r=Q();if(r){var n=r.diff;t.setResult([n(t.left,t.right),0,X]).exit()}else t.setResult([t.left,t.right]).exit()}}};J.filterName="texts";var K=function(t){if(!t.nested&&t.delta[2]===X){var e=Q(!0).patch;t.setResult(e(t.left,t.delta[0])).exit()}};K.filterName="texts";var tt=function(t){var e=void 0,r=void 0,n=void 0,i=void 0,a=void 0,s=null,o=/^@@ +-(\d+),(\d+) +\+(\d+),(\d+) +@@$/;for(e=0,r=(n=t.split("\n")).length;e<r;e++){var l=(i=n[e]).slice(0,1);"@"===l?(s=o.exec(i),n[e]="@@ -"+s[3]+","+s[4]+" +"+s[1]+","+s[2]+" @@"):"+"===l?(n[e]="-"+n[e].slice(1),"+"===n[e-1].slice(0,1)&&(a=n[e],n[e]=n[e-1],n[e-1]=a)):"-"===l&&(n[e]="+"+n[e].slice(1))}return n.join("\n")},et=function(t){t.nested||t.delta[2]===X&&t.setResult([tt(t.delta[0]),0,X]).exit()};et.filterName="texts";var rt=function(){function t(e){n(this,t),this.processor=new h(e),this.processor.pipe(new d("diff").append(k,w,U,J,S,j).shouldHaveResult()),this.processor.pipe(new d("patch").append(M,B,_,K,I,N).shouldHaveResult()),this.processor.pipe(new d("reverse").append(C,W,x,et,D,H).shouldHaveResult())}return i(t,[{key:"options",value:function(){var t;return(t=this.processor).options.apply(t,arguments)}},{key:"diff",value:function(t,e){return this.processor.process(new g(t,e))}},{key:"patch",value:function(t,e){return this.processor.process(new b(t,e))}},{key:"reverse",value:function(t){return this.processor.process(new v(t))}},{key:"unpatch",value:function(t,e){return this.patch(t,this.reverse(e))}},{key:"clone",value:function(t){return m(t)}}]),t}(),nt="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},it="function"==typeof Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e},at=function(t){return"_"===t.substr(0,1)?t.slice(1):t},st=function(t){return"_t"===t?-1:"_"===t.substr(0,1)?parseInt(t.slice(1),10):parseInt(t,10)+.1},ot=function(t,e){return st(t)-st(e)},lt=function(){function t(){n(this,t)}return i(t,[{key:"format",value:function(t,e){var r={};return this.prepareContext(r),this.recurse(r,t,e),this.finalize(r)}},{key:"prepareContext",value:function(t){t.buffer=[],t.out=function(){var t;(t=this.buffer).push.apply(t,arguments)}}},{key:"typeFormattterNotFound",value:function(t,e){throw new Error("cannot format delta type: "+e)}},{key:"typeFormattterErrorFormatter",value:function(t,e){return e.toString()}},{key:"finalize",value:function(t){var e=t.buffer;if(nt(e))return e.join("")}},{key:"recurse",value:function(t,e,r,n,i,a,s){var o=e&&a?a.value:r;if(void 0!==e||void 0!==n){var l=this.getDeltaType(e,a),c="node"===l?"a"===e._t?"array":"object":"";void 0!==n?this.nodeBegin(t,n,i,l,c,s):this.rootBegin(t,l,c);try{(this["format_"+l]||this.typeFormattterNotFound(t,l)).call(this,t,e,o,n,i,a)}catch(r){this.typeFormattterErrorFormatter(t,r,e,o,n,i,a),"undefined"!=typeof console&&console.error&&console.error(r.stack)}void 0!==n?this.nodeEnd(t,n,i,l,c,s):this.rootEnd(t,l,c)}}},{key:"formatDeltaChildren",value:function(t,e,r){var n=this;this.forEachDeltaKey(e,r,(function(i,a,s,o){n.recurse(t,e[i],r?r[a]:void 0,i,a,s,o)}))}},{key:"forEachDeltaKey",value:function(t,e,r){var n=it(t),i="a"===t._t,a={},s=void 0;if(void 0!==e)for(s in e)Object.prototype.hasOwnProperty.call(e,s)&&(void 0!==t[s]||i&&void 0!==t["_"+s]||n.push(s));for(s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=t[s];nt(o)&&3===o[2]&&(a[o[1].toString()]={key:s,value:e&&e[parseInt(s.substr(1))]},!1!==this.includeMoveDestinations&&void 0===e&&void 0===t[o[1]]&&n.push(o[1].toString()))}i?n.sort(ot):n.sort();for(var l=0,c=n.length;l<c;l++){var h=n[l];if(!i||"_t"!==h){var d=i?"number"==typeof h?h:parseInt(at(h),10):h,u=l===c-1;r(h,d,a[d],u)}}}},{key:"getDeltaType",value:function(t,e){if(void 0===t)return void 0!==e?"movedestination":"unchanged";if(nt(t)){if(1===t.length)return"added";if(2===t.length)return"modified";if(3===t.length&&0===t[2])return"deleted";if(3===t.length&&2===t[2])return"textdiff";if(3===t.length&&3===t[2])return"moved"}else if("object"===(void 0===t?"undefined":r(t)))return"node";return"unknown"}},{key:"parseTextDiff",value:function(t){for(var e=[],r=t.split("\n@@ "),n=0,i=r.length;n<i;n++){var a=r[n],s={pieces:[]},o=/^(?:@@ )?[-+]?(\d+),(\d+)/.exec(a).slice(1);s.location={line:o[0],chr:o[1]};for(var l=a.split("\n").slice(1),c=0,h=l.length;c<h;c++){var d=l[c];if(d.length){var u={type:"context"};"+"===d.substr(0,1)?u.type="added":"-"===d.substr(0,1)&&(u.type="deleted"),u.text=d.slice(1),s.pieces.push(u)}}e.push(s)}return e}}]),t}(),ct=Object.freeze({default:lt}),ht=function(t){function e(){return n(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),i(e,[{key:"typeFormattterErrorFormatter",value:function(t,e){t.out('<pre class="jsondiffpatch-error">'+e+"</pre>")}},{key:"formatValue",value:function(t,e){t.out("<pre>"+dt(JSON.stringify(e,null,2))+"</pre>")}},{key:"formatTextDiffString",value:function(t,e){var r=this.parseTextDiff(e);t.out('<ul class="jsondiffpatch-textdiff">');for(var n=0,i=r.length;n<i;n++){var a=r[n];t.out('<li><div class="jsondiffpatch-textdiff-location"><span class="jsondiffpatch-textdiff-line-number">'+a.location.line+'</span><span class="jsondiffpatch-textdiff-char">'+a.location.chr+'</span></div><div class="jsondiffpatch-textdiff-line">');for(var s=a.pieces,o=0,l=s.length;o<l;o++){var c=s[o];t.out('<span class="jsondiffpatch-textdiff-'+c.type+'">'+dt(decodeURI(c.text))+"</span>")}t.out("</div></li>")}t.out("</ul>")}},{key:"rootBegin",value:function(t,e,r){var n="jsondiffpatch-"+e+(r?" jsondiffpatch-child-node-type-"+r:"");t.out('<div class="jsondiffpatch-delta '+n+'">')}},{key:"rootEnd",value:function(t){t.out("</div>"+(t.hasArrows?'<script type="text/javascript">setTimeout('+ut.toString()+",10);<\/script>":""))}},{key:"nodeBegin",value:function(t,e,r,n,i){var a="jsondiffpatch-"+n+(i?" jsondiffpatch-child-node-type-"+i:"");t.out('<li class="'+a+'" data-key="'+r+'"><div class="jsondiffpatch-property-name">'+r+"</div>")}},{key:"nodeEnd",value:function(t){t.out("</li>")}},{key:"format_unchanged",value:function(t,e,r){void 0!==r&&(t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,r),t.out("</div>"))}},{key:"format_movedestination",value:function(t,e,r){void 0!==r&&(t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,r),t.out("</div>"))}},{key:"format_node",value:function(t,e,r){var n="a"===e._t?"array":"object";t.out('<ul class="jsondiffpatch-node jsondiffpatch-node-type-'+n+'">'),this.formatDeltaChildren(t,e,r),t.out("</ul>")}},{key:"format_added",value:function(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,e[0]),t.out("</div>")}},{key:"format_modified",value:function(t,e){t.out('<div class="jsondiffpatch-value jsondiffpatch-left-value">'),this.formatValue(t,e[0]),t.out('</div><div class="jsondiffpatch-value jsondiffpatch-right-value">'),this.formatValue(t,e[1]),t.out("</div>")}},{key:"format_deleted",value:function(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,e[0]),t.out("</div>")}},{key:"format_moved",value:function(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,e[0]),t.out('</div><div class="jsondiffpatch-moved-destination">'+e[1]+"</div>"),t.out('<div class="jsondiffpatch-arrow" style="position: relative; left: -34px;">\n          <svg width="30" height="60" style="position: absolute; display: none;">\n          <defs>\n              <marker id="markerArrow" markerWidth="8" markerHeight="8"\n                 refx="2" refy="4"\n                     orient="auto" markerUnits="userSpaceOnUse">\n                  <path d="M1,1 L1,7 L7,4 L1,1" style="fill: #339;" />\n              </marker>\n          </defs>\n          <path d="M30,0 Q-10,25 26,50"\n            style="stroke: #88f; stroke-width: 2px; fill: none; stroke-opacity: 0.5; marker-end: url(#markerArrow);"\n          ></path>\n          </svg>\n      </div>'),t.hasArrows=!0}},{key:"format_textdiff",value:function(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatTextDiffString(t,e[0]),t.out("</div>")}}]),e}(lt);function dt(t){for(var e=t,r=[[/&/g,"&amp;"],[/</g,"&lt;"],[/>/g,"&gt;"],[/'/g,"&apos;"],[/"/g,"&quot;"]],n=0;n<r.length;n++)e=e.replace(r[n][0],r[n][1]);return e}var ut=function(t){var e=t||document,r=function(t){var e=t.textContent,r=t.innerText;return e||r},n=function(t,e){for(var r=t.children,n=0,i=r.length;n<i;n++)e(r[n],n)};!function(t,e,r){for(var n=t.querySelectorAll(e),i=0,a=n.length;i<a;i++)r(n[i])}(e,".jsondiffpatch-arrow",(function(t){var e=t.parentNode,i=t.children,a=t.style,s=e,o=i[0],l=o.children[1];o.style.display="none";var c=r(s.querySelector(".jsondiffpatch-moved-destination")),h=s.parentNode,d=void 0;if(n(h,(function(t){t.getAttribute("data-key")===c&&(d=t)})),d)try{var u=d.offsetTop-s.offsetTop;o.setAttribute("height",Math.abs(u)+6),a.top=-8+(u>0?0:u)+"px";var p=u>0?"M30,0 Q-10,"+Math.round(u/2)+" 26,"+(u-4):"M30,"+-u+" Q-10,"+Math.round(-u/2)+" 26,4";l.setAttribute("d",p),o.style.display=""}catch(t){}}))},pt=function(t,e,r){var n=e||document.body,i="jsondiffpatch-unchanged-",a={showing:i+"showing",hiding:i+"hiding",visible:i+"visible",hidden:i+"hidden"},s=n.classList;if(s){if(!r)return s.remove(a.showing),s.remove(a.hiding),s.remove(a.visible),s.remove(a.hidden),void(!1===t&&s.add(a.hidden));!1===t?(s.remove(a.showing),s.add(a.visible),setTimeout((function(){s.add(a.hiding)}),10)):(s.remove(a.hiding),s.add(a.showing),s.remove(a.hidden));var o=setInterval((function(){ut(n)}),100);setTimeout((function(){s.remove(a.showing),s.remove(a.hiding),!1===t?(s.add(a.hidden),s.remove(a.visible)):(s.add(a.visible),s.remove(a.hidden)),setTimeout((function(){s.remove(a.visible),clearInterval(o)}),r+400)}),r)}},ft=function(t,e){return pt(!1,t,e)},mt=void 0;function gt(t,e){return mt||(mt=new ht),mt.format(t,e)}var bt=Object.freeze({showUnchanged:pt,hideUnchanged:ft,default:ht,format:gt}),vt=function(t){function e(){n(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.includeMoveDestinations=!1,t}return s(e,t),i(e,[{key:"prepareContext",value:function(t){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"prepareContext",this).call(this,t),t.indent=function(t){this.indentLevel=(this.indentLevel||0)+(void 0===t?1:t),this.indentPad=new Array(this.indentLevel+1).join("&nbsp;&nbsp;")},t.row=function(e,r){t.out('<tr><td style="white-space: nowrap;"><pre class="jsondiffpatch-annotated-indent" style="display: inline-block">'),t.out(t.indentPad),t.out('</pre><pre style="display: inline-block">'),t.out(e),t.out('</pre></td><td class="jsondiffpatch-delta-note"><div>'),t.out(r),t.out("</div></td></tr>")}}},{key:"typeFormattterErrorFormatter",value:function(t,e){t.row("",'<pre class="jsondiffpatch-error">'+e+"</pre>")}},{key:"formatTextDiffString",value:function(t,e){var r=this.parseTextDiff(e);t.out('<ul class="jsondiffpatch-textdiff">');for(var n=0,i=r.length;n<i;n++){var a=r[n];t.out('<li><div class="jsondiffpatch-textdiff-location"><span class="jsondiffpatch-textdiff-line-number">'+a.location.line+'</span><span class="jsondiffpatch-textdiff-char">'+a.location.chr+'</span></div><div class="jsondiffpatch-textdiff-line">');for(var s=a.pieces,o=0,l=s.length;o<l;o++){var c=s[o];t.out('<span class="jsondiffpatch-textdiff-'+c.type+'">'+c.text+"</span>")}t.out("</div></li>")}t.out("</ul>")}},{key:"rootBegin",value:function(t,e,r){t.out('<table class="jsondiffpatch-annotated-delta">'),"node"===e&&(t.row("{"),t.indent()),"array"===r&&t.row('"_t": "a",',"Array delta (member names indicate array indices)")}},{key:"rootEnd",value:function(t,e){"node"===e&&(t.indent(-1),t.row("}")),t.out("</table>")}},{key:"nodeBegin",value:function(t,e,r,n,i){t.row("&quot;"+e+"&quot;: {"),"node"===n&&t.indent(),"array"===i&&t.row('"_t": "a",',"Array delta (member names indicate array indices)")}},{key:"nodeEnd",value:function(t,e,r,n,i,a){"node"===n&&t.indent(-1),t.row("}"+(a?"":","))}},{key:"format_unchanged",value:function(){}},{key:"format_movedestination",value:function(){}},{key:"format_node",value:function(t,e,r){this.formatDeltaChildren(t,e,r)}}]),e}(lt),yt=function(t){return'<pre style="display:inline-block">&quot;'+t+"&quot;</pre>"},wt={added:function(t,e,r,n){var i=" <pre>([newValue])</pre>";return void 0===n?"new value"+i:"number"==typeof n?"insert at index "+n+i:"add property "+yt(n)+i},modified:function(t,e,r,n){var i=" <pre>([previousValue, newValue])</pre>";return void 0===n?"modify value"+i:"number"==typeof n?"modify at index "+n+i:"modify property "+yt(n)+i},deleted:function(t,e,r,n){var i=" <pre>([previousValue, 0, 0])</pre>";return void 0===n?"delete value"+i:"number"==typeof n?"remove index "+n+i:"delete property "+yt(n)+i},moved:function(t,e,r,n){return'move from <span title="(position to remove at original state)">index '+n+'</span> to <span title="(position to insert at final state)">index '+t[1]+"</span>"},textdiff:function(t,e,r,n){return"text diff"+(void 0===n?"":"number"==typeof n?" at index "+n:" at property "+yt(n))+', format is <a href="https://code.google.com/p/google-diff-match-patch/wiki/Unidiff">a variation of Unidiff</a>'}},_t=function(t,e){var r=this.getDeltaType(e),n=wt[r],i=n&&n.apply(n,Array.prototype.slice.call(arguments,1)),a=JSON.stringify(e,null,2);"textdiff"===r&&(a=a.split("\\n").join('\\n"+\n   "')),t.indent(),t.row(a,i),t.indent(-1)};vt.prototype.format_added=_t,vt.prototype.format_modified=_t,vt.prototype.format_deleted=_t,vt.prototype.format_moved=_t,vt.prototype.format_textdiff=_t;var xt=void 0;function kt(t,e){return xt||(xt=new vt),xt.format(t,e)}var St=Object.freeze({default:vt,format:kt}),It={add:"add",remove:"remove",replace:"replace",move:"move"},Mt=function(t){function e(){n(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.includeMoveDestinations=!0,t}return s(e,t),i(e,[{key:"prepareContext",value:function(t){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"prepareContext",this).call(this,t),t.result=[],t.path=[],t.pushCurrentOp=function(t){var e=t.op,r=t.value,n={op:e,path:this.currentPath()};void 0!==r&&(n.value=r),this.result.push(n)},t.pushMoveOp=function(t){var e=this.currentPath();this.result.push({op:It.move,from:e,path:this.toPath(t)})},t.currentPath=function(){return"/"+this.path.join("/")},t.toPath=function(t){var e=this.path.slice();return e[e.length-1]=t,"/"+e.join("/")}}},{key:"typeFormattterErrorFormatter",value:function(t,e){t.out("[ERROR] "+e)}},{key:"rootBegin",value:function(){}},{key:"rootEnd",value:function(){}},{key:"nodeBegin",value:function(t,e,r){t.path.push(r)}},{key:"nodeEnd",value:function(t){t.path.pop()}},{key:"format_unchanged",value:function(){}},{key:"format_movedestination",value:function(){}},{key:"format_node",value:function(t,e,r){this.formatDeltaChildren(t,e,r)}},{key:"format_added",value:function(t,e){t.pushCurrentOp({op:It.add,value:e[0]})}},{key:"format_modified",value:function(t,e){t.pushCurrentOp({op:It.replace,value:e[1]})}},{key:"format_deleted",value:function(t){t.pushCurrentOp({op:It.remove})}},{key:"format_moved",value:function(t,e){var r=e[1];t.pushMoveOp(r)}},{key:"format_textdiff",value:function(){throw new Error("Not implemented")}},{key:"format",value:function(t,e){var r={};return this.prepareContext(r),this.recurse(r,t,e),r.result}}]),e}(lt),Dt=function(t){return t[t.length-1]},Ct=function(t,e){return t.sort(e),t},At=function(t,e){var r=parseInt(t,10),n=parseInt(e,10);return isNaN(r)||isNaN(n)?0:n-r},Pt=function(t){return Ct(t,(function(t,e){var r=t.path.split("/"),n=e.path.split("/");return r.length!==n.length?r.length-n.length:At(Dt(r),Dt(n))}))},$t=function(t,e){var r=Array(e.length+1).fill().map((function(){return[]}));return t.map((function(t){var r=e.map((function(e){return e(t)})).indexOf(!0);return r<0&&(r=e.length),{item:t,position:r}})).reduce((function(t,e){return t[e.position].push(e.item),t}),r)},Tt=function(t){return"move"===t.op},Et=function(t){return"remove"===t.op},Ot=function(t){var e=$t(t,[Tt,Et]),r=l(e,3),n=r[0],i=r[1],a=r[2],s=Pt(i);return[].concat(c(s),c(n),c(a))},Rt=void 0,Lt=function(t,e){return Rt||(Rt=new Mt),Ot(Rt.format(t,e))},Ft=function(t,e){console.log(Lt(t,e))},jt=Object.freeze({default:Mt,partitionOps:$t,format:Lt,log:Ft});function zt(t){return e&&e[t]||function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e}}var Nt={added:zt("green"),deleted:zt("red"),movedestination:zt("gray"),moved:zt("yellow"),unchanged:zt("gray"),error:zt("white.bgRed"),textDiffLine:zt("gray")},Bt=function(t){function e(){n(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.includeMoveDestinations=!1,t}return s(e,t),i(e,[{key:"prepareContext",value:function(t){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"prepareContext",this).call(this,t),t.indent=function(t){this.indentLevel=(this.indentLevel||0)+(void 0===t?1:t),this.indentPad=new Array(this.indentLevel+1).join("  "),this.outLine()},t.outLine=function(){this.buffer.push("\n"+(this.indentPad||""))},t.out=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=0,i=e.length;n<i;n++){var a=e[n].split("\n").join("\n"+(this.indentPad||""));this.color&&this.color[0]&&(a=this.color[0](a)),this.buffer.push(a)}},t.pushColor=function(t){this.color=this.color||[],this.color.unshift(t)},t.popColor=function(){this.color=this.color||[],this.color.shift()}}},{key:"typeFormattterErrorFormatter",value:function(t,e){t.pushColor(Nt.error),t.out("[ERROR]"+e),t.popColor()}},{key:"formatValue",value:function(t,e){t.out(JSON.stringify(e,null,2))}},{key:"formatTextDiffString",value:function(t,e){var r=this.parseTextDiff(e);t.indent();for(var n=0,i=r.length;n<i;n++){var a=r[n];t.pushColor(Nt.textDiffLine),t.out(a.location.line+","+a.location.chr+" "),t.popColor();for(var s=a.pieces,o=0,l=s.length;o<l;o++){var c=s[o];t.pushColor(Nt[c.type]),t.out(c.text),t.popColor()}n<i-1&&t.outLine()}t.indent(-1)}},{key:"rootBegin",value:function(t,e,r){t.pushColor(Nt[e]),"node"===e&&(t.out("array"===r?"[":"{"),t.indent())}},{key:"rootEnd",value:function(t,e,r){"node"===e&&(t.indent(-1),t.out("array"===r?"]":"}")),t.popColor()}},{key:"nodeBegin",value:function(t,e,r,n,i){t.pushColor(Nt[n]),t.out(r+": "),"node"===n&&(t.out("array"===i?"[":"{"),t.indent())}},{key:"nodeEnd",value:function(t,e,r,n,i,a){"node"===n&&(t.indent(-1),t.out("array"===i?"]":"}"+(a?"":","))),a||t.outLine(),t.popColor()}},{key:"format_unchanged",value:function(t,e,r){void 0!==r&&this.formatValue(t,r)}},{key:"format_movedestination",value:function(t,e,r){void 0!==r&&this.formatValue(t,r)}},{key:"format_node",value:function(t,e,r){this.formatDeltaChildren(t,e,r)}},{key:"format_added",value:function(t,e){this.formatValue(t,e[0])}},{key:"format_modified",value:function(t,e){t.pushColor(Nt.deleted),this.formatValue(t,e[0]),t.popColor(),t.out(" => "),t.pushColor(Nt.added),this.formatValue(t,e[1]),t.popColor()}},{key:"format_deleted",value:function(t,e){this.formatValue(t,e[0])}},{key:"format_moved",value:function(t,e){t.out("==> "+e[1])}},{key:"format_textdiff",value:function(t,e){this.formatTextDiffString(t,e[0])}}]),e}(lt),Ht=void 0,Vt=function(t,e){return Ht||(Ht=new Bt),Ht.format(t,e)};function Wt(t,e){console.log(Vt(t,e))}var Ut=Object.freeze({default:Bt,format:Vt,log:Wt}),qt=Object.freeze({base:ct,html:bt,annotated:St,jsonpatch:jt,console:Ut});function Zt(t,e){var r=void 0;return"string"==typeof e&&(r=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d*))?(Z|([+-])(\d{2}):(\d{2}))$/.exec(e))?new Date(Date.UTC(+r[1],+r[2]-1,+r[3],+r[4],+r[5],+r[6],+(r[7]||0))):e}function Xt(t){return new rt(t)}var Gt=void 0;function Yt(){return Gt||(Gt=new rt),Gt.diff.apply(Gt,arguments)}function Qt(){return Gt||(Gt=new rt),Gt.patch.apply(Gt,arguments)}function Jt(){return Gt||(Gt=new rt),Gt.unpatch.apply(Gt,arguments)}function Kt(){return Gt||(Gt=new rt),Gt.reverse.apply(Gt,arguments)}function te(){return Gt||(Gt=new rt),Gt.clone.apply(Gt,arguments)}t.DiffPatcher=rt,t.formatters=qt,t.console=Ut,t.create=Xt,t.dateReviver=Zt,t.diff=Yt,t.patch=Qt,t.unpatch=Jt,t.reverse=Kt,t.clone=te,Object.defineProperty(t,"__esModule",{value:!0})}(e,r(2837))},1589:(t,e,r)=>{"use strict";var n=r(3379),i=r.n(n),a=r(7795),s=r.n(a),o=r(569),l=r.n(o),c=r(3565),h=r.n(c),d=r(9216),u=r.n(d),p=r(4589),f=r.n(p),m=r(8923),g={};g.styleTagTransform=f(),g.setAttributes=h(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=u();var b=i()(m.default,g);if(!m.default.locals||t.hot.invalidate){var v=!m.default.locals,y=v?m:m.default.locals;t.hot.accept(8923,(e=>{m=r(8923),function(t,e,r){if(!t&&e||t&&!e)return!1;var n;for(n in t)if((!r||"default"!==n)&&t[n]!==e[n])return!1;for(n in e)if(!(r&&"default"===n||t[n]))return!1;return!0}(y,v?m:m.default.locals,v)?(y=v?m:m.default.locals,b(m.default)):t.hot.invalidate()}))}t.hot.dispose((function(){b()}));m.default&&m.default.locals&&m.default.locals},2258:(t,e,r)=>{"use strict";var n=r(3379),i=r.n(n),a=r(7795),s=r.n(a),o=r(569),l=r.n(o),c=r(3565),h=r.n(c),d=r(9216),u=r.n(d),p=r(4589),f=r.n(p),m=r(2267),g={};g.styleTagTransform=f(),g.setAttributes=h(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=u();var b=i()(m.default,g);if(!m.default.locals||t.hot.invalidate){var v=!m.default.locals,y=v?m:m.default.locals;t.hot.accept(2267,(e=>{m=r(2267),function(t,e,r){if(!t&&e||t&&!e)return!1;var n;for(n in t)if((!r||"default"!==n)&&t[n]!==e[n])return!1;for(n in e)if(!(r&&"default"===n||t[n]))return!1;return!0}(y,v?m:m.default.locals,v)?(y=v?m:m.default.locals,b(m.default)):t.hot.invalidate()}))}t.hot.dispose((function(){b()}));m.default&&m.default.locals&&m.default.locals},7472:(t,e,r)=>{"use strict";var n=r(3379),i=r.n(n),a=r(7795),s=r.n(a),o=r(569),l=r.n(o),c=r(3565),h=r.n(c),d=r(9216),u=r.n(d),p=r(4589),f=r.n(p),m=r(2732),g={};g.styleTagTransform=f(),g.setAttributes=h(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=u();var b=i()(m.default,g);if(!m.default.locals||t.hot.invalidate){var v=!m.default.locals,y=v?m:m.default.locals;t.hot.accept(2732,(e=>{m=r(2732),function(t,e,r){if(!t&&e||t&&!e)return!1;var n;for(n in t)if((!r||"default"!==n)&&t[n]!==e[n])return!1;for(n in e)if(!(r&&"default"===n||t[n]))return!1;return!0}(y,v?m:m.default.locals,v)?(y=v?m:m.default.locals,b(m.default)):t.hot.invalidate()}))}t.hot.dispose((function(){b()}));m.default&&m.default.locals&&m.default.locals},7642:(t,e,r)=>{"use strict";var n=r(3379),i=r.n(n),a=r(7795),s=r.n(a),o=r(569),l=r.n(o),c=r(3565),h=r.n(c),d=r(9216),u=r.n(d),p=r(4589),f=r.n(p),m=r(8868),g={};g.styleTagTransform=f(),g.setAttributes=h(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=u();var b=i()(m.default,g);if(!m.default.locals||t.hot.invalidate){var v=!m.default.locals,y=v?m:m.default.locals;t.hot.accept(8868,(e=>{m=r(8868),function(t,e,r){if(!t&&e||t&&!e)return!1;var n;for(n in t)if((!r||"default"!==n)&&t[n]!==e[n])return!1;for(n in e)if(!(r&&"default"===n||t[n]))return!1;return!0}(y,v?m:m.default.locals,v)?(y=v?m:m.default.locals,b(m.default)):t.hot.invalidate()}))}t.hot.dispose((function(){b()}));m.default&&m.default.locals&&m.default.locals},4639:(t,e,r)=>{"use strict";var n=r(3379),i=r.n(n),a=r(7795),s=r.n(a),o=r(569),l=r.n(o),c=r(3565),h=r.n(c),d=r(9216),u=r.n(d),p=r(4589),f=r.n(p),m=r(5667),g={};g.styleTagTransform=f(),g.setAttributes=h(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=u();var b=i()(m.default,g);if(!m.default.locals||t.hot.invalidate){var v=!m.default.locals,y=v?m:m.default.locals;t.hot.accept(5667,(e=>{m=r(5667),function(t,e,r){if(!t&&e||t&&!e)return!1;var n;for(n in t)if((!r||"default"!==n)&&t[n]!==e[n])return!1;for(n in e)if(!(r&&"default"===n||t[n]))return!1;return!0}(y,v?m:m.default.locals,v)?(y=v?m:m.default.locals,b(m.default)):t.hot.invalidate()}))}t.hot.dispose((function(){b()}));m.default&&m.default.locals&&m.default.locals},3389:(t,e,r)=>{"use strict";var n=r(3379),i=r.n(n),a=r(7795),s=r.n(a),o=r(569),l=r.n(o),c=r(3565),h=r.n(c),d=r(9216),u=r.n(d),p=r(4589),f=r.n(p),m=r(3415),g={};g.styleTagTransform=f(),g.setAttributes=h(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=u();var b=i()(m.default,g);if(!m.default.locals||t.hot.invalidate){var v=!m.default.locals,y=v?m:m.default.locals;t.hot.accept(3415,(e=>{m=r(3415),function(t,e,r){if(!t&&e||t&&!e)return!1;var n;for(n in t)if((!r||"default"!==n)&&t[n]!==e[n])return!1;for(n in e)if(!(r&&"default"===n||t[n]))return!1;return!0}(y,v?m:m.default.locals,v)?(y=v?m:m.default.locals,b(m.default)):t.hot.invalidate()}))}t.hot.dispose((function(){b()}));m.default&&m.default.locals&&m.default.locals},1727:(t,e,r)=>{"use strict";var n=r(3379),i=r.n(n),a=r(7795),s=r.n(a),o=r(569),l=r.n(o),c=r(3565),h=r.n(c),d=r(9216),u=r.n(d),p=r(4589),f=r.n(p),m=r(9674),g={};g.styleTagTransform=f(),g.setAttributes=h(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=u();var b=i()(m.default,g);if(!m.default.locals||t.hot.invalidate){var v=!m.default.locals,y=v?m:m.default.locals;t.hot.accept(9674,(e=>{m=r(9674),function(t,e,r){if(!t&&e||t&&!e)return!1;var n;for(n in t)if((!r||"default"!==n)&&t[n]!==e[n])return!1;for(n in e)if(!(r&&"default"===n||t[n]))return!1;return!0}(y,v?m:m.default.locals,v)?(y=v?m:m.default.locals,b(m.default)):t.hot.invalidate()}))}t.hot.dispose((function(){b()}));m.default&&m.default.locals&&m.default.locals},1610:(t,e,r)=>{"use strict";var n=r(3379),i=r.n(n),a=r(7795),s=r.n(a),o=r(569),l=r.n(o),c=r(3565),h=r.n(c),d=r(9216),u=r.n(d),p=r(4589),f=r.n(p),m=r(8956),g={};g.styleTagTransform=f(),g.setAttributes=h(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=u();var b=i()(m.default,g);if(!m.default.locals||t.hot.invalidate){var v=!m.default.locals,y=v?m:m.default.locals;t.hot.accept(8956,(e=>{m=r(8956),function(t,e,r){if(!t&&e||t&&!e)return!1;var n;for(n in t)if((!r||"default"!==n)&&t[n]!==e[n])return!1;for(n in e)if(!(r&&"default"===n||t[n]))return!1;return!0}(y,v?m:m.default.locals,v)?(y=v?m:m.default.locals,b(m.default)):t.hot.invalidate()}))}t.hot.dispose((function(){b()}));m.default&&m.default.locals&&m.default.locals},9640:(t,e,r)=>{"use strict";var n=r(3379),i=r.n(n),a=r(7795),s=r.n(a),o=r(569),l=r.n(o),c=r(3565),h=r.n(c),d=r(9216),u=r.n(d),p=r(4589),f=r.n(p),m=r(7534),g={};g.styleTagTransform=f(),g.setAttributes=h(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=u();var b=i()(m.default,g);if(!m.default.locals||t.hot.invalidate){var v=!m.default.locals,y=v?m:m.default.locals;t.hot.accept(7534,(e=>{m=r(7534),function(t,e,r){if(!t&&e||t&&!e)return!1;var n;for(n in t)if((!r||"default"!==n)&&t[n]!==e[n])return!1;for(n in e)if(!(r&&"default"===n||t[n]))return!1;return!0}(y,v?m:m.default.locals,v)?(y=v?m:m.default.locals,b(m.default)):t.hot.invalidate()}))}t.hot.dispose((function(){b()}));m.default&&m.default.locals&&m.default.locals},9424:(t,e,r)=>{"use strict";var n=r(3379),i=r.n(n),a=r(7795),s=r.n(a),o=r(569),l=r.n(o),c=r(3565),h=r.n(c),d=r(9216),u=r.n(d),p=r(4589),f=r.n(p),m=r(3769),g={};g.styleTagTransform=f(),g.setAttributes=h(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=u();var b=i()(m.default,g);if(!m.default.locals||t.hot.invalidate){var v=!m.default.locals,y=v?m:m.default.locals;t.hot.accept(3769,(e=>{m=r(3769),function(t,e,r){if(!t&&e||t&&!e)return!1;var n;for(n in t)if((!r||"default"!==n)&&t[n]!==e[n])return!1;for(n in e)if(!(r&&"default"===n||t[n]))return!1;return!0}(y,v?m:m.default.locals,v)?(y=v?m:m.default.locals,b(m.default)):t.hot.invalidate()}))}t.hot.dispose((function(){b()}));m.default&&m.default.locals&&m.default.locals},8406:(t,e,r)=>{"use strict";var n=r(3379),i=r.n(n),a=r(7795),s=r.n(a),o=r(569),l=r.n(o),c=r(3565),h=r.n(c),d=r(9216),u=r.n(d),p=r(4589),f=r.n(p),m=r(8701),g={};g.styleTagTransform=f(),g.setAttributes=h(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=u();var b=i()(m.default,g);if(!m.default.locals||t.hot.invalidate){var v=!m.default.locals,y=v?m:m.default.locals;t.hot.accept(8701,(e=>{m=r(8701),function(t,e,r){if(!t&&e||t&&!e)return!1;var n;for(n in t)if((!r||"default"!==n)&&t[n]!==e[n])return!1;for(n in e)if(!(r&&"default"===n||t[n]))return!1;return!0}(y,v?m:m.default.locals,v)?(y=v?m:m.default.locals,b(m.default)):t.hot.invalidate()}))}t.hot.dispose((function(){b()}));m.default&&m.default.locals&&m.default.locals},7319:(t,e,r)=>{"use strict";var n=r(3379),i=r.n(n),a=r(7795),s=r.n(a),o=r(569),l=r.n(o),c=r(3565),h=r.n(c),d=r(9216),u=r.n(d),p=r(4589),f=r.n(p),m=r(1961),g={};g.styleTagTransform=f(),g.setAttributes=h(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=u();var b=i()(m.default,g);if(!m.default.locals||t.hot.invalidate){var v=!m.default.locals,y=v?m:m.default.locals;t.hot.accept(1961,(e=>{m=r(1961),function(t,e,r){if(!t&&e||t&&!e)return!1;var n;for(n in t)if((!r||"default"!==n)&&t[n]!==e[n])return!1;for(n in e)if(!(r&&"default"===n||t[n]))return!1;return!0}(y,v?m:m.default.locals,v)?(y=v?m:m.default.locals,b(m.default)):t.hot.invalidate()}))}t.hot.dispose((function(){b()}));m.default&&m.default.locals&&m.default.locals},5902:(t,e,r)=>{"use strict";var n=r(3379),i=r.n(n),a=r(7795),s=r.n(a),o=r(569),l=r.n(o),c=r(3565),h=r.n(c),d=r(9216),u=r.n(d),p=r(4589),f=r.n(p),m=r(1788),g={};g.styleTagTransform=f(),g.setAttributes=h(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=u();var b=i()(m.default,g);if(!m.default.locals||t.hot.invalidate){var v=!m.default.locals,y=v?m:m.default.locals;t.hot.accept(1788,(e=>{m=r(1788),function(t,e,r){if(!t&&e||t&&!e)return!1;var n;for(n in t)if((!r||"default"!==n)&&t[n]!==e[n])return!1;for(n in e)if(!(r&&"default"===n||t[n]))return!1;return!0}(y,v?m:m.default.locals,v)?(y=v?m:m.default.locals,b(m.default)):t.hot.invalidate()}))}t.hot.dispose((function(){b()}));m.default&&m.default.locals&&m.default.locals},3379:t=>{"use strict";var e=[];function r(t){for(var r=-1,n=0;n<e.length;n++)if(e[n].identifier===t){r=n;break}return r}function n(t,n){for(var a={},s=[],o=0;o<t.length;o++){var l=t[o],c=n.base?l[0]+n.base:l[0],h=a[c]||0,d="".concat(c," ").concat(h);a[c]=h+1;var u=r(d),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)e[u].references++,e[u].updater(p);else{var f=i(p,n);n.byIndex=o,e.splice(o,0,{identifier:d,updater:f,references:1})}s.push(d)}return s}function i(t,e){var r=e.domAPI(e);r.update(t);return function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;r.update(t=e)}else r.remove()}}t.exports=function(t,i){var a=n(t=t||[],i=i||{});return function(t){t=t||[];for(var s=0;s<a.length;s++){var o=r(a[s]);e[o].references--}for(var l=n(t,i),c=0;c<a.length;c++){var h=r(a[c]);0===e[h].references&&(e[h].updater(),e.splice(h,1))}a=l}}},569:t=>{"use strict";var e={};t.exports=function(t,r){var n=function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},9216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},3565:(t,e,r)=>{"use strict";t.exports=function(t){var e=r.nc;e&&t.setAttribute("nonce",e)}},7795:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(r){!function(t,e,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var i=void 0!==r.layer;i&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,i&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var a=r.sourceMap;a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,r)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},4589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},802:(t,e,r)=>{"use strict";r.d(e,{w:()=>a});var n=r(2165),i=r(7786);class a{get defaultState(){return{}}get state(){return this._state??=this.defaultState}set state(t){Object.defineProperty(this,"_state",{configurable:!0,value:t})}setState(t,...e){const r="function"==typeof t?t.call(this,this.state,...e):t;return this.state={...this.state,...r},e.render&&!1===e.render||this.render(),this}render(){}get html(){return this._html??=i.k9.wire(this)}get messenger(){return this._messenger??=new n.v}adoptState(t){if(!t instanceof a)throw new Error("Target state must be of a Component.")}get globalListeners(){return this._globalListeners??=new Map}globalListen(t,e,r){try{const i=Array.isArray(t)?t:[t];for(const t of i){if("string"!=typeof t&&"symbol"!=typeof t)throw new Error(`[Component][EventEmitter] eventName must be a string. Type: "${typeof t}"`);r?n.u.once(t,e):n.u.on(t,e);let i=this.globalListeners.get(t);i||this.globalListeners.set(t,i=new Set),i.add(e)}}catch(t){console.error("[globalListen]",this,t)}}globalListenOnce(t,e){this.globalListen(t,e,!0)}destroyGlobalListeners(){try{const t=[...this.globalListeners.entries()];if(!t||!t.length)return;for(const e of t)n.u.off(...e)}catch(t){console.warn("Could not clean up listeners!",this,t)}}get onDestroy(){return this._onDestroy??=new Set}destroy(){for(const t of[...this.onDestroy])try{t()}catch(t){console.warn("Sloppy destroy!")}}}},758:(t,e,r)=>{"use strict";r.d(e,{db:()=>d});var n=r(2165),i=r(631),a=r(8853),s=r(3773),o=r(3423),l=r(5959),c=r(7735),h=r(7375);const d=new class{constructor(){this.dbPath="db",this.assetPath="7",i.X.data.has("dbPath")&&(this.dbPath=i.X.data.get("dbPath")),i.X.data.has("pathCasing")&&(this.pathCasing=i.X.data.get("pathCasing")),i.X.data.has("revealHidden")?this.revealHidden=i.X.data.get("revealHidden"):o.B.getSecionSetting("spoilers")&&(this.revealHidden=!0)}async init(){const t=[this.getIndex()],e=i.X.countryCode;e&&t.push(c.a.init(e));const[r]=await Promise.all(t);this.index=r,console.info(`[db.init] "${this.index.manifest.size}" items in index.`),this.metadata=await this.getMetaData()}get items(){return this?._items??(this._items=new Map)}set revealHidden(t){if(t)return this._revealHidden=!0;this._revealHidden=!1}get revealHidden(){return this._revealHidden??=!1}get date(){return this?.index?.date??new Date("2021-11-15T20:00:00.000Z")}async getMetaData(){const t=this.getItemManifestByID("metadata"),e=await this.getJSON(`item/metadata/${t.res}.json`).catch((t=>{console.warn("[skimmer] metadata did not load...",t),this.metadata={}}));if(e)return e}async getIndex(){const t=await this.getJSON("index.json").then((t=>{if(!t||!Array.isArray(t?.types)||!Array.isArray(t?.manifest))throw new Error("[db.getIndex] index malformed...");return{date:new Date(t.date),types:new Set(t?.types??[]),tags:new Set(t?.tags??[]),manifest:new Map(t?.manifest??[])}})).catch((t=>{throw console.error("[db.getIndex]",t),new Error(`[db.getIndex] Fetch Error! "${t?.message??t?.statusText??t?.status}" "${t?.url}"`)}));if(t)return t;throw new Error("[db.getIndex] No index!")}async getJSON(t){if(t&&"string"==typeof t)return await fetch(`${h.Z}${this.pathCase(t)}`).then((e=>e.ok?e.json():(console.error(`[db.getJSON] ${e.status} "${this.pathCase(t)}"`),Promise.reject(e))));console.warn(`[db.get] Bad path! "${t}"`)}async getAssetJSON(t){if(t&&"string"==typeof t)return await fetch(`/${this?.assetPath??"7"}/${this.pathCase(t)}`).then((e=>e.ok?e.json():(console.error(`[db.getAssetJSON] ${e.status} "${this.pathCase(t)}"`),Promise.reject(e))));console.warn(`[db.getAssetJSON] Bad path! "${t}"`)}async getItem({id:t}){if(t&&"string"==typeof t){if(this.items.has(t))return this.items.get(t);try{if(!this.manifestHasID(t))return;const e=this.getItemManifestByID(t);if(!e?.res)throw new Error("No current item hash!");const r=await this.getJSON(`item/${e.name}/${e.res}.json`);if(!r)throw new Error("Failed to fetch item!");return new s.c({item:r,meta:e})}catch(e){console.error(`[db.getItem] "${t}"`,e)}}}async getItemVersion({id:t,hash:e}){if(t&&"string"==typeof t&&e&&"string"==typeof e)try{if(!this.manifestHasID(t))return;const r=this.getItemManifestByID(t),n=await this.getJSON(`item/${r.name}/${e}.json`);if(!n)throw new Error("Failed to fetch item!");return n}catch(r){console.error(`[db.getItemVersion] "${t}", "${e}"`,r)}}get typeIDs(){return this?._typeIDs??(this._typeIDs=new Map)}itemPathToID(t){if(t&&"string"==typeof t)try{const e=t.toLowerCase(),r=(0,l.B)(e);return r||t}catch(e){return void console.error(`[db.itemPathToID] Bad id/path for "${t}"`)}}getItemIDsByType(t){if(!t||"string"!=typeof t)return new Set;if(this.typeIDs.has(t))return this.typeIDs.get(t);if("Favorites"===t)return this.favoriteItemIDs;if(this.index.types.has(t)){const e=[...this.index.manifest.values()].filter((e=>e?.type===t));return this.typeIDs.set(t,new Set(e.map((t=>t?.name??"UNK")))),this.typeIDs.get(t)}console.warn(`[db.getItemIDsByType] Type not found! "${t}"`)}manifestHasID(t){return!(!t||"string"!=typeof t)&&!!this.index.manifest.has(t)}getItemManifestByID(t){if(t&&"string"==typeof t)return this.index.manifest.has(t)?this.index.manifest.get(t):void console.warn(`[db.getItemManifestByID] Not found! "${t}"`)}getItemTitleById(t){if(!t||"string"!=typeof t)return"???";if(this.index.manifest.has(t)){const e=this.index.manifest.get(t);return i.X.isTranslated?c.a.resolveItemTitle(t)??e.title:e.title}}getItemPathByID(t){if(!t||"string"!=typeof t)return;const e=this.getItemManifestByID(t)?.path;if(e)return e;console.warn(`[db.getItemPathByID] Not found! "${t}"`)}getCorePaths(){return["ArmorCore","VehicleCore","WeaponCore"].map((t=>[...this.getItemIDsByType(t)].map((t=>t.path))))}async getRelationsByID(t){try{if(!t)return;this?._relations||(this._relations=await this.getRelationsIndex());const e=await this._relations;if(!e||!e.size)return void console.error("[db.getRelationsByID] No relation index!");if(e.has(t))return e.get(t);console.warn(`[db.getRelationsByID] No relations for "${t}"!`)}catch(t){console.error("[db.getRelationsByID] uncaught",t)}}async getRelationsIndex(){const t=await this.getJSON("relations.json");if(t&&Array.isArray(t)){const e=new Map(t);return console.info(`[db.getRelationsIndex] "${e.size}" item relations`),this._relations=e,e}console.error("[db.getRelationsIndex] No relations index!")}async getHistoryIndex(){const t=await this.getJSON("history.json");if(t&&Array.isArray(t.items))return this._history=new Map(t.items),console.info(`[db.getHistoryIndex] loading history with "${this._history.size}" items from "${t.date}"`),this._history;console.error("[db.getHistoryIndex] No history index!")}async getHistoryByID(t){try{if(!t)return;if(this?._history||await this.getHistoryIndex(),!this._history||!this._history.size)return void console.error("[db.getHistoryByID] No history index!");if(this._history.has(t))return this._history.get(t);console.warn(`[db.getHistoryByID] No history for "${t}"!`)}catch(t){console.error("[db.getHistoryByID] uncaught",t)}}async getStatHistoryIndex(){const t=await this.getJSON("itemStatHistory.json");if(t&&Array.isArray(t.samples))return this._statHistory=new Map(t.samples),console.info(`[db.getStatHistoryIndex] loading history with "${this._statHistory.size}" items from "${t.date}"`),this._statHistory;console.error("[db.getStatHistoryIndex] No history index!")}async getStatHistoryByID(t){try{if(!t)return;if(this?._statHistory||await this.getStatHistoryIndex(),!this._statHistory||!this._statHistory.size)return void console.error("[db.getStatHistoryByID] No history index!");if(this._statHistory.has(t))return this._statHistory.get(t);console.warn(`[db.getStatHistoryByID] No history for "${t}"!`)}catch(t){console.error("[db.getStatHistoryByID] uncaught",t)}}get isStatHistoryLoaded(){return!!this._isStatHisoryLoaded||!!this?._statHistory&&(this._isStatHisoryLoaded=!0)}async getEmblemColorIndex(){if(this._emblemColors)return this._emblemColors;const t=await this.getJSON("emblemColors.json");if(t&&Array.isArray(t)){const e=new Map(t);return console.info(`[db.getEmblemColorIndex] "${e.size}" emblem colors`),this._emblemColors=e,this._emblemColors}console.error("[db.getEmblemColorIndex] No emblemColors index!")}getEmblemColor(t){const e=this._emblemColors??new Map;return e.has(t)?e.get(t):"#FFFFFF"}get manufacturers(){return this.metadata?this._manufacturers??=new Map(this?.metadata?.Manufacturers.map(((t,e)=>[e,t]))):new Map}getManufacturerByIndex(t){return this.manufacturers.has(t)?this.manufacturers.get(t):{ManufacturerName:"",ManufacturerLogoImage:""}}get qualities(){return this._qualities??=new Set(["Common","Rare","Epic","Legendary"])}get seasons(){return this._seasons??=new Map([[1,"Heroes of Reach"],[2,"Lone Wolves"],[3,"Echoes Within"],[4,"Infection"],[5,"Reckoning"],[6,"Operations"]])}get communityTags(){return this.index.tags}get itemTypes(){return this?._types??(this._types=new Map([["ArmorCoating","Coating, Armor"],["ArmorHelmet","Helmet"],["ArmorHelmetAttachment","Helmet Atch."],["ArmorVisor","Visor"],["ArmorLeftShoulderPad","Shoulder, Left"],["ArmorRightShoulderPad","Shoulder, Right"],["ArmorGlove","Gloves"],["ArmorChestAttachment","Chest Atch."],["ArmorKneePad","Knee Pads"],["ArmorWristAttachment","Wrist Atch."],["ArmorHipAttachment","Hip Atch."],["ArmorEmblem","Emblem, Armor"],["ArmorFx","Armor Effects"],["ArmorMythicFx","Mythic Effects"],["ArmorTheme","Kit, Armor"],["ArmorCore","Core, Armor"],["SpartanActionPose","Stance"],["SpartanBackdropImage","Backdrop"],["SpartanEmblem","Emblem, Nameplate"],["SpartanVoice","Voice Imprint"],["WeaponCharm","Charm"],["WeaponCoating","Coating, Weapon"],["WeaponDeathFx","Death Effect"],["WeaponEmblem","Emblem, Weapon"],["WeaponTheme","Kit, Weapon"],["WeaponCore","Core, Weapon"],["WeaponAlternateGeometryRegion","Model, Weapon"],["VehicleAlternateGeometryRegion","Model, Vehicle"],["VehicleCoating","Coating, Vehicle"],["VehicleEmblem","Emblem, Vehicle"],["VehicleTheme","Kit, Vehicle"],["VehicleCore","Core, Vehicle"],["HelmetAttachments","Helmet Atch."],["LeftShoulderPads","Shoulder, Left"],["RightShoulderPads","Shoulder, Right"],["KneePads","Knee Pads"],["ChestAttachments","Chest Atch."],["WristAttachments","Wrist Atch."],["HipAttachments","Hip Atch."],["WeaponCharms","Weapon Charms"],["DeathFx","Death Effects"],["AlternateGeometryRegions","Models"],["MythicFx","Mythic Effects"],["AiColor","AI Color"],["AiModel","AI Model"],["AiTheme","Kit, AI"],["AiCore","Core, AI"],["Offering","Offering"],["meta","Meta"],["None","Emblem Palette"]]))}getItemType(t){return t&&this.itemTypes.has(t)?this.itemTypes.get(t):t}async showItemPanelByPath(t,e){const r=this.itemPathToID(t),n=new s.c({id:r});await(n?.init())&&a.s.displayItem(n,e)}async showItemPanelByID(t,e){console.log("showItemPanelByID",t),this.manifestHasID(t)||console.warn(`[db.showItemPanelByID] No ID in manifest "${t}"`);const r=new s.c({id:t});await(r?.init())&&a.s.displayItem(r,e)}pathCase(t){return t&&"string"==typeof t?`${this?.pathCasing??1?t.toLowerCase():t}`:""}get selectedItemIDs(){return this?._selectedItemIDs?this?._selectedItemIDs:this._selectedItemIDs=new Set}set selectedItemIDs(t){!t||!t instanceof Set||!t.size||(this._selectedItemIDs=t)}get favoriteItemIDs(){if(this?._favoriteItemIDs)return this._favoriteItemIDs;const t=localStorage.getItem("user_favorites");if(!t){const t=localStorage.getItem("userFavorites");if(t)try{console.warn("[db.favoriteItemIDs] Recovering legacy favorite paths!",t);const e=JSON.parse(t);return this._favoriteItemIDs=new Set,Array.isArray(e)&&e.forEach((t=>ids.add(this.itemPathToID(t)))),localStorage.setItem("user_favorites",JSON.stringify([...this._favoriteItemIDs])),localStorage.removeItem("userFavorites"),this._favoriteItemIDs}catch(t){console.error("[db.favoriteItemIDs] Error recovering legacy favorite paths!",t)}}if(t){const e=JSON.parse(t);return this._favoriteItemIDs=new Set([...e]),this._favoriteItemIDs}return this._favoriteItemIDs=new Set}toggleFavorite(t){if(!t)return;const e=t.id;e&&"string"==typeof e&&(this.favoriteItemIDs.has(e)?this.favoriteItemIDs.delete(e):this.favoriteItemIDs.add(e),localStorage.setItem("user_favorites",JSON.stringify([...this.favoriteItemIDs])),n.u.emit("favoriteItems",e))}get replacedInfoItems(){return this?._replacedInfoItems??(this._replacedInfoItems=new Map([["rerollcurrency",{mediaPath:"progression/currencies/1104-000-data-pad-e39bef84-sm.png",name:"Challenge Swap"}],["xpgrant",{mediaPath:"progression/currencies/1102-000-xp-grant-c77c6396-sm.png",name:"XP Grant"}],["xpboost",{mediaPath:"progression/currencies/1103-000-xp-boost-5e92621a-sm.png",name:"XP Boost"}],["cr",{mediaPath:"progression/currencies/credit_coin-sm.png",name:"cR"}]]))}}},8853:(t,e,r)=>{"use strict";r.d(e,{s:()=>g});var n=r(758),i=r(3773),a=r(802),s=r(7786),o=r(4136),l=r(7375),c=r(5311),h=r(5261);r(2258),r(1589);class d extends a.w{constructor(t){super(),t&&"string"==typeof t&&(this.description=t)}async init(t){this.state=this.defaultState,t&&t.size&&(this.state.itemIDs=t)}get defaultState(){return{more:!1,itemIDs:new Set,items:new Set,itemsDisplayed:this.initialItemsDisplayed}}render(){return this.state.items.size||this.getDisplayedItems(),this.html`
			<div class="related-items_wrapper">
				<header>${this?.description??""} Relations // ${this.state.itemIDs.size}</header>
				<ul class="related-items_list">
					${this.state.items.map((t=>s.k9.wire()`<li>
						${{any:t.renderIcon("related",{itemTypeIcon:!0}),placeholder:i.R.cloneNode(!0)}}
					</li>`))}
				</ul>
				${this.state.itemIDs.size>this.state.itemsDisplayed?this.showMoreButton():""}
			</div>
		`}get displayedItemIDs(){const t=this.state.itemIDs;return new Set([...t].slice(0,this.state.itemsDisplayed))}getDisplayedItems(){return this.state.items=[...this.displayedItemIDs].map((t=>new i.c({id:t})))}get initialItemsDisplayed(){return 20}showMoreButton(){return s.k9.wire(this,":more")`
			<div
				class="related-items_show-more_wrapper"
			>
				<button
					class="hi-box"
					onclick=${()=>this.showMore()}
				>
					Show More (${this.state.itemIDs.size-this.state.itemsDisplayed})
				</button>
			</div>
		`}showMore(){this.state.itemsDisplayed=this.state.itemsDisplayed+this.initialItemsDisplayed,this.getDisplayedItems(),this.render()}}class u extends a.w{constructor(){super(),this.types=new Set(["SpartanEmblem"]),this.playerTag="Cylix Guide"}get defaultState(){return{configs:new Map,expanded:!1}}get item(){if(this.state.item)return this.state.item}getEmblemColor(t){return this.emblemColors&&this.emblemColors.has(t)?this.emblemColors.get(t):"#FFFFFF"}async init(){this.emblemColors||(this.emblemColors=await n.db.getEmblemColorIndex())}display(t){const e=this.state.expanded;if(this.state=this.defaultState,this.state.expanded=e,this.types.has(t?.type))try{if(t&&t?.data?.AvailableConfigurations){t.data.AvailableConfigurations.forEach((t=>{this.state.configs.set(`${t.ConfigurationId}`,{title:this.resolveConfigName(t.ConfigurationPath)??t.ConfigurationId})})),this.state.item=t}}catch(t){console.error("[ItemPanel.Palettes]",t)}}get configs(){return this.state.expanded?[...this.state.configs]:[...this.state.configs].slice(0,1)}get errorImageFilename(){return"104-001-classics-one-782a8d66_98277613"}render(){return this.state.item&&"SpartanEmblem"===this.state.item.type?this.html`
				<div class="palettes_wrapper">
					<header>Emblem Palettes // ${this.state.configs.size}</header>
					<ul class="palettes_list">
						${this.configs.map((([t,e])=>s.k9.wire(this,`:${t}`)`
							<li>
								<div class="palettes_nameplate_wrapper">
									<img
										class="palettes_nameplate"
										src=${`${l.Z}images/nameplates/${this.state.brokenImage?this.errorImageFilename:this.nameplateFilename(t)}.png`}
										width="1280"
										height="240"
										onerror=${()=>this.setState({brokenImage:!0})}
									>
									<div class="nameplate_content">
										<img
											class="palettes_emblem"
											src=${`${l.Z}images/emblems/${this.state.brokenImage?this.errorImageFilename:this.nameplateFilename(t)}.png`}
											width="240"
											height="240"
											onerror=${()=>this.setState({brokenImage:!0})}
										>
										<div class="nametag_wrapper" style=${{color:this.getEmblemColor(t)}}>
											<span class="nametag_player">${this.playerName??e?.title??"..."}</span>
											<span class="nametag_service">${this.playerTag??t}</span>
										</div>
									</div>
								</div>
							</li>
						`))}
					</ul>
					${this.state.configs.size>1?this.showMoreButton():""}
				</div>
			`:this.state.item?this.html`
				<div class="palettes_wrapper">
					<header>Emblem Palettes // ${this.state.configs.size}</header>
					<ul class="palettes_list">
						${[...this.state.configs].map((([t,e])=>s.k9.wire(this,`:${t}`)`
							<li class="palettes_emblem_wrapper">
								<img
									src=${`${l.Z}images/nameplates/${this.nameplateFilename(t)}.png`}
								>
								<span class="nametag_player">${this.playerName??e?.title??"..."}</span>
							</li>
						`))}
					</ul>
				</div>
			`:void 0}resolveConfigName(t){try{if(t){const e=n.db.itemPathToID(t),r=n.db.getItemManifestByID(e);if(r)return r.title}}catch(t){console.error("[Palettes.resolveConfigName]",t)}}nameplateFilename(t){const e=`${t}`.replace("-","n"),r=this.item.id;if("SpartanEmblem"===this.item.type)return`${r}_${e}`}showMoreButton(){return s.k9.wire(this,":more")`
			<div
				class="related-items_show-more_wrapper"
			>
				<button
					class="hi-box"
					onclick=${()=>this.setState({expanded:!this.state.expanded})}
				>
					${this.state.expanded?"Show Less Emblems":"Show More Emblems"}
				</button>
			</div>
		`}}class p extends a.w{constructor(){super(),this.types=new Set(["ArmorCoating"]),this.author="Cylix Guide"}get defaultState(){return{expanded:!1}}get item(){if(this.state.item)return this.state.item}display(t){const e=this.state.expanded;if(this.state=this.defaultState,this.state.expanded=e,this.types.has(t?.type))try{t&&(this.state.item=t)}catch(t){console.error("[ItemPanel.Screenshots]",t)}}get configs(){return this.state.expanded?[...this.state.configs]:[...this.state.configs].slice(0,1)}render(){if(this.state.item&&"ArmorCoating"===this.state.item.type){this.state.item.type.toLowerCase();const t=this.state.item.altName.toLowerCase();return this.html`
				<div class="screenshots-wrapper">
					<ul class="screenshots_list">
						<li class="screenshot-wrapper">
							<button
								class="screenshot-expand-thumb"
								onclick=${()=>o.v.showView(this.renderGallery())}
								style=${{backgroundImage:`url(${l.Z}7/render/icon/${t}_icon.png)`}}
							>
								View Screenshots
							</button>
						</li>
					</ul>
				</div>
			`}}renderGallery(){const t=this.state.item.type.toLowerCase(),e=this.state.item.altName.toLowerCase();return s.k9.wire(this,":imageModal")`
			<div class="dbItemPanel_image-modal">
				<img src=${`${l.Z}7/screens/${t}/${e}.png`}>
			</div>
		`}}class f extends a.w{constructor(){super(),this.state.delta=(0,c.diff)(this.state.left,this.state.right),c.formatters.html.hideUnchanged()}get defaultState(){return{leftHash:"",rightHash:"",left:{dust:"echoes"},right:{dustin:"echoes"}}}get default(){return{dust:"echoes"}}render(){return this.html`
			<div class="json-diff-wrapper">
				${this.state.error}
				${{html:c.formatters.html.format(this.state.delta,this.state.left)||"No Diff!"}}
			</div>
		`}async setRight(t,e){try{const r=await t;r&&(this.state.right=r),this.state.delta=(0,c.diff)(this.state.left,this.state.right),e&&(this.state.rightHash=e),this.render(),console.log("setRight",r)}catch(t){this.state.error=`Error! ${t}`}}async setLeft(t,e){try{const r=await t;r&&(this.state.left=r),this.state.delta=(0,c.diff)(this.state.left,this.state.right),e&&(this.state.leftHash=e),this.render(),console.log("setLeft",r)}catch(t){this.state.error=`Error! ${t}`}}async setBoth({right:t,rightHash:e,left:r,leftHash:n}){if(!t||!r)return;const i=await t,a=await r;i?this.state.right=i:this.state.left={...this.default},this.state.left=a||{...this.default},this.state.rightHash=e||"",this.state.leftHash=n||"",console.log("sb",this.state.leftHash),this.state.delta=(0,c.diff)(this.state.left,this.state.right),this.render()}}class m extends a.w{constructor(){super(),window.addEventListener("keydown",(t=>{t.defaultPrevented||!0===this.state.visible&&"Escape"===t.key&&(this.hide(),t.preventDefault())}),!0),this.internalRelationsPage=new d("Internal"),this.externalRelationsPage=new d("External"),this.palettes=new u,this.screenshots=new p,this.jsonDiff=new f}get defaultState(){return{visible:!1,item:{},pretty:!0,copyStatus:"Copy Link",page:"api",community:!1,showStatHistory:n.db.isStatHistoryLoaded}}hide(){if(this.state.visible){this.setState({visible:!1});const{pathname:t}=new URL(window.location);t.startsWith("/item/")?history.pushState(null,"Halosets",`/${this.pagePathMeta}`):history.pushState(null,"Halosets","#"),document.body.style.overflow="auto"}}toggleVisibility(){this.setState({visible:!this.state.visible}),document.body.style.overflow="auto"}get pagePath(){const{pathname:t}=new URL(window.location);return"/"===t||t.startsWith("/item/")?"/item":"#item"}get pagePathMeta(){const t=new URLSearchParams(window.location.search),e=""+(t.size?`?${t}`:""),r=window.location.hash?.substring?.(1);return`${e}${""+(r&&!r.startsWith("item")?`#${r}`:"")}`}makeUrl(t){const e=new URLSearchParams(window.location.search);e.size;return`${this.pagePath}/${t}${this.pagePathMeta}`}displayItem(t,e){t?.id&&(e?history.replaceState({path:`${t?.path}`},"Halosets",`${this.makeUrl(t.id)}`):history.pushState({path:`${t?.path}`},"Halosets",`${this.makeUrl(t.id)}`),this.scrollToTop(),this.state={...this.defaultState,item:t,visible:!0,page:this.state.page,community:this.state.community},document.body.style.overflow="hidden",this.internalRelationsPage.init(),this.externalRelationsPage.init(),this.palettes.display(t),this.screenshots.display(t),this.render(),this.renderStatHistoryChart(),this.palettes.types.has(t.type)&&this.palettes.init(),"internal"===this.state.page&&this.showInternalRelations(),"external"===this.state.page&&this.showExternalRelations(),"palettes"===this.state.page&&this.showPalettes())}scrollToTop(){const t=document.querySelector("#dbItemPanel_header");t&&t.scrollIntoView()}get item(){if(this.state.item)return this.state.item}render(){if(this.state.visible){let t="";const e=this.state.item.data?.CommonData?.DisplayPath?.Media?.MediaUrl?.Path;return e&&"string"==typeof e&&(t=`${e[0].toLowerCase()}${e.substring(1)}`),s.k9.bind(document.querySelector(".js--item-panel"))`
				<div
					class="dbItemPanel_clickout"
					onclick=${()=>this.hide()}
				></div>
				<div
					class="dbItemPanel_wrapper"
				>
					<header
						class="dbItemPanel_header"
						id="dbItemPanel_header"
					>
						<button
							class="item-img"
							style=${{backgroundImage:`url(${l.Z}images/${n.db.pathCase(this.item.imagePath)})`}}
							onclick=${()=>o.v.showView(this.renderImageModal())}
						></button>
						<div class=${`dbItemPanel_titles ${this.state.item.quality}`}>
							<span class="titles_wrapper">
								<h2>${this?.item?.name??"Item"}</h2>
								<h3>${this?.item?.untranslatedName??"..."}</h3>
							</span>
							${this?.item.isRedacted?this.unredactButton():""}
							<span class="description">${this?.item.isRedacted?"":this?.item.description??"..."}</span>
						</div>
						<button
							class=${"favorite"}
							onclick=${()=>{this.state.item?.data?.CommonData&&(n.db.toggleFavorite(this.item),this.render())}}
							style=${{backgroundImage:`url(/items.svg#${n.db.favoriteItemIDs.has(this.item.id)?"favored":"unfavored"})`}}
						></button>
					</header>
					<div class="item-meta_wrapper">
						<div class="item-badges">
							<div class="badge">
								<div
									class="badge-svg"
									style=${{backgroundImage:`url(/seasons.svg#${this.state.item.seasonNumber??"default"})`}}
								></div>
								<span>Season ${this.state.item.seasonNumber}</span>
							</div>
							<div class="badge">
								<div
									class="badge-svg"
									data-icon=${this.state.item?.type??"default"}
									style=${{backgroundImage:`url(/items.svg#${this.state.item?.type??"default"})`}}
								></div>
								<span class="badge">${n.db.getItemType(this.state.item?.type)??"Item"}</span>
							</div>
							<div class="badge">
								<div
									class="badge-icon"
									style=${{backgroundImage:`url(${l.Z}images/${n.db.pathCase(this.state.item?.manufacturerImage)})`}}
								></div>
								<span class="badge">${this.state.item?.manufacturerName??""}</span>
							</div>
							<div class="badge" title=${this.state.item?.visibility?.date?.toLocaleDateString()}>
								<div
									class="badge-svg"
									style=${{backgroundImage:`url(/items.svg#${this.state.item?.visibility?.status.toLowerCase()})`}}
								></div>
								<span class="badge">${this.state.item?.visibility?.status}</span>
							</div>
						</div>
						<span class="attribute">${this.state.item?.data?.CommonData?.CustomAvailability??null}</span>
						<span class=${"attribute"+(this.state.item.isCrossCompatible?"":" display-none")}>Cross Compatible</span>
						<span class="attribute">
							${this.state.item?.parentPaths?"Applies to: ":""}
							${[...this.state.item?.parentPaths??[]].map((async t=>{const e=n.db.itemPathToID(t),r=n.db.getItemManifestByID(e);return r?`<a class="parentSocket" href=${this.pagePath}/${r.name}>${n.db.getItemTitleById(e)}</a>`:""}))}
						</span>
					</div>
					<section
						class="item-info_wrapper"
					>
						<button
							class="hi-box"
							aria-label="Copy shareable link"
							title="Copy Link"
							onclick=${()=>{if(!navigator.clipboard)return this.setState({copyStatus:"Browser Error!"});navigator.clipboard.writeText(`https://${window?.location?.host??"cylix.guide"}${this.sharePath}`).then((t=>{this.setState({copyStatus:"Copied!"}),setTimeout((()=>{this.setState({copyStatus:"Copy Link"})}),2e3)}),(t=>{console.error("Copy share link",t),this.setState({copyStatus:"Error!"}),setTimeout((()=>{this.setState({copyStatus:"Copy Link"})}),2e3)}))}}
						>
							<span class="icon-masked icon-share"></span> ${this.state?.copyStatus??"Copy Link"}
						</button>
					</section>
					${this.renderCommunity()}
					${()=>this.palettes.types.has(this.item.type)?this.palettes.render():""}
					${()=>this.screenshots.types.has(this.item.type)&&this.item.showCoatingRenderIcon&&!this.item.isRedacted?this.screenshots.render():""}
					<ul class="page-list">
						<li>
							<button
								onclick=${()=>this.setState({page:"api"})}
								class=${"hi-box"+("api"===this.state.page?" active":"")}
							>
								Manifest
							</button>
						</li>
						<li>
							<button
								onclick=${()=>this.showInternalRelations()}
								class=${"hi-box"+("internal"===this.state.page?" active":"")}
							>
								References
							</button>
						</li>
						<li>
							<button
								onclick=${()=>this.showExternalRelations()}
								class=${"hi-box"+("external"===this.state.page?" active":"")}
							>
								Related
							</button>
						</li>
					</ul>
					${this.renderPage()}
				</div>
			`}return s.k9.bind(document.querySelector(".js--item-panel"))``}renderPage(){switch(this.state.page){case"internal":return this.internalRelationsPage.render();case"external":return this.externalRelationsPage.render();default:return this.renderAPI()}}renderAPI(){return s.k9.wire(this,":api")`
			<section
				class="item-panel_manifest_wrapper"
			>
				<div
					class="item-panel_manifest-property"
				>
					<label class="no-select" for="item-panel_manifest-path">Last Modified: </label>
					<div id="item-panel_manifest-path">${this?.item?.lastModifiedDate?.toLocaleDateString(void 0,{year:"numeric",month:"numeric",day:"numeric"})??"untracked"}
					</div>
				<button
					onclick=${async()=>o.v.showView(await this.renderHistoryMenu())}
				>Compare Versions</button>
				</div>
				<pre class="dbItemPanel_json">${{html:this.state.pretty?this.prettyJson(this.state?.item?.data??{}):JSON.stringify(this.state.item?.data,null,"\t")}}</pre>
			</section>
		`}popularityBucket(t=0){return t>=.2?"Ubiquitous":t>=.1?"Basic":t>=.025?"Common":t>=.0025?"Rare":t>0?"Exotic":"Unknown"}popularityRank(t=0){return 1===t?"first":2===t?"second":3===t?"third":t}renderCommunity(){if(!this?.item.community)return;const t=this.item.community,e=[];let r=!1;for(const i in t)switch(i){case"collection":e.push(`<div class="community_item">\n\t\t\t\t\t\t\t<label>Collection</label>\n\t\t\t\t\t\t\t<span><a href="https://cylix.guide/collection/${t.collection}" target="_blank">${t.collection}</a></span>\n\t\t\t\t\t\t</div>`);break;case"tags":e.push(`<div class="community_item">\n\t\t\t\t\t\t\t<label>Tags</label>\n\t\t\t\t\t\t\t<ul class="community_tag-list">\n\t\t\t\t\t\t\t\t${t.tags.map((t=>`<li>${t}</li>`)).join("")}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>`);break;case"availability":e.push(`<div class="community_item">\n\t\t\t\t\t\t\t<label>Availability</label>\n\t\t\t\t\t\t\t<span class="community_tag-list">\n\t\t\t\t\t\t\t\t${t.availability}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>`);break;case"cost":e.push(`<div class="community_item">\n\t\t\t\t\t\t\t<label>Cost</label>\n\t\t\t\t\t\t\t<span class="community_tag-list">\n\t\t\t\t\t\t\t\t${t.cost}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>`);break;case"stats":const i=t?.stats?.cur??0,a=(100*parseFloat(t?.stats?.delta??0)).toFixed(2),s=a>0?"+":a<0?"":"~",o=a>0?"pos":a<0?"neg":"neut";r=!0,e.push(`<div class="community_item">\n\t\t\t\t\t\t\t<label>Popularity as Equipped by Recent Players</label>\n\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t<span class="community_pop">\n\t\t\t\t\t\t\t\t<span>${this.popularityBucket(i)} — ${(100*parseFloat(i)).toFixed(2)}%</span>\n\t\t\t\t\t\t\t\t<span class="community_pop-delta ${o}" title="Change from last week.">${s} ${a}%</span>\n\t\t\t\t\t\t\t\t${t?.stats?.rank?`<br/>Ranked ${this.popularityRank(t?.stats?.rank??0)} for type <span class="community_pop-type">${n.db.getItemType(this.state.item?.type)}</span>`:""}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>`)}return s.k9.wire(this,":community")`
			<section
				class="item-panel_community_wrapper"
			>
				<header>
					Cylix Guide Community Notes
					<aside>
						<button
							onclick=${()=>o.v.showView(this.renderCommunityDisclaimer())}
						>
							<div class="icon-masked icon-info"></div>
							Learn More
						</button>
					</aside>
				</header>
				<div
					class="community_content"
				>
					${{html:e}}
					${r?this.renderStatHistory():""}
				</div>
			</section>
		`}async renderStatHistory(){return s.k9.wire(this,":communityHistory")`
			<div
				class="item-panel_community-history"
			>
				<h3>Weekly Fashion Stats</h3>
				${this.chartCanvasStatHistory()}
			</div>
		`}chartCanvasStatHistory(){return s.k9.wire(this,":chartCanvasStatHistory")`
			<canvas
				id="chartCanvasStatHistory"
				class="chartHistory itemStats"
				onconnected=${()=>this.renderStatHistoryChart()}
			></canvas>
		`}async renderStatHistoryChart(){const t=document.getElementById("chartCanvasStatHistory");if(!t)return;const e=this.state.itemStatHistory??=await n.db.getStatHistoryByID(this.item.id);!e||e.sample.length<1||(this.itemStatHistoryChart&&this.itemStatHistoryChart.destroy(),this.itemStatHistoryChart=new h.ZP(t,{type:"line",data:{labels:e.sample.map(((t,r)=>{const n=new Date(e.start);return new Date(n.setDate(n.getDate()+7*r)).toLocaleDateString()})),datasets:[{label:"Percent",data:e.sample.map((t=>100*t)),cubicInterpolationMode:"monotone",tension:.4,borderColor:"#2dbfe1",backgroundColor:"#0d2436",pointStyle:!(e.sample.length>7)}]},options:{responsive:!0,interaction:{intersect:!1,mode:"index"},scales:{x:{ticks:{autoSkip:!0,maxTicksLimit:14}},y:{min:0,type:"logarithmic"}},animation:!1}}))}async renderHistoryMenu(){const t=new Map(await n.db.getHistoryByID(this.item.id)??[]),e=Array.from(t.values()),r=e.pop(),i=e.pop();return console.warn(r,i),this.jsonDiff.setBoth({right:this.state?.item?.data,rightHash:r,left:i?n.db.getItemVersion({id:this.item.id,hash:i}):{},leftHash:i||""}),console.warn(this.jsonDiff.state.leftHash),s.k9.wire(this,":modDates")`
			<header>${this.state.item.name}</header>
			<p>API updates were logged for these dates:</p>
			<ul class="history_dates-list">
				${[...t].map((([t,e])=>s.k9.wire(this.item,`:history-${t}`)`
					<li>
						${new Date(t).toLocaleDateString()}
					</li>
				`))}
			</ul>
			<div class="option_wrapper">
				<label for="set-verion-old">Old:</label>
				<select class="set-version" id="set-verion-old" name="set-verion-old"
					onchange=${t=>{this.jsonDiff.setLeft(n.db.getItemVersion({id:this.item.id,hash:t.target.value}))}}
				>
					${[...t].reverse().filter((([t,e])=>e)).map((([t,e],r)=>`<option value="${e}"${1===r?" selected":""}>${new Date(t).toLocaleDateString()}</option>`))}
				</select
			</div>
			<div class="option_wrapper">
				<label for="set-verion-new">New:</label>
				<select class="set-version" id="set-verion-new" name="set-verion-new"
					onchange=${t=>{this.jsonDiff.setRight(n.db.getItemVersion({id:this.item.id,hash:t.target.value}))}}
				>
					${[...t].reverse().filter((([t,e])=>e)).map((([t,e],r)=>`<option value="${e}">${new Date(t).toLocaleDateString()}</option>`))}
				</select
			</div>
			${this.jsonDiff.render()}
		`}renderCommunityDisclaimer(){return s.k9.wire(this,":communityDisclaimer")`
			<header><h1>Community Notes</h1></header>
			<p>Information in this section is maintained by volunteer contributors.</p>
			<p>To report issues or help maintain this information you may visit the <a href="https://cylix.guide/discord" target="_blank">discord.</a></p>
			<h2>Popularity</h2>
			<p>Item popularity represents a statistical sample of what active players are wearing in-game. Updated weekly, these stats represent fashion trends - showing the percentage of players wearing the item and the delta from the previous sample. The sample is composed of 25,000 random matchmaking players from recent games as well as 1,000 random cylix.guide/vanity users. Players that have never customized any aspect of their spartan are dropped from the sample.</p>
			<p>This information encompasses publicly visible equipped items, not private player inventories, and thus should not be interpreted in any other context than momentary fashion.</p>
			<p>Named breaks are given to better understand how often an item may show up in an average match.</p>
			<ul>
				<li>Ubiquitous — Many players.</li>
				<li>Basic — Several players.</li>
				<li>Common — At least one player.</li>
				<li>Rare — Once every couple matches.</li>
				<li>Exotic — It might be strange to see someone wear this.</li>
			</ul>
		`}get sharePath(){return`/item/${this.item.id}`}prettyJson(t){return JSON.stringify(t,((t,e)=>{if(e&&"string"==typeof e&&e.includes("/")&&e.length>6){if(".json"===e.substring(e.length-5)){const t=n.db.itemPathToID(e),r=n.db.getItemManifestByID(t);return r?`<a href=${this.pagePath}/${r.name}>${n.db.getItemTitleById(r.name)}</a>`:`<a href=#${e}>${e}</a>`}if(".png"===e.substring(e.length-4))return`<a href=${l.Z}images/${n.db.pathCase(e)} target="_blank">PNG</a>`}if(("Id"===t||"AltName"===t)&&e&&"string"==typeof e){const t=n.db.getItemManifestByID(e);if(t)return`<a href=#item/${t.name}>${n.db.getItemTitleById(t.name)}</a>`}return"FileName"===t?"":e}),"\t")}async showInternalRelations(){const t=await this.getRelations();this.internalRelationsPage.init(new Set(t?.internal??[])),this.setState({page:"internal"})}async showExternalRelations(){const t=await this.getRelations();this.externalRelationsPage.init(new Set(t?.external??[])),this.setState({page:"external"})}async showPalettes(){this.palettes.display(this.item),this.setState({page:"palettes"})}async getRelations(){if(this.state.relations)return this.state.relations;const t=await n.db.getRelationsByID(this.item.id);return t?(this.state.relations=t,t):void 0}async getInternalRelations(){console.log("getInternalRelations!");const t=await this.getRelations();console.log("getInternalRelations!",t),t?.internal&&t.internal.length&&(this.relatedItemIDs=new Set(t.internal))}unredactButton(){return s.k9.wire(this,":unredact")`
			<button
				class="hi-box"
				onclick=${()=>{this?.item.unredact(),this.render()}}
			>Reveal Spoiler</button>
		`}renderImageModal(){return s.k9.wire(this,":imageModal")`
			<div class="dbItemPanel_image-modal">
				<h1>${this?.item?.name??"Item"}</h1>
				<img src=${`${l.Z}images/${n.db.pathCase(this.item.imagePath)}`}>
			</div>
		`}}const g=new m},3773:(t,e,r)=>{"use strict";r.d(e,{R:()=>d,c:()=>u});var n=r(758),i=r(8853),a=r(802),s=r(7786),o=r(7735),l=r(5959),c=r(631),h=r(7375);r(7472);const d=s.k9.wire()`
	<button
		class='dbItem dbItemIcon dbItemPlaceholder'
		title='Loading Item...'
	>
		<span>...</span>
	</button>
`;class u extends a.w{constructor(t){if(super(),t){if(t.item&&t.meta)this._meta=t.meta,this._id=t.meta.name,this.data=t.item,n.db.items.set(this.meta.name,this);else if(t.id){const e=t.id.toLowerCase();if(n.db.items.has(e))return n.db.items.get(e);const r=n.db.getItemManifestByID(e);if(!r)return console.error(`[Item.constructor] No meta for "${e}"!`),new p(e);this._meta=r,this._id=r.name,n.db.items.set(r.name,this)}else if(t.path){const e=(0,l.B)(t.path).toLowerCase();if(!e)return;if(n.db.items.has(e))return n.db.items.get(e);const r=n.db.getItemManifestByID(e);if(!r)return console.error(`[Item.constructor] No meta for "${e}"!`),new p(e);this._meta=r,this._id=r.name,n.db.items.set(this.meta.name,this)}this.renderCount=0}}get meta(){return this?._meta?this._meta:this._meta=n.db.getItemManifestByID(this.id)}get id(){return this._id??=this.meta.name}get altName(){return this?._altName??(this._altName=this?.data?.CommonData?.AltName||this.id)}get cylixPath(){return`item/${this.id}/${this.meta.res}.json`}get name(){if(this.isRedacted)return"[REDACTED]";if(n.db.replacedInfoItems.has(this.id)){const t=n.db.replacedInfoItems.get(this.id);if(t.name)return t.name}const t=o.a.resolveItemTitle(this.id);return t&&"string"==typeof t?t:this?.data?.Title?this.data.Title:this.meta?.title||this.id||"???"}get untranslatedName(){if(!c.X.isTranslated)return"";if(this.isRedacted)return"";const t=this.meta.title;return t===this.name?"":t}get type(){return this.meta.type}get niceType(){return n.db.getItemType(this.type)}async getName(){return this.isRedacted?"[REDACTED]":this.meta.title}async getSeasonNumber(){if(this?._seasonNumber)return this._seasonNumber;await this.init();const t=this?.data?.CommonData?.SeasonNumber;return this._seasonNumber=t?parseInt(t):0}get seasonNumber(){const t=this?.data?.CommonData?.SeasonNumber;return t?parseInt(t):"0"}get parentPaths(){if(this?.data?.CommonData?.ParentPaths?.length)return this?._parentPaths??(this._parentPaths=new Set([...this?.data?.CommonData?.ParentPaths.map((t=>t?.Path))]))}get parentIDs(){if(this._parentIDs)return this._parentIDs;const t=this.parentPaths;if(!t||!t.size)return this._parentIDs=new Set;const e=new Set;return t.forEach((t=>{const r=n.db.itemPathToID(t);r&&e.add(r)})),e}get manufacturerName(){return n.db.getManufacturerByIndex(this?.data?.CommonData?.ManufacturerId??0)?.ManufacturerName??""}get manufacturerImage(){return n.db.getManufacturerByIndex(this?.data?.CommonData?.ManufacturerId??0)?.ManufacturerLogoImage??""}get description(){const t=o.a.resolveItemDescription(this.id)??this?.data?.CommonData?.Description;return t||("Offering"===this.type&&Array.isArray(this?.data?.Prices)?this.data.Prices.map((t=>`${t?.Cost??"???"} ${(0,l.B)(t?.CurrencyPath)}`)).join(", "):"meta"===this.type&&this?.data?.Description?this.data.Description:void 0)}async init(){if(this.data)return await this.data,this;try{this.data=n.db.getJSON(this.cylixPath).then((t=>this.data=t)),await this.data}catch(t){return console.error("[Item.init]",t),!1}return this.renderIcon(),this}async render(){console.warn("render",this)}get tempUnsupportedCores(){return this._tempUnsupportedCores??=new Set(["007-001-reach-2564121f","007-000-eagle-strike-0903655e","007-000-lone-wolf-0903655e","007-001-samurai-55badb14"])}get showCoatingRenderIcon(){if("ArmorCoating"===this.type&&this.seasonNumber<3&&!this.isRedacted){const t=this.parentIDs,e=this.tempUnsupportedCores;let r=!0;return t.forEach((t=>{e.has(t)&&(r=!1)})),r}return!1}async renderIcon(t,{itemTypeIcon:e=!1}={}){return await this.init(),this.showCoatingRenderIcon?s.k9.wire(this,`:${t??"icon"}`)`
				<button
					class=${`dbItem dbItemIcon ${this?.type??"defaultType"} ${this.quality}${"SpartanBackdropImage"===this.type?" invert-hover":""}`}
					onclick=${()=>this.showItemPanel()}
					style=${{backgroundImage:`url(${h.Z}7/render/icon/${this.altName.toLowerCase()}_icon.png)`}}
					title=${this.name??"item"}
				>
					<div
						class="dbItem-coating-icon"
						style=${{backgroundImage:`url(${h.Z}images/${n.db.pathCase(this.imagePath)})`}}
					></div>
					<span>${this.name??"???"}</span>
					${this.renderItemTypeIcon()}
					<div
						class="season-icon"
						data-season="${this.seasonNumber??0}"
						style="-webkit-mask-image:${`url(/seasons.svg#${this.seasonNumber??0})`}"
					></div>
				</button>
			`:s.k9.wire(this,`:${t??"icon"}`)`
			<button
				class=${`dbItem dbItemIcon ${this?.type??"defaultType"} ${this.quality}${"SpartanBackdropImage"===this.type?" invert-hover":""}`}
				onclick=${()=>this.showItemPanel()}
				style=${{backgroundImage:`url(${h.Z}images/${n.db.pathCase(this.imagePath)})`}}
				title=${this.name??"item"}
			>
				<span>${this.name??"???"}</span>
				${e?this.renderItemTypeIcon():""}
				<div
					class="season-icon"
					data-season="${this.seasonNumber??0}"
					style="-webkit-mask-image:${`url(/seasons.svg#${this.seasonNumber??0})`}"
				></div>
			</button>
		`}get isSelected(){return!!n.db.selectedItemIDs.has(this.id)}async renderSelectable(t,{itemTypeIcon:e=!1}={}){return await this.init(),s.k9.wire(this,`:${t??"icon"}`)`
			<button
				class=${`dbItem dbItemIcon ${this?.type??"defaultType"} ${this.quality}${"SpartanBackdropImage"===this.type?" invert-hover":""}${this.isSelected?" selected":""}`}
				onclick=${()=>this.onclick()}
				style=${{backgroundImage:`url(${h.Z}images/${n.db.pathCase(this.imagePath)})`}}
				title=${this.name??"item"}
			>
				<span>${this.name??"???"}</span>
				${e?this.renderItemTypeIcon():""}
				${{html:this.seasonNumber>1?`<div\n\t\t\t\t\t\tclass="season-icon"\n\t\t\t\t\t\tdata-season="${this.seasonNumber??0}"\n\t\t\t\t\t\tstyle="-webkit-mask-image:url(/seasons.svg#${this.seasonNumber??0})"\n\t\t\t\t\t></div>`:""}}
			</button>
		`}selectHandler(t){return this._selectHandler=t,this}onclick(){if(this?._selectHandler)return this._selectHandler(this);this.showItemPanel()}get itemTypeIcons(){return this?._itemTypeIcons??(this._itemTypeIcons=new Set(["ArmorCoating","VehicleCoating","WeaponCoating","SpartanEmblem","ArmorEmblem","WeaponEmblem","VehicleEmblem"]))}async renderItemTypeIcon(){const t=this?.type??"default";if(!this.itemTypeIcons.has(t))return"";const e=this?.data?.CommonData?.ParentPaths?.[0]?.Path??this?.data?.CommonData?.ParentTheme??"",r=n.db.itemPathToID(e);if("WeaponCoating"===t){if(!e)return"";const t=await new u({id:r}).getImagePath(),i="207-208-olympus-aa30213b"===r?`url(${h.Z}images/progression/inventory/weapon/themes/207-208-olympus-aa30213b.png)`:`url(${h.Z}images/${n.db.pathCase(t)})`;return s.k9.wire()`
				<div
					class=${"item-type-icon WeaponCoating"}
					style=${{webkitMaskImage:i,maskImage:i}}
				></div>
			`}if("VehicleCoating"===t){if(!e)return"";const t=await new u({id:r}).getParentCoreItem();if(!t)return;const i=await(t?.getImagePath?.()),a=`url(${h.Z}images/${n.db.pathCase(i)})`;return s.k9.wire()`
				<div
					class=${"item-type-icon VehicleCoating"}
					style=${{webkitMaskImage:a,maskImage:a}}
				></div>
			`}if("ArmorCoating"===t){if(!e)return"";let t="ArmorCoating";switch(n.db.itemPathToID(e)){case"007-001-olympus-c13d0b38":t="MK7";break;case"007-001-reach-2564121f":t="MK5";break;case"007-001-samurai-55badb14":t="YOROI";break;case"007-000-eagle-strike-0903655e":t="ENTRENCHED";break;case"007-000-lone-wolf-0903655e":t="RAKSHASA";break;case"007-001-spi-c13d0b38":t="SPI";break;case"007-001-fwl-c13d0b38":t="CHIMERA";break;case"007-001-haz-c13d0b38":t="HAZMAT";break;case"007-000-lgc-001-0903655e":t="MK5CE";break;case"007-000-inf-001-0903655e":t="MK6";break;case"TODO":t="MK4"}return this.isCrossCompatible&&(t="CrossCompatible"),s.k9.wire()`
				<div
					class=${`item-type-icon ${this.type??"default-type"}`}
					style=${{backgroundImage:`url(/items.svg#${t??"default"})`}}
				></div>
			`}return t.includes("Emblem")?s.k9.wire()`
				<div
					class=${`item-type-icon emblem ${this.type}`}
					style=${{backgroundImage:`url(/items.svg#${t})`}}
				></div>
			`:void 0}get imagePath(){let t="progression/default/default.png";if("Offering"===this.type){return`store/${this.id.substring(9)}.png`}if(this.isRedacted)return t;const e=this?.data?.CommonData?.DisplayPath?.Media?.MediaUrl?.Path;if(e&&"string"==typeof e)t=`${e.toLowerCase().replace(".svg",".png")}`;else if(n.db.replacedInfoItems.has(this.id)){const t=n.db.replacedInfoItems.get(this.id);if(t.mediaPath)return t.mediaPath}return t}async getImagePath(){if(this?._imagePath)return this._imagePath;await this.init();let t="progression/default/default.png";if(this.isRedacted)return t;const e=this?.data?.CommonData?.DisplayPath?.Media?.MediaUrl?.Path;return e&&"string"==typeof e&&(t=`${e[0].toLowerCase()}${e.substring(1)}`),this._imagePath=t}async getParentItem(){if(this?._parentItem)return this._parentItem;if(await this.init(),this?.data?.CommonData?.ParentTheme){const t=(0,l.B)(this.data.CommonData.ParentTheme);return this._parentItem=new u({id:t}),await this._parentItem.init(),this._parentItem}}async getParentCoreItem(){if(this?._parentItem)return this._parentItem;if(await this.init(),this?.data?.CommonData?.ParentPaths){const t=(0,l.B)(this?.data?.CommonData?.ParentPaths?.[0]?.Path);return this._parentItem=new u({id:t}),await this._parentItem.init(),this._parentItem}}get icon(){return this?._icon??(this._icon=this.renderIcon())}showItemPanel(){i.s.displayItem(this)}get lastModifiedDate(){return this._lastModifiedDate??=new Date(this?.meta?.touched??"2021-11-15T20:00:00.000Z")}get isRedacted(){if(this.state.userUnredacted)return!1;if(this?._isRedacted)return this._isRedacted;if(n.db.revealHidden)return this._isRedacted=!1;const t=this.visibility;return"Hidden"===t.status?this._isRedacted=!0:(t.status,this._isRedacted=!1)}get visibility(){if(this?._visibility)return this._visibility;try{const t=this.meta?.visible;if(new Set(["meta","None","Offering"]).has(this.meta.type))return this._visibility={status:"Visible",date:new Date(t??new Date)};const e=this?.data?.CommonData.HideUntilOwned;return this._visibility=e&&t?{status:"Seen",date:new Date(t)}:!e&&t?{status:"Visible",date:new Date(t)}:{status:e?"Hidden":"Visible",date:new Date("2021-11-15T20:00:00.000Z")}}catch(t){return console.error("[Item.visibility]",t),this._visibility={status:"Hidden",date:new Date("2021-11-15T20:00:00.000Z")}}}unredact(){this.state.userUnredacted=!0}get community(){if(this.meta.community)return this.meta.community}get quality(){const t=this?.data?.CommonData?.Quality;return t?t.toLowerCase():"Offering"===this.type?"Offering":this?.data?.Quality?`${this.data.Quality||"common"}`.toLowerCase():"common"}get tags(){return this?._tags?this._tags:Array.isArray(this.community?.tags)?this._tags=new Set(this.community.tags):this._tags=new Set}get isCrossCompatible(){return!(void 0===this?.data?.CommonData?.IsCrossCompatible||!this?.data?.CommonData?.IsCrossCompatible)}}class p extends u{constructor(t){super(),this._id=t}get meta(){return{name:this._id,title:"???",type:"???",touched:"2021-11-15T21:00:00.000Z",res:"831ef64146b867245232326064642228642b6ab6464bae3bd4085aa6b61cef87",added:["2021-11-15T20:00:00.000Z",""]}}get data(){return{}}get description(){return`ERROR: This item is corrupted, unavailable, or does not exist! "${this._id}"`}}},7375:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n,y:()=>i});const n="https://hi.cylix.guide/",i=!1},2165:(t,e,r)=>{"use strict";r.d(e,{v:()=>n,u:()=>i});class n{constructor(){this.listeners=new Map}on(t,e,r=!1){t=Array.isArray(t)?t:[t];for(const n of t){if("string"!=typeof n&&"symbol"!=typeof n)throw new Error(`[EventEmitter] eventName must be a string. Type: "${typeof n}"`);let t=this.listeners.get(n);t||this.listeners.set(n,t=new Set),e.once=r,t.add(e)}return this}once(t,e){return this.on(t,e,!0),this}off(t,e){const r=this.listeners.get(t);if(!r)return;const n=Array.isArray(e)?e:[e];for(const t of n)r.delete(t);return r.size||this.listeners.delete(t),this}clear(t){return this.listeners.has(t)&&this.listeners.delete(t),this}clearAll(){this.listeners.size&&this.listeners.clear()}async emit(t,...e){if(!this.listeners.has(t))return;const r=[...this.listeners.get(t)];return await Promise.all(r.map((async r=>{await r(...e),r.once&&this.off(t,r)}))),this}}const i=new n},6136:(t,e,r)=>{"use strict";var n=r(7786),i=r(2165),a=r(758),s=r(8853),o=r(4136),l=r(802);const c=new Date("2023-06-20T18:00:00Z");class h extends l.w{render(){return this.html`
			<div class="discord_wrapper">
				<section>
					<header>Privacy</header>
					<span>Updated: ${c.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}</span>
					<p>Cylix Guide does not collect information from visitors unless explicitly submitted, e.g. through a form or searching a gamertag. Any private information submitted is not shared outside of the data processors referred to in this policy, and is only used by Cylix Guide for purposes described in the submission form. Public information such as your spartan customization may be used to display anonymized statistics, e.g. item popularity.</p><br/>
					<p>If you provided personally identifiable information and would like it to be deleted please <a href="mailto:info@cylix.guide">contact me</a>.</p><br/>
					<p>Requests to cylix.guide are processed by <a href="https://developers.cloudflare.com/fundamentals/get-started/cloudflare-cookies/" target="_blank" rel="noopener noreferrer">Cloudflare</a>, <a href="https://www.digitalocean.com/legal/privacy-policy" target="_blank" rel="noopener noreferrer">Digital Ocean</a>, and <a href="https://docs.github.com/en/github/site-policy/github-privacy-statement#github-pages" target="_blank" rel="noopener noreferrer">GitHub</a>. Please refer to their privacy policies for any information they might collect.</p><br/>
				</section>
			</div>
		`}}const d=new h;var u=r(631);class p extends l.w{constructor(){super(),this.links=[]}render(){return this.html`
			<h2>Cylix Guide</h2>
			<p>Cylix Guide is a compendium of items and experiences found within the game Halo Infinite. As an open source project its goal is to make information about the live game accessible, and seeks to archive that information along with its changes over time.</p>
			<h2>Disclaimer</h2>
			<p>All information presented is generated from the game API (unless otherwise noted) and is subject to change. As such it may not accurately reflect future content and can not be used as an authoritative source for such.</p>
			<p>This site is not operated by nor affiliated with Microsoft and 343 Industries.</p>
			<p>This site displays content owned or licensed by Microsoft for the purpose of education and information archiving.</p>
			<p>The original assets (e.g. code) used for this website, not associated with Microsoft, are available under the ISC license. To contribute, report issues, or contact me, please visit the <a href="https://github.com/Gasgira/gasgira.github.io" target="_blank" rel="noopener noreferrer">GitHub repository</a> or <a href="https://cylix.guide/discord" target="_blank" rel="noopener noreferrer">Discord</a> for this project. All contributions must be made under the same license and terms.</p>
			<h2>Spoiler Policy</h2>
			<p>
				Items considered a spoiler appear as [REDACTED], without any associated image.
			</p>
			<p>
				Items signal to the game UI whether they should be shown to a player before they own them. This signal is turned on during events when they first become available, such as in store bundles or ritual battle passes. This signal is tracked such that if an item has ever been visible to players the spoiler status is removed. There are also cases where items are made available through special grants such as the Unicorn emblems and log-in bonuses that manually have their spoiler status removed as they are announced.
			</p>
			<p>
				To respect individual choice a user may reveal a spoiler one at a time by clicking on the “Reveal Spoiler” button in the details panel for an item, or they may click “Reveal All Spoilers” in the menu. The individual reveal is temporary, while the reveal all button saves the preference to your browser so that it will remember your choice upon your next visit.
			</p>
		`}}const f=new p;var m=r(3423);r(9640);class g extends l.w{constructor(){if(super(),localStorage){const t=localStorage.getItem("user.storeWebhookID");t&&(this.storeWebhookID=t);const e=localStorage.getItem("user.capstoneWebhookID");e&&(this.capstoneWebhookID=e);const r=localStorage.getItem("user.newsWebhookID");r&&(this.newsWebhookID=r)}}render(){return this.html`
			<div class="discord_wrapper">
				<section>
					<header><h2>Discord</h2></header>
					<p>To contribute to the project, report issues, or just talk about Halo and its API you are welcome to <a href="https://cylix.guide/discord" target="_blank">join our Discord community.</a></p>
					<br/>
					<article>
						<h2>Bot</h2>
						<p><a href="https://cylix.guide/discord/bot" target="_blank">Click here</a> to add the Discord bot to your server!</p>
						<ul>
							<li>/item "search term" "type?" "spoilers?"</li>
							<li>/vanity "gamertag"</li>
						</ul>
					</article>
					<br/>
					<article>
						<h2>Webhooks</h2>
						<p>Cylix Guide offers a Discord webhook service which can post daily Halo Infinite updates to your community. If you operate a Discord server and would like this service, please read <a href="https://support.discord.com/hc/en-us/articles/228383668-Intro-to-Webhooks" target="_blank" rel="noopener noreferrer">Discord's page on webhooks</a> and submit your webhook below. You may provide the same webhook for each, or choose to create separate channels.</p><br/>
						<p>Updates will be sent following the in-game reset time.</p><br/>
						<p>If your server has an active webhook and you would like to stop receiving  updates, you must remove the webhook from your Discord server integrations.</p><br/>
						<p>Note: alternatively there is a followable channel in the <a href="https://cylix.guide/discord" target="_blank">Cylix discord</a> if you are not able to add the webhook directly. An additional followable announcement channel is also available on the discord for calling out trending and official recommended forge maps.</p><br/>
						${this.renderStatus()}
						<br/><br/>

						<div class="option_wrapper">
							<label for="webhook-store">Store (daily): </label>
							<input class="show-value" type="text" id="webhook-store" name="webhook-store"
								onchange=${t=>this.inputStore(t?.target?.value)}
								disabled=${this?.storeWebhookID}
								placeholder="https://discord.com/api/webhooks/..."
							>
						</div>
						<button
							class="hi-box"
							onclick=${()=>this.submitStore()}
							disabled=${this?.storeWebhookID}
						>Submit</button>
						<span title=${this?.storeWebhookID??"..."}>${this?.storeWebhookID?`You have registered a store webhook with the ID: ${this.storeWebhookID.substring(0,9)}...`:""}</span>
						<br/>
						<br/>

						<div class="option_wrapper">
							<label for="webhook-capstone">Capstone (weekly): </label>
							<input class="show-value" type="text" id="webhook-capstone" name="webhook-capstone"
								onchange=${t=>this.inputCapstone(t?.target?.value)}
								disabled=${this?.capstoneWebhookID}
								placeholder="https://discord.com/api/webhooks/..."
							>
						</div>
						<button
							class="hi-box"
							onclick=${()=>this.submitCapstone()}
							disabled=${this?.capstoneWebhookID}
						>Submit</button>
						<span title=${this?.capstoneWebhookID??"..."}>${this?.capstoneWebhookID?`You have registered a capstone webhook with the ID: ${this.capstoneWebhookID.substring(0,9)}...`:""}</span>
					</article>
					<br/>
					<img src="/bot.jpg">
					<img src="/storebot.jpg">
				</section>
			</div>
		`}renderStatus(){return n.k9.wire(this,":status")`
			<span class="discord-status">${this.state?.status?`Response: ${this.state.status}`:"..."}</span>
		`}inputStore(t){try{if(!t||"string"!=typeof t||!t.startsWith("https://discord.com/api/webhooks/"))throw this.setState({status:"Invalid store input!"}),new Error("Invalid URL");const e=new URL(t);this.inputStoreURL=e.toString(),console.log("url",e)}catch(t){console.error("[Discord.webhook] Error processing input URL",t),this.inputStoreURL=void 0}}async submitStore(){this.inputStoreURL&&"string"==typeof this.inputStoreURL&&this.inputStoreURL.startsWith("https://discord.com/api/webhooks/")?await this.registerWebhook("store",this.inputStoreURL):this.setState({status:"Invalid store webhook"})}inputCapstone(t){try{if(!t||"string"!=typeof t||!t.startsWith("https://discord.com/api/webhooks/"))throw this.setState({status:"Invalid capstone input!"}),new Error("Invalid URL");const e=new URL(t);this.inputCapstoneURL=e.toString(),console.log("url",e)}catch(t){console.error("[Discord.webhook] Error processing input URL",t),this.inputCapstoneURL=void 0}}async submitCapstone(){this.inputCapstoneURL&&"string"==typeof this.inputCapstoneURL&&this.inputCapstoneURL.startsWith("https://discord.com/api/webhooks/")?await this.registerWebhook("capstone",this.inputCapstoneURL):this.setState({status:"Invalid capstone webhook"})}async registerWebhook(t,e){if(!e||"string"!=typeof e||!e.startsWith("https://discord.com/api/webhooks/"))return void this.setState({status:"Invalid webhook!"});if(!t||"string"!=typeof t)return void this.setState({status:"Invalid audience!"});console.log("submit",e),this.setState({status:"pending"});const r=JSON.stringify({webhook:e}),n=await fetch(new URL(`/api/webhooks/${t}`,`https://${window.location.host}`),{method:"POST",body:r});if(n){if(console.log(`[Discord.webhook] response "${n.status}"`),!n.ok)return void this.setState({status:`Bad response ${n.status??"???"} for "${t}"`});if(200===n.status)return void this.setState({status:`Not accepted, this webhook is already registered for "${t}"!`});if(201===n.status){const e=await n.json();if(e&&e.id){const r=e.id;return this.setState({status:`Accepted webhook ID "${r}" for "${t}"`}),void(localStorage&&localStorage.setItem(`user.${t}WebhookID`,`${r}`))}}}this.setState({status:`No response for "${t}"`})}}const b=new g;r(7319);class v extends l.w{constructor(){super(),this.links=[],document.addEventListener("click",(t=>{this.state.showMenu&&(t.target.closest(".menu_wrapper")||this.setState({showMenu:!1}))}))}get defaultState(){return{copyStatus:"Share",showMenu:!1}}get pathname(){const{pathname:t}=new URL(window.location);return t||"/"}render(){const t=new URL(window.location),{pathname:e}=t;return this.html`
			<nav class="toolbar">
			<a class="header-logo" href="/"><header>
					<div class="logo">
						<svg id="greenman" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 257.45 505">
							<defs>
								<style>
								</style>
							</defs>
							<g id="body">
								<polygon class="cls-1 greenman" points="0 0 0 294.58 32.18 294.58 32.18 420.83 0 420.83 0 505 225.27 505 225.27 294.58 257.45 294.58 257.45 0 0 0"/>
							</g>
							<g id="visor">
								<rect class="cls-2 greenman" x="84.17" y="42.08" width="86.64" height="42.08"/>
							</g>
							<g id="face">
								<path class="cls-3 greenman" d="M115,53.26h2.65q-3.93-6.21-13-6.2t-13,6.2h2.65q3-4.18,10.34-4.19T115,53.26Zm.49,4.83a4.24,4.24,0,0,0-1.33-3.15,4.48,4.48,0,0,0-3.23-1.29,4.4,4.4,0,0,0-3.2,1.29,4.27,4.27,0,0,0-1.31,3.15,4.52,4.52,0,0,0,4.54,4.53,4.51,4.51,0,0,0,4.53-4.53Zm-2.73,1.85a2.47,2.47,0,0,1-1.83.78,2.39,2.39,0,0,1-1.81-.77,2.58,2.58,0,0,1-.73-1.86,2.45,2.45,0,0,1,.75-1.8,2.48,2.48,0,0,1,1.82-.75,2.53,2.53,0,0,1,1.82.74,2.45,2.45,0,0,1,.75,1.81A2.55,2.55,0,0,1,112.72,59.94Zm13.71,22.21q-7.29,0-10.34-4.19h-2.65q3.93,6.21,13,6.2t13-6.2h-2.65Q133.75,82.15,126.43,82.15Zm9.77-6.24a5.11,5.11,0,0,0,2-4.08,6.27,6.27,0,0,0-.64-2.84,13.1,13.1,0,0,0-2.65-3.23,9.46,9.46,0,0,1-2-2.54,6.34,6.34,0,0,1-.5-2.62v-8h-2.69v8a8.37,8.37,0,0,0,.6,3.48,13,13,0,0,0,2.43,3.17,13.79,13.79,0,0,1,2.19,2.63,4,4,0,0,1,.5,2,3,3,0,0,1-1.19,2.45,5,5,0,0,1-3.19,1A9.09,9.09,0,0,1,126.44,74v2.52a11.22,11.22,0,0,0,4.62,1A7.76,7.76,0,0,0,136.2,75.91Zm22-22.65h2.65q-3.93-6.21-13-6.2t-13,6.2h2.65q3-4.18,10.33-4.19T158.23,53.26Zm-4.08.39A4.38,4.38,0,0,0,151,54.94a4.27,4.27,0,0,0-1.31,3.15,4.52,4.52,0,0,0,4.54,4.53,4.51,4.51,0,0,0,4.53-4.53,4.24,4.24,0,0,0-1.33-3.15A4.49,4.49,0,0,0,154.15,53.65ZM156,59.94a2.51,2.51,0,0,1-1.84.78,2.37,2.37,0,0,1-1.8-.77,2.58,2.58,0,0,1-.73-1.86,2.45,2.45,0,0,1,.75-1.8,2.58,2.58,0,0,1,3.63,0,2.42,2.42,0,0,1,.76,1.81A2.55,2.55,0,0,1,156,59.94Z"/>
							</g>
							<g id="fillet">
								<path class="cls-4 greenman" d="M237.75,39.61h7.33A22.38,22.38,0,0,0,222.79,19.8v5A14.89,14.89,0,0,1,237.75,39.61ZM19.7,257.45H12.37a22.38,22.38,0,0,0,22.29,19.81v-5A14.91,14.91,0,0,1,19.7,257.45ZM190.61,482.72v4.95a22.37,22.37,0,0,0,22.29-19.8h-7.33A14.91,14.91,0,0,1,190.61,482.72Zm4.95-207.94a14.9,14.9,0,0,1-14.95-14.85h-7.33a22.37,22.37,0,0,0,22.28,19.8ZM12.52,39.61H19.8A14.86,14.86,0,0,1,34.66,24.76v-5A22.29,22.29,0,0,0,12.52,39.61Zm0,420.83H19.8a14.86,14.86,0,0,1,14.86-14.85v-4.95A22.28,22.28,0,0,0,12.52,460.44Zm64.37,0h7.28A14.85,14.85,0,0,1,99,445.59v-4.95A22.26,22.26,0,0,0,76.89,460.44Zm145.9-185.66v5a22.38,22.38,0,0,0,22.29-19.8h-7.33A14.9,14.9,0,0,1,222.79,274.78Z"/>
							</g>
							<g id="lines">
								<path class="cls-4 greenman" d="M84.17,470.34H76.74v12.38H19.8V470.34H12.38v17.33H190.61v-4.95H84.17ZM52,428.26H44.56v12.38h-9.9v4.95H52Zm56.93,0v12.38H99v4.95h17.33V428.26Zm86.64-148.53h9.91v12.38h7.42V279.73h9.9v-5H195.56Zm-151-7.43h-9.9v4.95h9.9ZM34.66,19.8v5H222.79v-5Z"/>
							</g>
							<g id="dashes">
								<path class="cls-4 greenman" d="M12.38,123.77H19.8V91.59H12.38Zm0-42.08H19.8V49.51H12.38Zm0,84.17H19.8V133.68H12.38Zm0,42.08H19.8V175.76H12.38Zm0,42.08H19.8V217.84H12.38Zm32.18-84.16H52V133.68H44.56Zm0,42.08H52V175.76H44.56Zm0,42.08H52V217.84H44.56Zm0,42.09H52V259.93H44.56Zm0,42.08H52V302H44.56Zm0,42.08H52V344.09H44.56Zm0,42.09H52V386.18H44.56Zm64.36-42.09h7.43V344.09h-7.43Zm0,42.09h7.43V386.18h-7.43ZM237.65,123.77h7.42V91.59h-7.42Zm-64.37,84.17h7.43V175.76h-7.43Zm0,42.08h7.43V217.84h-7.43ZM237.65,49.51V81.69h7.42V49.51Zm0,158.43h7.42V175.76h-7.42Zm0-42.08h7.42V133.68h-7.42ZM205.47,460.44h7.42V428.26h-7.42ZM237.65,250h7.42V217.84h-7.42Zm-32.18,84.17h7.42V302h-7.42Zm0,42.08h7.42V344.09h-7.42Zm0,42.09h7.42V386.18h-7.42Zm-32.19-252.5h7.43V133.68h-7.43Z"/>
							</g>
						</svg>
					</div>
					<div class="title_wrapper">
						<h1>Cylix Guide</h1>
						<span>Halo Infinite API Explorer</span>
					</div>
				</header></a>
				<ul>
					${this.shareButton()}
					${this.searchButton()}
					${this.itemsButton()}
					${this.vanityButton()}
					${this.discoveryButton()}
					${this.menuButton()}
				</ul>
			</nav>
		`}handleMenuMouseEvent(t){const{target:e,currentTarget:r,relatedTarget:n}=t;if("mouseover"===t.type&&r instanceof HTMLElement&&n instanceof Node&&e instanceof Node&&r.contains(e))return console.log("open",t.type),this.state.showMenu=!0,r.setAttribute("open","");r.removeAttribute("open"),this.state.hideMenu=!1,console.log("close",t.type)}menuButton2(){return console.log(this.state.showMenu),n.k9.wire(this,":menu")`
			<li>
				<details class="menu_wrapper"
					onMouseOver=${t=>this.handleMenuMouseEvent(t)}
					onMouseLeave=${t=>this.handleMenuMouseEvent(t)}
					onToggle=${t=>console.log("tog",t)}
				>
					<summary
						aria-label="Menu"
						title="Additional Options"
						class="icon-masked icon-menu"
					>
					</summary>
					<div class="menu_list_wrapper">
						<ul class="menu_list">
							<li>${this.spoilersButton()}</li>
							<li>${this.discordButton()}</li>
							<li>${this.settingsButton()}</li>
							<li>${this.forgeButton()}</li>
							<li>${this.aboutButton()}</li>
						</ul>
					</div>
				</details>
			</li>
		`}menuButton(){return this.state.showMenu?n.k9.wire(this,":menu")`
			<li>
				<div class="menu_wrapper">
					<button
						aria-label="Menu"
						title="Additional Options"
						onclick=${()=>this.setState({showMenu:!this.state.showMenu})}
					>
						<div class="icon-masked icon-close"></div>
					</button>
					<div
						class="menu_list_wrapper"
					>
						<ul
							class="menu_list"
						>
							<li>${this.spoilersButton()}</li>
							<li>${this.discordButton()}</li>
							<li>${this.settingsButton()}</li>
							<li>${this.aboutButton()}</li>
						</ul>
					</div>
				</div>
			</li>
		`:n.k9.wire(this,":menu")`
				<li>
					<div class="menu_wrapper">
						<button
							aria-label="Menu"
							title="Additional Options"
							onclick=${()=>this.setState({showMenu:!this.state.showMenu})}
						>
							<div class="icon-masked icon-menu"></div>
						</button>
					</div>
				</li>
			`}shareButton(){return this.pathname.startsWith("/vanity")?n.k9.wire(this,":share")`
			<li>
				<button
					aria-label="Copy shareable link"
					title="Share"
					onclick=${()=>{if(!navigator.clipboard)return this.setState({copyStatus:"Browser Error!"});navigator.clipboard.writeText(`${window?.location??"https://cylix.guide/"}`).then((t=>{this.setState({copyStatus:"Copied!"}),setTimeout((()=>{this.setState({copyStatus:"Share"})}),2e3)}),(t=>{console.error("Copy share link",t),this.setState({copyStatus:"Error!"}),setTimeout((()=>{this.setState({copyStatus:"Share"})}),2e3)}))}}
				>
					<span class="icon-masked icon-share"></span> ${this.state?.copyStatus??"Share"}
				</button>
			</li>
		`:""}vanityButton(){return this.pathname.startsWith("/vanity")?"":n.k9.wire(this,":vanity")`
			<li><button
				aria-label="Vanity"
				title="Spartan Customization"
				onclick=${()=>{history.pushState(null,null,"/vanity/");const t=new PopStateEvent("popstate",null);dispatchEvent(t)}}
			>
				Vanity
			</button></li>
		`}itemsButton(){return"/"===this.pathname||this.pathname.startsWith("/item/")?"":n.k9.wire(this,":items")`
			<li><button
				aria-label="Items"
				title="Items Database"
				onclick=${()=>{history.pushState(null,null,"/");const t=new PopStateEvent("popstate",null);dispatchEvent(t)}}
			>
				Items
			</button></li>
		`}searchButton(){if("/"===this.pathname)return n.k9.wire(this,":search")`
				<li><button aria-label="Search" title="Search" onclick=${()=>i.u.emit("nav-search")}><div class="icon-masked icon-search"></div></button></li>
			`}discoveryButton(){return this.pathname.startsWith("/discovery")?"":n.k9.wire(this,":vanity")`
			<li><button
				aria-label="Discovery"
				title="User Generated Content"
				onclick=${()=>{history.pushState(null,null,"/discovery/");const t=new PopStateEvent("popstate",null);dispatchEvent(t)}}
			>
				Community
			</button></li>
		`}forgeButton(){return this.pathname.startsWith("/forge")?"":n.k9.wire(this,":forge")`
			<button
				aria-label="Forge"
				title="Forge Tools"
				onclick=${()=>{this.setState({showMenu:!1}),history.pushState(null,null,"/forge/");const t=new PopStateEvent("popstate",null);dispatchEvent(t)}}
			>
				<span>Forge</span><div class="icon-masked icon-forge"></div>
			</button>
		`}spoilersButton(){if(!u.X.data.has("revealHidden"))return n.k9.wire(this,":spoilers")`
			<button
				aria-label="Show spoilers?"
				title="Reveal Spoilers"
				onclick=${()=>{u.X.showSpoilers()}}
			>
				<span>Reveal All Spoilers</span><div class="icon-masked icon-eye"></div>
			</button>
		`}aboutButton(){return n.k9.wire(this,":about")`
			<button
				aria-label="About"
				title="About"
				onclick=${()=>{this.setState({showMenu:!1}),o.v.showView(f.render())}}
				onconnected=${t=>t?.target.focus()}
			>
				<span>About</span><div class="icon-masked icon-quote"></div>
			</button>
		`}discordButton(){return n.k9.wire(this,":discord")`
			<button
				aria-label="Discord"
				title="Discord"
				onclick=${()=>{this.setState({showMenu:!1}),o.v.showView(b.render())}}
			>
				<span>Discord & Bots</span><div class="icon-masked icon-discord"></div>
			</button>
		`}settingsButton(){return n.k9.wire(this,":settings")`
			<button
				aria-label="Settings"
				title="Settings"
				onclick=${()=>{this.setState({showMenu:!1}),o.v.showView(u.X.render())}}
				autofocus
			>
				<span>Settings</span><div class="icon-masked icon-settings"></div>
			</button>
		`}}const y=new v;var w=r(3773),_=r(6664),x=r(5959),k=r(7375);r(1727);class S extends l.w{constructor(){super(),this.mobileMicaMenu=new _.W("MobileMicaMenu-Calendar","Events"),i.u.on("MobileMicaMenu-Calendar",(()=>{this.setState({mobileMenu:!this.state.mobileMenu}),this.state.mobileMenu&&history.pushState({},"Halosets","")})),i.u.on("popstate",(()=>{this.state.mobileMenu&&this.setState({mobileMenu:!1})}))}async init(){if(this?._init)return;this._init=!0;const t=a.db.getItemManifestByID("seasoncalendar");if(!t)return;this.data=await a.db.getJSON(`item/${t.name}/${t.res}.json`),this.archivedEvents=[],this.events=[],this.operations=[],this.currentOperations=[];const e=a.db.getItemManifestByID((0,x.B)(this.data?.CareerRank?.RewardTrackPath));this.career.rewardTrackPath=`item/${e.name}/${e.res}.json`;const r=new Date("2023-10-17T16:00:00.654Z");this.data?.Seasons?.forEach((async t=>{const e=t.OperationTrackPath;if(!e)return;const n=new M(e,!0);this.rewardTracks.set(`${e}`,n),n.addDates(t?.StartDate?.ISO8601Date,t?.EndDate?.ISO8601Date),this.operations.push({type:"operation",startDate:t?.StartDate?.ISO8601Date,endDate:t?.EndDate?.ISO8601Date,rewardTrack:n}),new Date(t?.StartDate?.ISO8601Date)>r&&this.currentOperations.push({type:"operation",startDate:t?.StartDate?.ISO8601Date,endDate:t?.EndDate?.ISO8601Date,rewardTrack:n})}));const n=new Date;let i=!1;return this.data?.Events?.forEach((t=>{const e=t?.RewardTrackPath;if(!e)return;const r=new Date(t?.StartDate?.ISO8601Date),a=new Date(t?.EndDate?.ISO8601Date);let s=!1,o=n>a;if(r>n&&!i&&(s=!0,i=!0),this.rewardTracks.has(e)){const e=this.rewardTracks.get(t.RewardTrackPath);e.addDates(t?.StartDate?.ISO8601Date,t?.EndDate?.ISO8601Date),this.events.push({type:"ritual",startDate:t?.StartDate?.ISO8601Date,endDate:t?.EndDate?.ISO8601Date,rewardTrack:e,isNext:s,isPast:o})}else{const n=new M(e,!1);n.addDates(t?.StartDate?.ISO8601Date,t?.EndDate?.ISO8601Date),r<this.minimumEventDate?(this.rewardTracksArchive.set(`${e}`,n),this.archivedEvents.push({type:"ritual",startDate:t?.StartDate?.ISO8601Date,endDate:t?.EndDate?.ISO8601Date,rewardTrack:n,isNext:s,isPast:o})):(this.rewardTracks.set(`${e}`,n),this.events.push({type:"ritual",startDate:t?.StartDate?.ISO8601Date,endDate:t?.EndDate?.ISO8601Date,rewardTrack:n,isNext:s,isPast:o}))}})),this.render(),Promise.allSettled([...this?.rewardTracks.values()].map((t=>t.init()))).then((()=>{this.render(),this.renderEventList();const t=m.B.getSecionSetting("calendar",{dash:!0});t&&this.showRewardTrackByName(t)})),Promise.allSettled([...this?.rewardTracksArchive.values()].map((t=>t.init()))).then((()=>{this.renderEventList();const t=m.B.getSecionSetting("calendar",{dash:!0});t&&this.showRewardTrackByName(t)})),this}get defaultState(){return{mobileMenu:!1}}get rewardTracks(){return this?._rewardTracks??(this._rewardTracks=new Map)}get rewardTracksArchive(){return this?._rewardTracksArchive??(this._rewardTracksArchive=new Map)}get economy(){return this._economy??=new A}get career(){return this._career??=new D}async render(){return this.init(),this.html`
			<div class="mica_viewer calendar_wrapper" id="season-calendar">
				<header class="mica_header-strip"><a class="mica_header-anchor" href="#season-calendar"><h2>Season Calendar</h2></a><span class="header-notice"><div class="icon-masked icon-info"></div> Content and dates subject to change.</span></header>
				<div class="mica_main-content">
					<ul class=${"mica_nav-list "+(this.state.mobileMenu?"show-mobile":"hide-mobile")}>
						${this.renderEventList()}
					</ul>
					${"capstone"===this.state?.rewardTrack?this.renderCapstoneCalendar():this.state?.rewardTrack?.render()??this.calendar()}
					<div class=${"mica_mobile-menu_container "+(this.state.mobileMenu?"show-mobile":"hide-mobile")}>${this?.mobileMicaMenu.render()}</div>
				</div>
			</div>
		`}renderEventList(){return n.k9.wire(this,":list")`
			<li
			><button
				onclick=${()=>this.showCalendar()}
				class=${this.state?.rewardTrack?null:"active"}
			>
				<span>Timeline</span>
			</button></li>
			<li
			><button
				onclick=${()=>this.showCareer()}
				class=${this.state.rewardTrack===this.career?"active":null}
			>
				<span>Career</span>
			</button></li>
			<li
			><button
				onclick=${()=>this.showCapstoneCalendar()}
				class=${"capstone"===this.state?.rewardTrack?"active":null}
			>
				<span>Capstones</span>
			</button></li>
			<li
			><button
				onclick=${()=>this.showEconomy()}
				class=${this.state.rewardTrack===this.economy?"active":null}
			>
				<span>Store</span>
			</button></li>
			${[...this?.rewardTracks.values()].map((t=>n.k9.wire(t)`
				<li
					class=${t.isSeason?"season":"event"}
				><button
					onclick=${()=>this.showRewardTrack(t)}
					class=${this.state?.rewardTrack===t?"active":null}
				>
					<span>${t?.name}</span>
				</button></li>
			`))}
			${[...this?.rewardTracksArchive.values()].map((t=>n.k9.wire(t)`
				<li
					class=${t.isSeason?"season":"event"}
				><button
					onclick=${()=>this.showRewardTrack(t)}
					class=${this.state?.rewardTrack===t?"active":null}
				>
					<span>${t?.name}</span>
				</button></li>
			`))}
		`}remainingTimeInSeason(){try{const t=this?.operations?.[this.operations.length-1];if(t){const e=new Date,r=new Date(t?.endDate),n=864e5,i=Math.round(Math.abs((e-r)/n));return i>7?`${i} days remaining`:this.renderCountdown(r)}}catch(t){return console.error("daysLeftInSeason",t),"Timey Wimey Error"}}renderCountdown(t){const e=()=>{const e=new Date,r=Math.abs(e.valueOf()-t.valueOf())/864e5,i=r%1*24,a=i%1*60;return n.k9.wire(this,":countdown")`
				${t<e?"- ":""}${Math.floor(r).toString().padStart(2,"0")} Days, ${Math.floor(i).toString().padStart(2,"0")} Hours, ${Math.floor(a).toString().padStart(2,"0")} Minutes
			`},r=t=>{e(),setTimeout((()=>{window.requestAnimationFrame(r)}),1e3)};return window.requestAnimationFrame(r),e()}get minimumEventDate(){return this._minimumEventDate??=new Date("2023-10-16T20:00:00Z")}calendar(){return n.k9.wire(this,":calendar")`
		<div class="reward-track_wrapper mica_content">
			<span>Operation // ${this.remainingTimeInSeason()}</span>
			<div class="timeline_wrapper">
				<ul class="timeline_list operations">
					${this?.currentOperations?.map((t=>{let e=!1,r=new Date(t.startDate);r<this.minimumEventDate&&(r=this.minimumEventDate);const i=new Date(t.endDate);i.setDate(i.getDate()-1);const s=new Date;return r<=s&&new Date(t.endDate)>=s&&(e=!0),n.k9.wire(t)`
							<li
								class=${`timeline-event ${t?.type??"ritual"}${e?" active":""}`}
							>
								<div
									class="event-bg"
									style=${{backgroundImage:`url(${k.Z}images/${a.db.pathCase(t.rewardTrack?.data?.BackgroundImagePath)})`}}
								></div>
								<button
									onclick=${()=>this.showRewardTrack(t.rewardTrack)}
								>
									<span class="date-range">
									${r.toLocaleDateString(void 0,{month:"short",day:"numeric"})}
									${" - "}${i.toLocaleDateString(void 0,{month:"short",day:"numeric"})}
									</span>
										<span class="upcoming">${e?"Live Now":""}</span>
									<span class="event-name">${t.rewardTrack.name}</span>
								</button>
							</li>
						`}))??"..."}
				</ul>
				<ul class="timeline_list rituals">
					${{html:this?.events?"":'<div class="timeline-placeholder">Loading timeline...</div>'}}
					${this?.events?.map((t=>{let e=!1,r=new Date(t.startDate);r<this.minimumEventDate&&(r=this.minimumEventDate);const i=new Date(t.endDate);i.setDate(i.getDate()-1);const s=new Date;return r<=s&&new Date(t.endDate)>=s&&(e=!0),n.k9.wire(t)`
							<li
								class=${`timeline-event ${t?.type??"ritual"}${e?" active":""}`}
							>
								<div
									class=${"event-bg"+(t.isPast?" past":"")}
									style=${{backgroundImage:`url(${k.Z}images/${a.db.pathCase(t.rewardTrack?.data?.SummaryImagePath)})`}}
								></div>
								<button
									onclick=${()=>this.showRewardTrack(t.rewardTrack)}
								>
									<span class="date-range">
										${r.toLocaleDateString(void 0,{month:"short",day:"numeric"})}
										${" - "}${i.toLocaleDateString(void 0,{month:"short",day:"numeric"})}
										<br>
										<span class="upcoming">${t.isNext?"Up Next":""}</span>
										<span class="upcoming">${e?"Live Now":""}</span>
									</span>
									<span class="event-name">${t.rewardTrack.name}</span>
								</button>
							</li>
						`}))??"..."}
				</ul>
			</div>
		</div>
		`}async renderCapstoneCalendar(){if(this?._capstoneCalendarWire)return this._capstoneCalendarWire;const t=await this.getCapstoneCalendar();if(!t)return"...pardon the dust...";const e=new Date(t.startDate),r=new Date(t.endDate),i=new Date;return this._capstoneCalendarWire=n.k9.wire(this,":capstone")`
			<div class="reward-track_wrapper mica_content">
				<span>${t.title} Capstones // ${t.weeks.length}</span>
				<ul class="capstone-calendar_wrapper">
					${{any:t.weeks.map(((t,a)=>(async(t,a)=>{if(!t)return;const s=new w.c({path:t});if(!s)return;await s.init();const o=s?.data?.CapstoneChallengePath;if(!o)return;const l=new w.c({path:o});if(await l.init(),!l)return;const c=new w.c({path:l?.data?.Reward?.InventoryRewards?.[0]?.InventoryItemPath});if(!c)return;const h=new Date(e);h.setDate(e.getDate()+7*a);const d=new Date(h);d.setDate(h.getDate()+7);const u=h<=i&&d>=i;return n.k9.wire(h)`
				<li class=${"calendar-item"+(d<=i?" past":u?" active":h>=r?" past":" future")}>
					<div class="date-wrapper">
						${u?n.k9.wire()`
								<span class="icon-masked icon-ritual"></span>
							`:""}
						<span class="date">${new Date(h).toLocaleDateString(void 0,{month:"long",day:"numeric"})}</span>
					</div>
					${{any:c.renderIcon(`capstone-${h}`,{itemTypeIcon:!0}),placeholder:w.R.cloneNode(!0)}}
					<a class="challenge-link" href=${`#item/${(0,x.B)(o)}`}>${l?.name??"???"}</a>
				</li>
			`})(t,a))),placeholder:n.GU.cloneNode(!0)}}
				</ul>
			</div>
		`}async getCapstoneCalendar(){if(this?._capstoneCalendar)return await this._capstoneCalendar;return this._capstoneCalendar=a.db.getJSON("capstones.json"),await this._capstoneCalendar}showRewardTrack(t){this.state.mobileMenu=!1,this.state?.rewardTrack!==t?(this.setState({rewardTrack:t}),m.B.setSecionSetting("calendar",t?.name,{dash:!0}),this.scrollIntoView()):this.showCalendar()}showRewardTrackByName(t){if("capstone"!==t){if("store"===t)return this.setState({rewardTrack:this.economy}),void this.economy.init();if("career"===t)return this.setState({rewardTrack:this.career}),void this.career.init();for(const e of[...this?.rewardTracks.values()])if(e?.name===t){this.showRewardTrack(e);break}}else this.setState({rewardTrack:"capstone"})}showCalendar(){this.state.mobileMenu=!1,this.setState({rewardTrack:void 0}),m.B.deleteSecionSetting("calendar"),this.scrollIntoView()}showCapstoneCalendar(){this.state.mobileMenu=!1,this.setState({rewardTrack:"capstone"}),m.B.setSecionSetting("calendar","capstone",{dash:!0}),this.scrollIntoView()}showEconomy(){this.state.mobileMenu=!1,this.setState({rewardTrack:this.economy}),this.economy.init(),m.B.setSecionSetting("calendar","store",{dash:!0}),this.scrollIntoView()}showCareer(){this.state.mobileMenu=!1,this.setState({rewardTrack:this.career}),this.career.init(),m.B.setSecionSetting("calendar","career",{dash:!0}),this.scrollIntoView()}scrollIntoView(){const t=document.querySelector("#season-calendar");t&&(t.scrollIntoView(),history.replaceState({},"Cylix","#season-calendar"))}}const I=new S;class M extends l.w{constructor(t,e){super(),this.path=t,this.dates=[],this.isSeason=!!e}async init(){this.item=new w.c({path:this.path}),await this.item.init(),this.data=this.item.data}render(){return this.html`
			<div class="reward-track_wrapper mica_content">
				<ul class="dates-list">
					<li class="event-header">${this.name} // </li>
					${{html:this.dates.map((t=>`\n\t\t\t\t\t\t<li><span>\n\t\t\t\t\t\t\t${t.startDate.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}\n\t\t\t\t\t\t\t - \n\t\t\t\t\t\t\t${t.endDate.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}\n\t\t\t\t\t\t</span></li>\n\t\t\t\t\t`))}}
				</ul>
				<ul class="reward-list">${this.renderRewardList()}</ul>
			</div>
		`}async renderRewardList(){return n.k9.wire(this,":list")`
			${this?.data?.Ranks?.map((t=>n.k9.wire(t)`<li class="reward-rank">
					<ul class="rank_rewards">
						<li class="rank_number">${t.Rank}</li>
						<ul class="rank_reward-items free">
							${t?.FreeRewards?.InventoryRewards?.map((t=>n.k9.wire()`<li>${{any:new w.c({path:t?.InventoryItemPath}).renderIcon("reward",{itemTypeIcon:!0}),placeholder:w.R.cloneNode(!0)}}</li>`))}
							${t?.FreeRewards?.CurrencyRewards?.map((e=>n.k9.wire()`<li class="currency" data-quantity=${parseInt(e?.Amount)}>${{any:new w.c({path:e?.CurrencyPath}).renderIcon(`${t.Rank}-${performance.now()}`),placeholder:w.R.cloneNode(!0)}}</li>`))}
						</ul>
						<ul class="rank_reward-items paid">
							${t?.PaidRewards?.InventoryRewards?.map((t=>n.k9.wire()`<li>${{any:new w.c({path:t?.InventoryItemPath}).renderIcon("reward",{itemTypeIcon:!0}),placeholder:w.R.cloneNode(!0)}}</li>`))}
							${t?.PaidRewards?.CurrencyRewards?.map((e=>n.k9.wire()`<li class="currency" data-quantity=${parseInt(e?.Amount)}>${{any:new w.c({path:e?.CurrencyPath}).renderIcon(`${t.Rank}-${performance.now()}`),placeholder:w.R.cloneNode(!0)}}</li>`))}
						</ul>
					</ul>
				</li>`))}
		`}get name(){return this?.data?.Name??"..."}addDates(t,e){const r=new Date(t),n=new Date(e);r&&n&&this.dates.push({startDate:r,endDate:n})}}class D extends l.w{constructor(t){super(),t&&t?.Ranks&&(this._rewardTrack=t)}async init(){if(!this.ranks.length){if(this.rewardTrackPath){const t=await a.db.getJSON(this.rewardTrackPath);t&&(this._rewardTrack=t);let e=0;for(const t of this.rewardTrack.Ranks)t.initialXp=parseInt(e),e+=parseInt(t.XpRequiredForRank),t.totalXp=parseInt(e),this.ranks.push(new C(t,this));this._careerXpSum=e}this.render()}}render(){return this.html`
			<div class="reward-track_wrapper mica_content">
				<ul class="career-ranks-list">${this.renderRewardList()}</ul>
			</div>
		`}get ranks(){return this._ranks??=[]}get careerXpSum(){return this._careerXpSum??0}async renderRewardList(){return n.k9.wire(this,":list")`
			${this.ranks.map((t=>t.render()))}
		`}get rewardTrack(){return this._rewardTrack??={TrackId:"careerRank1",Ranks:[],Name:"Career Rank Loading...",Description:"Earn Personal Score to Advance Career Rank."}}get name(){return this.rewardTrack?.Name??"Career"}}class C extends l.w{constructor(t,e){super(),t&&t?.Rank&&(this.rank=t),e&&(this.career=e)}render(){return this.html`
			<li
				class=${"career-rank"+(this.rewardIds?" has-rewards":"")}
				onclick=${()=>this.showDetails()}
			>
				<ul class="rank_rewards">
					<li class="rank-img_container">
						<img
							class="rank-img"
							src=${`${k.Z}images/${this.rank.RankIcon.toLowerCase()}`}
							decoding="async"
							fetchpriority="low"
							loading="lazy"
							width="200"
							height="280"
						>
						<img
							class="rank-img_adornment"
							src=${`${k.Z}images/${this.rank.RankAdornmentIcon.toLowerCase()}`}
							decoding="async"
							fetchpriority="low"
							loading="lazy"
							width="200"
							height="280"
						>
					</li>
					<li class="rank_number">
						<span class="rank-number">${this.level}<br/>${this.xpPercent}</span>
						<span class="rank-title">${this.fullTitle}</span>
						<span class="rank-xp">${this.initialXp.toLocaleString()} <span class="fade">+ </span>${this.xpRequiredForRank.toLocaleString()}</span>
						<span class="rank-rewards">${{html:this.rank.FreeRewards.InventoryRewards.length?'<div class="icon-masked icon-emblem"></div>':""}}</span>
					</li>
				</ul>
			</li>
		`}async showDetails(){this.rewardIds&&(o.v.showView(this.renderDetails()),await this.initRewardItems(),this.renderDetails())}get rewardIds(){if(this.rank?.FreeRewards?.InventoryRewards.length)return this.rank.FreeRewards.InventoryRewards.map((t=>(0,x.B)(t.InventoryItemPath)))}get rewardItems(){if(this._rewardItems)return this._rewardItems}async initRewardItems(){try{const t=await Promise.all(this.rewardIds.map((t=>a.db.getItem({id:t}))));this._rewardItems=t}catch(t){console.error("[CareerRank.initRewardItems]",t)}}renderDetails(){return n.k9.wire(this,":details")`
			<div class="career-rank_details">
				<header>
					<span class="subtitle">${this.subTitle}</span>
					<span class="subtitle">${this.fullTitle}</span>
				</header>
				<span>${this.totalXp.toLocaleString()} XP</span>
				${this.renderRewards()}
			</div>
		`}renderRewards(){return this.rewardItems?n.k9.wire(this,":rewards")`
			<ul class="career-rank_rewards">
				${this.rewardItems.map((t=>t.renderIcon(`career-${this.level}`,{itemTypeIcon:!0})))}
			</ul>
		`:""}get level(){return this.rank.Rank??"??"}get subTitle(){return`${this.rank?.RankSubTitle??"Metal"}`}get fullTitle(){return`${this.rank?.RankTitle??"Rank"} ${this.rank.RankGrade||""}`}get totalXp(){return this.rank?.totalXp??0}get initialXp(){return this.rank?.initialXp??0}get xpRequiredForRank(){return this.rank?.XpRequiredForRank??0}get xpPercent(){return parseFloat(this.rank.initialXp/this.career.careerXpSum).toLocaleString(void 0,{style:"percent",minimumFractionDigits:2})}}class A extends l.w{async init(){if(this.stores.length)return;console.log("[Economy.init] Loading stores...");let t="main";const e=m.B.getSecionSetting("storeArchive",{dash:!1});e&&Date.parse(e)&&(t=`${e}`.substring(0,10),console.log(`[Economy.init] Loading main archive "${t}"`));const r=await Promise.all([this.getStore(`main/${t}`,(new Date).toJSON().substring(0,13)),this.getStore("customizationoffers/customizationoffers"),this.getStore("hcs/hcs")]);console.log("[Stores.init] Loaded stores!",r);const n=m.B.getSecionSetting("storefront",{dash:!0});r.forEach((t=>{if(t){const e=new P(t);this.stores.push(e),this.state.store||(this.state.store=e),n&&e.name===n&&(this.state.store=e)}})),this.render()}render(){return this.html`
			<div class="economy">
				<ul class="store-list">${this.stores.map((t=>n.k9.wire(t,":button")`
						<li>
							<button
								class="hi-box"
								onclick=${()=>this.showStore(t)}
							>${t.name}</button>
						</li>
					`))}</ul>
				${this.state?.store?.render?.()??"...loading stores"}
			</div>
		`}get stores(){return this._stores??=[]}get offerings(){return this._offerings??=new Map}async getStore(t,e){const r=await a.db.getJSON(`economy/${t}.json${e?`?t=${e}`:""}`);if(r)return r}registerOffering(t){if(this.offerings.has(t.OfferingId))return this.offerings.get(t.OfferingId);const e=new $(t);return this.offerings.set(`${t.OfferingId}`,e),e}showStore(t){t&&this.setState({store:t}),this.scrollIntoView(),m.B.setSecionSetting("storefront",t.name,{dash:!0})}scrollIntoView(){const t=document.querySelector("#season-calendar");t&&t.scrollIntoView()}}class P extends l.w{constructor(t){super(),t&&t?.StoreId&&(this.storefront=t),this.init(),console.log("storefront offerings",this.name,this.offerings)}init(){this.storefront&&this.storefront.Offerings.forEach((t=>this.offerings.add(I.economy.registerOffering(t))))}get defaultState(){return{page:0}}render(){return this.html`
			<div class="storefront" id="economy">
				<span>Storefront // ${this.name} // ${this.offeringsCount} Offerings</span>
				${this.renderDatePicker()}
				${this.renderPageControls("upper")}
				<ul class="economy-offerings">
					${{any:[...this.offeringsPage].map((t=>n.k9.wire(t,":list")`<li>${t.render()}</li>`))}}
				</ul>
				${this.renderPageControls("lower")}
			</div>
		`}renderDatePicker(){return"Main"===this.name?n.k9.wire(this,":datePicker")`
				<div>
					<label>
						Archival date:
						<input
							name="storeDate"
							type="date"
							min="2023-06-11"
							max=${(new Date).toLocaleDateString("se-SE",{year:"numeric",month:"numeric",day:"numeric"}).replaceAll("/","-")}
							onchange=${t=>this.showStoreDate(t.target.value)}
						>
					</label>
					<br/>
					<span class="economy_store-date">${this.storeDate.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}</span>
				</div>
			`:""}async showStoreDate(t){if(Date.parse(t)){const e=new Date(t);console.log(e.toJSON().substring(0,10));const r=await I.economy.getStore(`${this.storefront.StoreId.toLowerCase()}/${e.toJSON().substring(0,10)}`);r&&r?.Offerings.length&&(console.log("storefront",r),this.storefront=r,this.offerings.clear(),this.init(),this.render(),m.B.setSecionSetting("storeArchive",t,{dash:!0}))}}get name(){let t=this.storefront?.StoreId??"Store";if("CustomizationOffers"===t)t="Catalog";return t}get storeDate(){if(this._storeDate)return this._storeDate;try{const t=new Date(this.storefront.StorefrontExpirationDate.ISO8601Date);return new Date(t.setDate(t.getDate()-1))}catch(t){return new Date}}get offerings(){return this._offerings??=new Set}get offeringsCount(){return this.offerings.size}get pageLength(){return 20}get pages(){return Math.ceil(this.offerings.size/this.pageLength)}get pageNumber(){return this.state?.page??0}get offeringsPage(){return new Set([...this.offerings].slice(this.pageNumber*this.pageLength,this.pageNumber*this.pageLength+this.pageLength))}nextPage(){this.pageNumber!==this.pages-1&&(this.state.page=this.pageNumber+1,this.render(),this.scrollIntoView())}previousPage(){0!==this.pageNumber&&(this.state.page=this.pageNumber-1,this.render(),this.scrollIntoView())}scrollIntoView(){const t=document.querySelector("#season-calendar");t&&t.scrollIntoView()}renderPageControls(t="upper"){return this.pages<2?"":n.k9.wire(this,`:${t}`)`
			<div class="page-controls_wrapper">
				<button
					onclick=${()=>this.previousPage()}
					disabled=${0===this.pageNumber}
				><div class=${"icon-masked icon-arrow-left"}></div>Prev</button>
				<span>${this.pageNumber+1} of ${this.pages}</span>
				<button
					onclick=${()=>this.nextPage()}
					disabled=${this.pageNumber+1===this.pages}
				>Next<div class=${"icon-masked icon-arrow-right"}></div></button>
			</div>
		`}}class $ extends l.w{constructor(t){super(),this.data=t;new Set(["HCS OFFERS","VIEW BATTLE PASSES","STORE OFFERS","Boost and Swap Pack"]).has(this.name)&&(this.skipOffering=!0)}get id(){return this.data?.OfferingId}get name(){return this.data?.Display?.Title??this.id}get description(){return this.data?.Display?.Description??"..."}get quality(){return(this.data?.Display?.Quality??"common").toLowerCase()}get heightHint(){return this.data?.Display?.HeightHint??2}get imgHeight(){return 100*(this.data?.Display?.HeightHint??2)}get imgWidth(){return 100*(this.data?.Display?.WidthHint??2)}get cost(){return this.data.Prices.map((t=>`${t.Cost} ${(0,x.B)(t.CurrencyPath)}`)).join(", ")}get flair(){return`${this.data.Display?.FlairText??""}`}get itemIds(){if(this._itemIds)return this._itemIds;const t=new Set;return this.data?.IncludedItems?.length&&this.data.IncludedItems.forEach((e=>t.add((0,x.B)(e.ItemPath)))),this.data?.IncludedCurrencies?.length&&this.data.IncludedCurrencies.forEach((e=>t.add((0,x.B)(e.CurrencyPath)))),this._itemIds=[...t]}get items(){return this._items??=this.itemIds.map((t=>new w.c({id:t})))}render(){return this.skipOffering?"":this.html`
			<div
				class=${`economy-offering ${this.quality} height-${this.heightHint}`}
			>
				<header class="offering-title">
					<span>${this.name} — ${this.cost}</span>
					<aside class="flair">${this.flair}</aside>
				</header>
				<div class="offering-layout">
					<img
						class="offering-img"
						src=${`${k.Z}images/store/${this.id}.png`}
						decoding="async"
						fetchpriority="low"
						loading="lazy"
					>
					<div class="offering-info">
						<aside>${this.description}</aside>
						<ul class="items_list">
							${this.items.map((t=>n.k9.wire()`<li>
								${{any:t.renderIcon(`${this.id}`,{itemTypeIcon:!0}),placeholder:w.R.cloneNode(!0)}}
							</li>`))}
						</ul>
					</div>
				</div>
			</div>
		`}}r(1610);class T extends l.w{constructor(){super(),this.coreTypes=new Map([["ArmorCore",[]],["WeaponCore",[]],["VehicleCore",[]]]),this.cores=[],i.u.on("showSocket",(()=>this.updateParams()))}async init(){if(this?._init)return;this._init=!0;new Set(["017-001-olympus-c13d0b38",...a.db.getItemIDsByType("ArmorCore")]).forEach((t=>{const e=new O(t);this.cores.push(e),this.coreTypes.get("ArmorCore").push(e)}));a.db.getItemIDsByType("WeaponCore").forEach((t=>{const e=new O(t);this.cores.push(e),this.coreTypes.get("WeaponCore").push(e)})),a.db.getItemIDsByType("VehicleCore").forEach((t=>{const e=new O(t);this.cores.push(e),this.coreTypes.get("VehicleCore").push(e)}));const t=m.B.getSecionSetting("coreType",{dash:!0});if(t&&this.coreTypes.has(t)){this.showCoreType(t,!0);const e=m.B.getSecionSetting("coreName",{dash:!0});e&&this.showCoreByName(e)}this.state.core||(this.showCoreType("ArmorCore",!0),this.showCore(this.state?.coreType?.[0],!0)),this.render()}get defaultState(){return{}}async initAllCores(){for(const t of this.cores)await t.init()}async render(){return this.init(),this.html`
			<div id="cores" class ="core-viewer_wrapper mica_viewer">
				<nav class ="core-viewer_nav"><ul>
					<li>
						<button
							class=${"core-tab"+("ArmorCore"===this.state?.coreTypeName?" active":"")}
							onclick=${()=>this.showCoreType("ArmorCore")}
						>Armor</button>
					</li>
					<li>
						<button
							class=${"core-tab"+("WeaponCore"===this.state?.coreTypeName?" active":"")}
							onclick=${()=>this.showCoreType("WeaponCore")}
						>Weapons</button>
					</li>
					<li>
						<button
							class=${"core-tab"+("VehicleCore"===this.state?.coreTypeName?" active":"")}
							onclick=${()=>this.showCoreType("VehicleCore")}
						>Vehicles</button>
					</li>
				</ul></nav>
				<nav class ="cores-list_nav"><ul>
					${this.coreList()}
				</ul></nav>
				${this.state?.core?.render()??""}
				${{html:this.state?.core?"":'<div class="core-placeholder">Loading cores...</div>'}}
			</div>
		`}coreList(){return n.k9.wire(this,":coreList")`
			${this.state.coreType.map((t=>n.k9.wire(t,":nav")`<li><button
				onclick=${()=>this.showCore(t)}
				class=${this.state?.core===t?"active":null}
			>${t.name}</button></li>`))}
		`}updateParams(){m.B.setSecionSetting("coreType",this.state?.coreTypeName??"unk",{dash:!0}),m.B.setSecionSetting("coreName",this.state?.core?.urlName??"unk",{dash:!0}),this.state?.core?.state?.socket?m.B.setSecionSetting("coreSocket",this.state?.core?.state?.socket?.socketName??"unk",{dash:!0}):m.B.deleteSecionSetting("coreSocket")}showCore(t,e=!1){t&&(this.setState({core:t}),e||this.updateParams())}showCoreByName(t){if(t&&"string"==typeof t&&this.state.coreType)for(const e of this.state.coreType)if(e&&e.urlName&&e.urlName===t){this.setState({core:e});break}}showCoreType(t,e=!1){if(!t||!this.coreTypes.has(t))return;const r=this.coreTypes.get(t);this.state.coreType=r,this.state.coreTypeName=t,this.coreList()}}const E=new T;class O extends l.w{constructor(t){super(),this.id=t,this.meta=a.db.getItemManifestByID(t),this.sockets=[]}get urlName(){return this.meta.title.replace(/[^-\w]+/g,"")}get name(){return this._title??=a.db.getItemTitleById(this.id)??"..."}async init(){if(this.core)return;this.core={},this.core=await new w.c({id:this.id}).init(),this.item=await new w.c({path:this.core.data?.Themes?.DefaultOptionPath}).init();const t=this.item.data,e=m.B.getSecionSetting("coreSocket",{dash:!0});for(const r in t){let n;if(t[r]?.OptionPaths?.length){const e=t[r]?.OptionPaths;n=new R({OptionPaths:e,socketName:r}),this.sockets.push(n)}else if("Helmets"===r&&t[r]?.Options?.length){const i=new Set,a=t[r]?.Options.map((t=>(t?.HelmetAttachments?.OptionPaths.forEach((t=>i.add(t))),t.HelmetPath)));if(n=new R({OptionPaths:a,socketName:r}),this.sockets.push(n),e||(this.state.socket=n),i.size){const t=new R({OptionPaths:[...i],socketName:"HelmetAttachments"});this.sockets.push(t),e&&"HelmetAttachments"===e&&(this.state.socket=t)}}e&&r===e&&(this.state.socket=n),!this.state.socket&&r.includes("Coating")&&(this.state.socket=n)}return this.mobileMicaMenu=new _.W(`MobileMicaMenu-${this.name}`,"Sockets"),i.u.on(`MobileMicaMenu-${this.name}`,(()=>{this.setState({mobileMenu:!this.state.mobileMenu}),this.state.mobileMenu&&history.pushState({},"Halosets","")})),i.u.on("popstate",(()=>{this.state.mobileMenu&&this.setState({mobileMenu:!1})})),this.render(),this}get defaultState(){return{mobileMenu:!1}}async render(){return this.core||await this.init(),this.html`
			<div
				class ="core_wrapper mica_main-content"
			>
				<ul class=${"core-socket-list mica_nav-list "+(this.state.mobileMenu?"show-mobile":"hide-mobile")}>
					<li class="core-socket-title">${this?.item?.name??"Loading core..."}</li>
					${this.sockets.map((t=>n.k9.wire(t)`
						<li><button
							onclick=${()=>this.showSocket(t)}
							class=${this.state?.socket===t?"active":null}
						><span>${t.name}</span></button></li>
					`))}
				</ul>
				<div class="mica_content">${this.state?.socket?.render()??""}</div>
				${{html:this.state?.socket?"":'<div class="core-socket-placeholder">CHOOSE A SOCKET</div>'}}
				<div class=${"mica_mobile-menu_container "+(this.state.mobileMenu?"show-mobile":"hide-mobile")}>${this?.mobileMicaMenu?.render()??""}</div>
			</div>
		`}showSocket(t){if(this.state.mobileMenu=!1,this.state?.socket===t)return this.render(),void this.scrollIntoView();this.setState({socket:t}),i.u.emit("showSocket"),this.scrollIntoView()}scrollIntoView(){const t=document.querySelector("#cores");t&&(t.scrollIntoView(),history.replaceState({},"Cylix","#cores"))}}class R extends l.w{constructor({OptionPaths:t,socketName:e}){super(),this.OptionPaths=t,this.socketName=e,this.items=[],this.itemIDs=this.OptionPaths.map((t=>(0,x.B)(t))),this.init(),i.u.on("Inventory.setSort",(()=>this.sortItemIDs()))}render(){return this.html`
			<div
				class ="core-sockets_wrapper mica_content"
			>
				<span class="mica_content-title">${this.name?.replace("Atch.","Attachments")??"Socket"} // ${this?.OptionPaths?.length??"#"}</span>
				${this.renderPageControls("upper")}
				<ul
					class="socket-items"
				>
					${this.items.map((t=>n.k9.wire()`<li>${{any:t.renderIcon("core"),placeholder:w.R.cloneNode(!0)}}</li>`))}
				</ul>
				${this.renderPageControls("lower")}
			</div>
		`}get name(){return a.db.getItemType(this?.socketName)}get defaultState(){return{page:0}}init(){this.getCurrentItemPage()}set itemIDs(t){const e=new Set([...t]);if(!e||!e.size)return this._itemIDs=e;this._unsortedItemIDs=e;const r=u.X.getSetting("userSort")??"default";let n=this._unsortedItemIDs;switch(r){case"unsorted":return console.log("Sort: unsorted"),this._itemIDs=e;case"dateAdded":console.log("Sort: dateAdded"),n=new Set([...e].sort(((t,e)=>{const r=a.db.getItemManifestByID(t),n=a.db.getItemManifestByID(e);return new Date(n?.added??"2021-11-10")-new Date(r?.added??"2021-11-10")})));break;case"dateModified":console.log("Sort: dateModified"),n=new Set([...e].sort(((t,e)=>{const r=a.db.getItemManifestByID(t),n=a.db.getItemManifestByID(e);return new Date(n.touched)-new Date(r.touched)})));break;case"dateVisible":console.log("Sort: dateVisible"),n=new Set([...e].sort(((t,e)=>{const r=a.db.getItemManifestByID(t),n=a.db.getItemManifestByID(e);return new Date(n?.visible??new Date("2021-11-10"))-new Date(r?.visible??new Date("2021-11-10"))})));break;case"popularity":console.log("Sort: popularity"),n=new Set([...e].sort(((t,e)=>{const r=a.db.getItemManifestByID(t),n=a.db.getItemManifestByID(e),i=parseFloat(r?.community?.stats?.cur??0);return parseFloat(n?.community?.stats?.cur??0)-i})));break;case"popularityDelta":console.log("Sort: popularityDelta"),n=new Set([...e].sort(((t,e)=>{const r=a.db.getItemManifestByID(t),n=a.db.getItemManifestByID(e),i=Math.abs(parseFloat(r?.community?.stats?.delta??0));return Math.abs(parseFloat(n?.community?.stats?.delta??0))-i})));break;case"alphanumeric":console.log("Sort: alphanumeric");default:console.warn("Sort: default"),n=new Set([...e].sort(((t,e)=>{const r=a.db.getItemManifestByID(t),n=a.db.getItemManifestByID(e);return r&&n?r.title.localeCompare(n.title,"en",{ignorePunctuation:!0}):0})))}return this._itemIDs=n}get itemIDs(){return this._itemIDs??=new Set}sortItemIDs(){this.items.length&&(this.items=[],this.itemIDs=this.itemIDs,this.init(),this.render())}getCurrentItemPage(){return this.items=[...this.currentPageIDs].map((t=>new w.c({id:t})))}nextPage(){this.pageNumber!==this.pages-1&&(this.state.page=this.pageNumber+1,this.getCurrentItemPage(),this.render(),this.scrollIntoView())}previousPage(){0!==this.pageNumber&&(this.state.page=this.pageNumber-1,this.getCurrentItemPage(),this.render(),this.scrollIntoView())}scrollIntoView(){const t=document.querySelector("#cores");t&&(t.scrollIntoView(),history.replaceState({},"Cylix","#cores"))}get pageLength(){return inventory?.pageSize??100}get pages(){return Math.ceil(this.itemIDs.size/this.pageLength)}get pageNumber(){return this.state?.page??0}get currentPageIDs(){return new Set([...this.itemIDs].slice(this.pageNumber*this.pageLength,this.pageNumber*this.pageLength+this.pageLength))}renderPageControls(t="upper"){return this.pages<2?"":n.k9.wire(this,`:${t}`)`
			<div class="page-controls_wrapper">
				<button
					onclick=${()=>this.previousPage()}
					disabled=${0===this.pageNumber}
				><div class=${"icon-masked icon-arrow-left"}></div>Prev</button>
				<span>${this.pageNumber+1} of ${this.pages}</span>
				<button
					onclick=${()=>this.nextPage()}
					disabled=${this.pageNumber+1===this.pages}
				>Next<div class=${"icon-masked icon-arrow-right"}></div></button>
			</div>
		`}}var L=function(){return L=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},L.apply(this,arguments)};function F(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function j(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,a=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s}var z,N="KEYS",B="VALUES",H="",V=function(){function t(t,e){var r=t._tree,n=Array.from(r.keys());this.set=t,this._type=e,this._path=n.length>0?[{node:r,keys:n}]:[]}return t.prototype.next=function(){var t=this.dive();return this.backtrack(),t},t.prototype.dive=function(){if(0===this._path.length)return{done:!0,value:void 0};var t=W(this._path),e=t.node,r=t.keys;if(W(r)===H)return{done:!1,value:this.result()};var n=e.get(W(r));return this._path.push({node:n,keys:Array.from(n.keys())}),this.dive()},t.prototype.backtrack=function(){if(0!==this._path.length){var t=W(this._path).keys;t.pop(),t.length>0||(this._path.pop(),this.backtrack())}},t.prototype.key=function(){return this.set._prefix+this._path.map((function(t){var e=t.keys;return W(e)})).filter((function(t){return t!==H})).join("")},t.prototype.value=function(){return W(this._path).node.get(H)},t.prototype.result=function(){switch(this._type){case B:return this.value();case N:return this.key();default:return[this.key(),this.value()]}},t.prototype[Symbol.iterator]=function(){return this},t}(),W=function(t){return t[t.length-1]},U=function(t,e,r,n,i,a,s,o){var l,c,h=a*s;try{t:for(var d=F(t.keys()),u=d.next();!u.done;u=d.next()){var p=u.value;if(p===H){var f=i[h-1];f<=r&&n.set(o,[t.get(p),f])}else{for(var m=a,g=0;g<p.length;++g,++m){for(var b=p[g],v=s*m,y=v-s,w=i[v],_=Math.max(0,m-r-1),x=Math.min(s-1,m+r),k=_;k<x;++k){var S=b!==e[k],I=i[y+k]+ +S,M=i[y+k+1]+1,D=i[v+k]+1,C=i[v+k+1]=Math.min(I,M,D);C<w&&(w=C)}if(w>r)continue t}U(t.get(p),e,r,n,i,m,s,o+p)}}}catch(t){l={error:t}}finally{try{u&&!u.done&&(c=d.return)&&c.call(d)}finally{if(l)throw l.error}}},q=function(){function t(t,e){void 0===t&&(t=new Map),void 0===e&&(e=""),this._size=void 0,this._tree=t,this._prefix=e}return t.prototype.atPrefix=function(e){var r,n;if(!e.startsWith(this._prefix))throw new Error("Mismatched prefix");var i=j(Z(this._tree,e.slice(this._prefix.length)),2),a=i[0],s=i[1];if(void 0===a){var o=j(K(s),2),l=o[0],c=o[1];try{for(var h=F(l.keys()),d=h.next();!d.done;d=h.next()){var u=d.value;if(u!==H&&u.startsWith(c)){var p=new Map;return p.set(u.slice(c.length),l.get(u)),new t(p,e)}}}catch(t){r={error:t}}finally{try{d&&!d.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}}return new t(a,e)},t.prototype.clear=function(){this._size=void 0,this._tree.clear()},t.prototype.delete=function(t){return this._size=void 0,Y(this._tree,t)},t.prototype.entries=function(){return new V(this,"ENTRIES")},t.prototype.forEach=function(t){var e,r;try{for(var n=F(this),i=n.next();!i.done;i=n.next()){var a=j(i.value,2);t(a[0],a[1],this)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.fuzzyGet=function(t,e){return function(t,e,r){var n=new Map;if(void 0===e)return n;for(var i=e.length+1,a=i+r,s=new Uint8Array(a*i).fill(r+1),o=0;o<i;++o)s[o]=o;for(var l=1;l<a;++l)s[l*i]=l;return U(t,e,r,n,s,1,i,""),n}(this._tree,t,e)},t.prototype.get=function(t){var e=X(this._tree,t);return void 0!==e?e.get(H):void 0},t.prototype.has=function(t){var e=X(this._tree,t);return void 0!==e&&e.has(H)},t.prototype.keys=function(){return new V(this,N)},t.prototype.set=function(t,e){if("string"!=typeof t)throw new Error("key must be a string");return this._size=void 0,G(this._tree,t).set(H,e),this},Object.defineProperty(t.prototype,"size",{get:function(){if(this._size)return this._size;this._size=0;for(var t=this.entries();!t.next().done;)this._size+=1;return this._size},enumerable:!1,configurable:!0}),t.prototype.update=function(t,e){if("string"!=typeof t)throw new Error("key must be a string");this._size=void 0;var r=G(this._tree,t);return r.set(H,e(r.get(H))),this},t.prototype.fetch=function(t,e){if("string"!=typeof t)throw new Error("key must be a string");this._size=void 0;var r=G(this._tree,t),n=r.get(H);return void 0===n&&r.set(H,n=e()),n},t.prototype.values=function(){return new V(this,B)},t.prototype[Symbol.iterator]=function(){return this.entries()},t.from=function(e){var r,n,i=new t;try{for(var a=F(e),s=a.next();!s.done;s=a.next()){var o=j(s.value,2),l=o[0],c=o[1];i.set(l,c)}}catch(t){r={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.fromObject=function(e){return t.from(Object.entries(e))},t}(),Z=function(t,e,r){var n,i;if(void 0===r&&(r=[]),0===e.length||null==t)return[t,r];try{for(var a=F(t.keys()),s=a.next();!s.done;s=a.next()){var o=s.value;if(o!==H&&e.startsWith(o))return r.push([t,o]),Z(t.get(o),e.slice(o.length),r)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return r.push([t,e]),Z(void 0,"",r)},X=function(t,e){var r,n;if(0===e.length||null==t)return t;try{for(var i=F(t.keys()),a=i.next();!a.done;a=i.next()){var s=a.value;if(s!==H&&e.startsWith(s))return X(t.get(s),e.slice(s.length))}}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},G=function(t,e){var r,n,i=e.length;t:for(var a=0;t&&a<i;){try{for(var s=(r=void 0,F(t.keys())),o=s.next();!o.done;o=s.next()){var l=o.value;if(l!==H&&e[a]===l[0]){for(var c=Math.min(i-a,l.length),h=1;h<c&&e[a+h]===l[h];)++h;var d=t.get(l);if(h===l.length)t=d;else{var u=new Map;u.set(l.slice(h),d),t.set(e.slice(a,a+h),u),t.delete(l),t=u}a+=h;continue t}}}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}var p=new Map;return t.set(e.slice(a),p),p}return t},Y=function(t,e){var r=j(Z(t,e),2),n=r[0],i=r[1];if(void 0!==n)if(n.delete(H),0===n.size)Q(i);else if(1===n.size){var a=j(n.entries().next().value,2),s=a[0],o=a[1];J(i,s,o)}},Q=function(t){if(0!==t.length){var e=j(K(t),2),r=e[0],n=e[1];if(r.delete(n),0===r.size)Q(t.slice(0,-1));else if(1===r.size){var i=j(r.entries().next().value,2),a=i[0],s=i[1];a!==H&&J(t.slice(0,-1),a,s)}}},J=function(t,e,r){if(0!==t.length){var n=j(K(t),2),i=n[0],a=n[1];i.set(a+e,r),i.delete(a)}},K=function(t){return t[t.length-1]},tt="or",et=function(){function t(t){if(null==(null==t?void 0:t.fields))throw new Error('MiniSearch: option "fields" must be provided');this._options=L(L(L({},st),t),{searchOptions:L(L({},ot),t.searchOptions||{}),autoSuggestOptions:L(L({},lt),t.autoSuggestOptions||{})}),this._index=new q,this._documentCount=0,this._documentIds=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this.addFields(this._options.fields)}return t.prototype.add=function(t){var e,r,n,i,a=this._options,s=a.extractField,o=a.tokenize,l=a.processTerm,c=a.fields,h=a.idField,d=s(t,h);if(null==d)throw new Error('MiniSearch: document does not have ID field "'.concat(h,'"'));var u=this.addDocumentId(d);this.saveStoredFields(u,t);try{for(var p=F(c),f=p.next();!f.done;f=p.next()){var m=f.value,g=s(t,m);if(null!=g){var b=o(g.toString(),m),v=this._fieldIds[m],y=new Set(b).size;this.addFieldLength(u,v,this._documentCount-1,y);try{for(var w=(n=void 0,F(b)),_=w.next();!_.done;_=w.next()){var x=l(_.value,m);x&&this.addTerm(v,u,x)}}catch(t){n={error:t}}finally{try{_&&!_.done&&(i=w.return)&&i.call(w)}finally{if(n)throw n.error}}}}}catch(t){e={error:t}}finally{try{f&&!f.done&&(r=p.return)&&r.call(p)}finally{if(e)throw e.error}}},t.prototype.addAll=function(t){var e,r;try{for(var n=F(t),i=n.next();!i.done;i=n.next()){var a=i.value;this.add(a)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.addAllAsync=function(t,e){var r=this;void 0===e&&(e={});var n=e.chunkSize,i=void 0===n?10:n,a={chunk:[],promise:Promise.resolve()},s=t.reduce((function(t,e,n){var a=t.chunk,s=t.promise;return a.push(e),(n+1)%i==0?{chunk:[],promise:s.then((function(){return new Promise((function(t){return setTimeout(t,0)}))})).then((function(){return r.addAll(a)}))}:{chunk:a,promise:s}}),a),o=s.chunk;return s.promise.then((function(){return r.addAll(o)}))},t.prototype.remove=function(t){var e,r,n,i,a,s,o=this._options,l=o.tokenize,c=o.processTerm,h=o.extractField,d=o.fields,u=o.idField,p=h(t,u);if(null==p)throw new Error('MiniSearch: document does not have ID field "'.concat(u,'"'));try{for(var f=F(this._documentIds),m=f.next();!m.done;m=f.next()){var g=j(m.value,2),b=g[0];if(p===g[1]){try{for(var v=(n=void 0,F(d)),y=v.next();!y.done;y=v.next()){var w=y.value,_=h(t,w);if(null!=_){var x=l(_.toString(),w),k=this._fieldIds[w],S=new Set(x).size;this.removeFieldLength(b,k,this._documentCount,S);try{for(var I=(a=void 0,F(x)),M=I.next();!M.done;M=I.next()){var D=c(M.value,w);D&&this.removeTerm(k,b,D)}}catch(t){a={error:t}}finally{try{M&&!M.done&&(s=I.return)&&s.call(I)}finally{if(a)throw a.error}}}}}catch(t){n={error:t}}finally{try{y&&!y.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}return this._storedFields.delete(b),this._documentIds.delete(b),this._fieldLength.delete(b),void(this._documentCount-=1)}}}catch(t){e={error:t}}finally{try{m&&!m.done&&(r=f.return)&&r.call(f)}finally{if(e)throw e.error}}throw new Error("MiniSearch: cannot remove document with ID ".concat(p,": it is not in the index"))},t.prototype.removeAll=function(t){var e,r;if(t)try{for(var n=F(t),i=n.next();!i.done;i=n.next()){var a=i.value;this.remove(a)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new q,this._documentCount=0,this._documentIds=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}},t.prototype.search=function(t,e){var r,n;void 0===e&&(e={});var i=this.executeQuery(t,e),a=[];try{for(var s=F(i),o=s.next();!o.done;o=s.next()){var l=j(o.value,2),c=l[0],h=l[1],d=h.score,u=h.terms,p=h.match,f=u.length,m={id:this._documentIds.get(c),score:d*f,terms:Object.keys(p),match:p};Object.assign(m,this._storedFields.get(c)),(null==e.filter||e.filter(m))&&a.push(m)}}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a.sort(dt),a},t.prototype.autoSuggest=function(t,e){var r,n,i,a;void 0===e&&(e={}),e=L(L({},this._options.autoSuggestOptions),e);var s=new Map;try{for(var o=F(this.search(t,e)),l=o.next();!l.done;l=o.next()){var c=l.value,h=c.score,d=(v=c.terms).join(" ");null!=(g=s.get(d))?(g.score+=h,g.count+=1):s.set(d,{score:h,terms:v,count:1})}}catch(t){r={error:t}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}var u=[];try{for(var p=F(s),f=p.next();!f.done;f=p.next()){var m=j(f.value,2),g=m[0],b=m[1],v=(h=b.score,b.terms),y=b.count;u.push({suggestion:g,terms:v,score:h/y})}}catch(t){i={error:t}}finally{try{f&&!f.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}return u.sort(dt),u},Object.defineProperty(t.prototype,"documentCount",{get:function(){return this._documentCount},enumerable:!1,configurable:!0}),t.loadJSON=function(e,r){if(null==r)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return t.loadJS(JSON.parse(e),r)},t.getDefault=function(t){if(st.hasOwnProperty(t))return rt(st,t);throw new Error('MiniSearch: unknown option "'.concat(t,'"'))},t.loadJS=function(e,r){var n,i,a,s,o=e.index,l=e.documentCount,c=e.nextId,h=e.documentIds,d=e.fieldIds,u=e.fieldLength,p=e.averageFieldLength,f=e.storedFields,m=e.serializationVersion;if(1!==m&&2!==m)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");var g=new t(r);g._documentCount=l,g._nextId=c,g._documentIds=pt(h),g._fieldIds=d,g._fieldLength=pt(u),g._avgFieldLength=p,g._storedFields=pt(f),g._index=new q;try{for(var b=F(o),v=b.next();!v.done;v=b.next()){var y=j(v.value,2),w=y[0],_=y[1],x=new Map;try{for(var k=(a=void 0,F(Object.keys(_))),S=k.next();!S.done;S=k.next()){var I=S.value,M=_[I];1===m&&(M=M.ds),x.set(parseInt(I,10),pt(M))}}catch(t){a={error:t}}finally{try{S&&!S.done&&(s=k.return)&&s.call(k)}finally{if(a)throw a.error}}g._index.set(w,x)}}catch(t){n={error:t}}finally{try{v&&!v.done&&(i=b.return)&&i.call(b)}finally{if(n)throw n.error}}return g},t.prototype.executeQuery=function(t,e){var r=this;if(void 0===e&&(e={}),"string"!=typeof t){var n=L(L(L({},e),t),{queries:void 0}),i=t.queries.map((function(t){return r.executeQuery(t,n)}));return this.combineResults(i,t.combineWith)}var a=this._options,s=a.tokenize,o=a.processTerm,l=a.searchOptions,c=L(L({tokenize:s,processTerm:o},l),e),h=c.tokenize,d=c.processTerm,u=h(t).map((function(t){return d(t)})).filter((function(t){return!!t})).map(at(c)).map((function(t){return r.executeQuerySpec(t,c)}));return this.combineResults(u,c.combineWith)},t.prototype.executeQuerySpec=function(t,e){var r,n,i,a,s,o,l=L(L({},this._options.searchOptions),e),c=(l.fields||this._options.fields).reduce((function(t,e){var r;return L(L({},t),((r={})[e]=rt(t,e)||1,r))}),l.boost||{}),h=l.boostDocument,d=l.weights,u=l.maxFuzzy,p=L(L({},ot.weights),d),f=p.fuzzy,m=p.prefix,g=this._index.get(t.term),b=this.termResults(t.term,t.term,1,g,c,h);if(t.prefix&&(s=this._index.atPrefix(t.term)),t.fuzzy){var v=!0===t.fuzzy?.2:t.fuzzy,y=v<1?Math.min(u,Math.round(t.term.length*v)):v;y&&(o=this._index.fuzzyGet(t.term,y))}if(s)try{for(var w=F(s),_=w.next();!_.done;_=w.next()){var x=j(_.value,2),k=x[0],S=x[1];if(C=k.length-t.term.length){null==o||o.delete(k);var I=m*k.length/(k.length+.3*C);this.termResults(t.term,k,I,S,c,h,b)}}}catch(t){r={error:t}}finally{try{_&&!_.done&&(n=w.return)&&n.call(w)}finally{if(r)throw r.error}}if(o)try{for(var M=F(o.keys()),D=M.next();!D.done;D=M.next()){k=D.value;var C,A=j(o.get(k),2),P=A[0];if(C=A[1]){I=f*k.length/(k.length+C);this.termResults(t.term,k,I,P,c,h,b)}}}catch(t){i={error:t}}finally{try{D&&!D.done&&(a=M.return)&&a.call(M)}finally{if(i)throw i.error}}return b},t.prototype.combineResults=function(t,e){if(void 0===e&&(e=tt),0===t.length)return new Map;var r=e.toLowerCase();return t.reduce(nt[r])||new Map},t.prototype.toJSON=function(){var t,e,r,n,i=[];try{for(var a=F(this._index),s=a.next();!s.done;s=a.next()){var o=j(s.value,2),l=o[0],c=o[1],h={};try{for(var d=(r=void 0,F(c)),u=d.next();!u.done;u=d.next()){var p=j(u.value,2),f=p[0],m=p[1];h[f]=Object.fromEntries(m)}}catch(t){r={error:t}}finally{try{u&&!u.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}i.push([l,h])}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),index:i,serializationVersion:2}},t.prototype.termResults=function(t,e,r,n,i,a,s){var o,l,c,h,d;if(void 0===s&&(s=new Map),null==n)return s;try{for(var u=F(Object.keys(i)),p=u.next();!p.done;p=u.next()){var f=p.value,m=i[f],g=this._fieldIds[f],b=n.get(g);if(null!=b){var v=b.size,y=this._avgFieldLength[g];try{for(var w=(c=void 0,F(b.keys())),_=w.next();!_.done;_=w.next()){var x=_.value,k=a?a(this._documentIds.get(x),e):1;if(k){var S=b.get(x),I=this._fieldLength.get(x)[g],M=r*m*k*it(S,v,this._documentCount,I,y),D=s.get(x);if(D){D.score+=M,ct(D.terms,t);var C=rt(D.match,e);C?C.push(f):D.match[e]=[f]}else s.set(x,{score:M,terms:[t],match:(d={},d[e]=[f],d)})}}}catch(t){c={error:t}}finally{try{_&&!_.done&&(h=w.return)&&h.call(w)}finally{if(c)throw c.error}}}}}catch(t){o={error:t}}finally{try{p&&!p.done&&(l=u.return)&&l.call(u)}finally{if(o)throw o.error}}return s},t.prototype.addTerm=function(t,e,r){var n=this._index.fetch(r,ut),i=n.get(t);if(null==i)(i=new Map).set(e,1),n.set(t,i);else{var a=i.get(e);i.set(e,(a||0)+1)}},t.prototype.removeTerm=function(t,e,r){if(this._index.has(r)){var n=this._index.fetch(r,ut),i=n.get(t);null==i||null==i.get(e)?this.warnDocumentChanged(e,t,r):i.get(e)<=1?i.size<=1?n.delete(t):i.delete(e):i.set(e,i.get(e)-1),0===this._index.get(r).size&&this._index.delete(r)}else this.warnDocumentChanged(e,t,r)},t.prototype.warnDocumentChanged=function(t,e,r){var n,i;if(null!=console&&null!=console.warn)try{for(var a=F(Object.keys(this._fieldIds)),s=a.next();!s.done;s=a.next()){var o=s.value;if(this._fieldIds[o]===e)return void console.warn("MiniSearch: document with ID ".concat(this._documentIds.get(t),' has changed before removal: term "').concat(r,'" was not present in field "').concat(o,'". Removing a document after it has changed can corrupt the index!'))}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},t.prototype.addDocumentId=function(t){var e=this._nextId;return this._documentIds.set(e,t),this._documentCount+=1,this._nextId+=1,e},t.prototype.addFields=function(t){for(var e=0;e<t.length;e++)this._fieldIds[t[e]]=e},t.prototype.addFieldLength=function(t,e,r,n){var i=this._fieldLength.get(t);null==i&&this._fieldLength.set(t,i=[]),i[e]=n;var a=(this._avgFieldLength[e]||0)*r+n;this._avgFieldLength[e]=a/(r+1)},t.prototype.removeFieldLength=function(t,e,r,n){var i=this._avgFieldLength[e]*r-n;this._avgFieldLength[e]=i/(r-1)},t.prototype.saveStoredFields=function(t,e){var r,n,i=this._options,a=i.storeFields,s=i.extractField;if(null!=a&&0!==a.length){var o=this._storedFields.get(t);null==o&&this._storedFields.set(t,o={});try{for(var l=F(a),c=l.next();!c.done;c=l.next()){var h=c.value,d=s(e,h);void 0!==d&&(o[h]=d)}}catch(t){r={error:t}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}}},t}(),rt=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},nt=((z={}).or=function(t,e){var r,n;try{for(var i=F(e.keys()),a=i.next();!a.done;a=i.next()){var s=a.value,o=t.get(s);if(null==o)t.set(s,e.get(s));else{var l=e.get(s),c=l.score,h=l.terms,d=l.match;o.score=o.score+c,o.match=Object.assign(o.match,d),ht(o.terms,h)}}}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return t},z.and=function(t,e){var r,n,i=new Map;try{for(var a=F(e.keys()),s=a.next();!s.done;s=a.next()){var o=s.value,l=t.get(o);if(null!=l){var c=e.get(o),h=c.score,d=c.terms,u=c.match;ht(l.terms,d),i.set(o,{score:l.score+h,terms:l.terms,match:Object.assign(l.match,u)})}}}catch(t){r={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},z.and_not=function(t,e){var r,n;try{for(var i=F(e.keys()),a=i.next();!a.done;a=i.next()){var s=a.value;t.delete(s)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return t},z),it=function(t,e,r,n,i){return Math.log(1+(r-e+.5)/(e+.5))*(.5+2.2*t/(t+1.2*(1-.7+.7*n/i)))},at=function(t){return function(e,r,n){return{term:e,fuzzy:"function"==typeof t.fuzzy?t.fuzzy(e,r,n):t.fuzzy||!1,prefix:"function"==typeof t.prefix?t.prefix(e,r,n):!0===t.prefix}}},st={idField:"id",extractField:function(t,e){return t[e]},tokenize:function(t,e){return t.split(ft)},processTerm:function(t,e){return t.toLowerCase()},fields:void 0,searchOptions:void 0,storeFields:[]},ot={combineWith:tt,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375}},lt={combineWith:"and",prefix:function(t,e,r){return e===r.length-1}},ct=function(t,e){t.includes(e)||t.push(e)},ht=function(t,e){var r,n;try{for(var i=F(e),a=i.next();!a.done;a=i.next()){var s=a.value;t.includes(s)||t.push(s)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},dt=function(t,e){var r=t.score;return e.score-r},ut=function(){return new Map},pt=function(t){var e,r,n=new Map;try{for(var i=F(Object.keys(t)),a=i.next();!a.done;a=i.next()){var s=a.value;n.set(parseInt(s,10),t[s])}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n},ft=/[\n\r -#%-*,-/:;?@[-\]_{}\u00A0\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]+/u;r(9424);class mt extends l.w{async init(){if(this?._init)return;this._init=!0,this.pageSize=parseInt(u.X.pageSize??100);const t=new vt({categoryName:"Favorites"}),e=new yt({categoryName:"Search"});this.categories=[t,e];const r=m.B.getSecionSetting("inventory"),n=m.B.getSecionSetting("bundle");if(n){const t=new Set(n.split("~").filter((t=>a.db.manifestHasID(t))));if(t.size){const e=new bt({categoryName:"Collection",itemIDs:t,revealSpoilers:!0});this.categories.push(e),r&&"Collection"!==r||(e.init(),this.state.inventoryCategory=e)}}const s=new Set(["ChallengeReroll","XPBoost","XPGrant","None","AiTheme","AiCore"]);for(const t of a.db.index.types){if(s.has(t))continue;const e=new bt({categoryName:t});this.categories.push(e),r&&r===t&&(e.init(),this.state.inventoryCategory=e)}this.state.inventoryCategory||"Search"===r?"Search"===r&&(e.init(),this.state.inventoryCategory=e):(t.init(),this.state.inventoryCategory=t),this.mobileMicaMenu=new _.W("MobileMicaMenu-Inventory","Categories"),i.u.on("MobileMicaMenu-Inventory",(()=>{this.setState({mobileMenu:!this.state.mobileMenu}),this.state.mobileMenu&&history.pushState({},"Halosets","")})),i.u.on("popstate",(()=>{this.state.mobileMenu&&this.setState({mobileMenu:!1})})),i.u.on("nav-search",(()=>{this.showCategory(e),e.focus()})),i.u.on("favoriteItems",(e=>{t.init(),this.state?.inventoryCategory===t&&t.render()}))}get defaultState(){return{mobileMenu:!1}}get userSort(){return u.X.getSetting("userSort")??"alphanumeric"}get userSortOrder(){return u.X.getSetting("userSortOrder")??!1}get sortOptions(){return this._sortOptions??=new Map([["unsorted","Default"],["alphanumeric","Alphanumeric"],["popularity","Popularity"],["popularityDelta","Popularity Delta"],["dateAdded","Date Added"],["dateModified","Date Modified"],["dateVisible","Date Visible"]])}async render(){return this.init(),this.html`<div class="inventory_wrapper mica_viewer" id="inventory">
			<header class="inventory mica_header-strip">
				<a class="mica_header-anchor" href="#inventory"><h2>Inventory</h2></a>
				<ul class="sort-controls_wrapper">
					<li class="option">
						<label for="inv-sort">Sort</label>
						<select
							onchange=${t=>this.setSort(t.target.value)}
						>
							${()=>[...this.sortOptions.entries()].map((([t,e])=>`${this.userSort}`==`${t}`?`<option value=${t} selected>${e}</option>`:`<option value=${t}>${e}</option>`))}
						</select>
					</li>
				</ul>
			</header>
			<div class="inventory_content mica_main-content">
				<ul class=${"inventory-catergories mica_nav-list "+(this.state.mobileMenu?"show-mobile":"hide-mobile")}>
					${this.categories.map((t=>n.k9.wire(t)`<li><button
						onclick=${()=>this.showCategory(t)}
						class=${this.state?.inventoryCategory===t?"active":null}
					><span>${a.db.getItemType(t.categoryName)??"..."}</span></button></li>`))}
				</ul>
				${this.state?.inventoryCategory?.render()??""}
				${{html:this.state?.inventoryCategory?"":'<div class="inv-category-placeholder">CHOOSE A CATEGORY</div>'}}
				<div class=${"mica_mobile-menu_container "+(this.state.mobileMenu?"show-mobile":"hide-mobile")}>${this?.mobileMicaMenu.render()}</div>
			</div>
		</div>`}setSort(t){u.X.setSort(t),console.log("[Inventory.setSort]",u.X.getSetting("userSort")),i.u.emit("Inventory.setSort")}toggleSortOrder(){const t=u.X.getSetting("userSortOrder")??!1;u.X.setSortOrder(!t),console.log("[Inventory.toggleSortOrder]",u.X.getSetting("userSortOrder")),this.render()}showCategory(t){this.state.mobileMenu=!1,this.state?.inventoryCategory!==t?(t.init(),this.setState({inventoryCategory:t}),m.B.setSecionSetting("inventory",t?.categoryName??"unk"),this.scrollIntoView()):this.scrollIntoView()}scrollIntoView(){const t=document.querySelector("#inventory");t&&(t.scrollIntoView(),history.replaceState({},"Cylix","#inventory"))}}const gt=new mt;class bt extends l.w{constructor({categoryName:t,itemIDs:e,revealSpoilers:r}){super(),this.categoryName=t,this.items=[],r&&(this.revealSpoilers=!0),e&&e.size?(console.log("TEST Bundle",e),this.itemIDs=new Set(e)):this.itemIDs=new Set,i.u.on("Inventory.setSort",(()=>this.sortItemIDs()))}get defaultState(){return{page:0}}set itemIDs(t){const e=new Set([...t]);if(!e||!e.size)return this._itemIDs=e;this._unsortedItemIDs=e;const r=u.X.getSetting("userSort")??"default";let n=this._unsortedItemIDs;switch(r){case"unsorted":return console.log("Sort: unsorted"),this._itemIDs=e;case"dateAdded":console.log("Sort: dateAdded"),n=new Set([...e].sort(((t,e)=>{const r=a.db.getItemManifestByID(t),n=a.db.getItemManifestByID(e);return new Date(n?.added??"2021-11-10")-new Date(r?.added??"2021-11-10")})));break;case"dateModified":console.log("Sort: dateModified"),n=new Set([...e].sort(((t,e)=>{const r=a.db.getItemManifestByID(t),n=a.db.getItemManifestByID(e);return new Date(n.touched)-new Date(r.touched)})));break;case"dateVisible":console.log("Sort: dateVisible"),n=new Set([...e].sort(((t,e)=>{const r=a.db.getItemManifestByID(t),n=a.db.getItemManifestByID(e);return new Date(n?.visible??new Date("2021-11-10"))-new Date(r?.visible??new Date("2021-11-10"))})));break;case"popularity":console.log("Sort: popularity"),n=new Set([...e].sort(((t,e)=>{const r=a.db.getItemManifestByID(t),n=a.db.getItemManifestByID(e),i=parseFloat(r?.community?.stats?.cur??0);return parseFloat(n?.community?.stats?.cur??0)-i})));break;case"popularityDelta":console.log("Sort: popularityDelta"),n=new Set([...e].sort(((t,e)=>{const r=a.db.getItemManifestByID(t),n=a.db.getItemManifestByID(e),i=Math.abs(parseFloat(r?.community?.stats?.delta??0));return Math.abs(parseFloat(n?.community?.stats?.delta??0))-i})));break;case"alphanumeric":console.log("Sort: alphanumeric");default:console.warn("Sort: default"),n=new Set([...e].sort(((t,e)=>{const r=a.db.getItemManifestByID(t),n=a.db.getItemManifestByID(e);return r.title.localeCompare(n.title,"en",{ignorePunctuation:!0})})))}return console.warn("sorted!",n),this._itemIDs=n}get itemIDs(){return this._itemIDs??=new Set}sortItemIDs(){this.items.length&&(this.items=[],this.itemIDs=this.itemIDs,this.init(),this.render())}init(){this.items.length||(this.itemIDs.size||(this.itemIDs=a.db.getItemIDsByType(this.categoryName)),this.itemIDs.size&&this.getCurrentItemPage())}getCurrentItemPage(){return this.items=[...this.currentPageIDs].map((t=>new w.c({id:t})))}nextPage(){this.pageNumber!==this.pages-1&&(this.state.page=this.pageNumber+1,this.getCurrentItemPage(),this.render(),gt.scrollIntoView())}previousPage(){0!==this.pageNumber&&(this.state.page=this.pageNumber-1,this.getCurrentItemPage(),this.render(),gt.scrollIntoView())}get pageLength(){return gt?.pageSize??100}get pages(){return Math.ceil(this.itemIDs.size/this.pageLength)}get pageNumber(){return this.state?.page??0}get currentPageIDs(){return new Set([...this.itemIDs].slice(this.pageNumber*this.pageLength,this.pageNumber*this.pageLength+this.pageLength))}renderPageControls(t=upper){return this.pages<2?"":n.k9.wire(this,`:${t}`)`
			<div class="page-controls_wrapper">
				<button
					onclick=${()=>this.previousPage()}
					disabled=${0===this.pageNumber}
				><div class=${"icon-masked icon-arrow-left"}></div>Prev</button>
				<span>${this.pageNumber+1} of ${this.pages}</span>
				<button
					onclick=${()=>this.nextPage()}
					disabled=${this.pageNumber+1===this.pages}
				>Next<div class=${"icon-masked icon-arrow-right"}></div></button>
			</div>
		`}render(){return this.revealSpoilers&&this.items.length&&this.items.forEach((t=>t.unredact())),this.html`
			<div
				class ="inventory-category_wrapper mica_content"
			>
				<header class="h-favorites">
					<div>${a.db.getItemType(this.categoryName)?.replace("Atch.","Attachments")??""} // ${this?.itemIDs.size}</div>
				</header>
				${this.renderPageControls("upper")}
				<ul
					class="inventory-category_items"
				>
					${this.items.map((t=>n.k9.wire()`<li>
						${{any:t.renderIcon("inventory",{itemTypeIcon:!0}),placeholder:w.R.cloneNode(!0)}}
					</li>`))}
					${"Favorites"!==this.categoryName||this.items.length?"":n.k9.wire(this,":favPlaceholder")`
						<div class="favorites-placeholder">Tap the <span
							class=${"favorite"}
							style=${{backgroundImage:"url(/items.svg#unfavored)"}}
						></span> in item detail panels to collect favorites into this section.</div>
					`}
				</ul>
				${this.renderPageControls("lower")}
			</div>
		`}}class vt extends bt{init(){this.itemIDs=a.db.getItemIDsByType(this.categoryName),this.items=[...this.itemIDs].map((t=>new w.c({id:t})))}renderFavoritesManager(){return console.log("reb"),n.k9.wire(this,":favoritesManager")`
			<div class="favorites-man_wrapper">
				<span>Click the star icon in item detail panels to add favorites!</span>
				<span>Copy and paste the following text box to send your list to someone.</span>
				<textarea id="story" name="fav-export" rows="5" cols="33" readonly>${JSON.stringify([...a.db.favoriteItemPaths],null,"\t")}</textarea>
				<span>---TODO collapsing import---</span>
				<span>Paste a favorites list in the following box.</span>
				<textarea id="story" name="fav-import" rows="5" cols="33"
					oninput=${t=>this.validateImport(t.target.value)}
				></textarea>
				<button
					onclick=${()=>this.replaceFavorites()}
				>Replace</button>
				<button
					onclick=${()=>this.appendFavorites()}
				>Append</button>${this.state?.awaitingImport}
			</div>
		`}validateImport(t){try{console.log("v",t);const e=JSON.parse(t);if(e&&e.length){const t=new Set(e);this.state.awaitingImport=t,console.log("arr",this.state.awaitingImport),this.renderFavoritesManager()}}catch(t){console.error("[skimmer] validateImport",t)}}replaceFavorites(){console.log("rep",this.state?.awaitingImport)}appendFavorites(){console.log("app",this.state?.awaitingImport)}sortItemIDs(){this.items.length&&(this.init(),this.render())}}class yt extends bt{init(){const t=m.B.getSecionSetting("s");!this.state.term&&t&&"string"==typeof t&&(this.state.term=t);const e=m.B.getSecionSetting("sma");e&&"string"==typeof e&&Date.parse(`${e}T00:00:00Z`)&&(console.log("sdm",e),this.state.filters.set("sma",new Date(`${e}T17:00:00Z`)));const r=m.B.getSecionSetting("smb");r&&"string"==typeof r&&Date.parse(`${r}T00:00:00Z`)&&(console.log("smb",r),this.state.filters.set("smb",new Date(`${r}T17:00:00Z`)));const n=m.B.getSecionSetting("saa");n&&"string"==typeof n&&Date.parse(`${n}T00:00:00Z`)&&(console.log("saa",n),this.state.filters.set("saa",new Date(`${n}T17:00:00Z`)));const i=m.B.getSecionSetting("sab");i&&"string"==typeof i&&Date.parse(`${i}T00:00:00Z`)&&(console.log("sab",i),this.state.filters.set("sab",new Date(`${i}T17:00:00Z`)));const s=m.B.getSecionSetting("types");s&&"string"==typeof s&&(console.log("types",s),this.state.filters.set("types",s));const o=m.B.getSecionSetting("sct");o&&"string"==typeof o&&(console.log("tags",o),this.state.filters.set("sct",o));const l=m.B.getSecionSetting("smf");!1!==l&&(console.log("manufacturer urlParams",l),this.state.filters.set("smf",l));const c=m.B.getSecionSetting("spmin");!1!==c&&(console.log("popularityMin urlParams",c),this.state.filters.set("spmin",parseFloat(c)));const h=m.B.getSecionSetting("spmax");!1!==h&&(console.log("popularityMax urlParams",h),this.state.filters.set("spmax",parseFloat(h)));const d=m.B.getSecionSetting("siq");!1!==d&&a.db.qualities.has(d)&&(console.log("itemQuality urlParams",d),this.state.filters.set("siq",d));const u=m.B.getSecionSetting("ssn");!1!==u&&(console.log("seasonNumber urlParams",u),this.state.filters.set("ssn",parseInt(u)));const p=m.B.getSecionSetting("svis");p&&(console.log("visibility urlParams",p),this.state.filters.set("svis",parseInt(p)));const f=m.B.getSecionSetting("scross");f&&(console.log("crosscore urlParams",f),"true"===f&&this.state.filters.set("scross",!0),"false"===f&&this.state.filters.set("scross",!1)),this.state.term||this.state.filters.size?this.searchItems():this.loadSearchIndex()}get defaultState(){return{term:"",filters:new Map,showFilters:!1}}render(){return this.html`
			<div
				class ="inventory-category_wrapper mica_content"
			>
				<header class="h-favorites">
					<div>Search // ${this?.itemIDs?.size??0}</div>
				</header>
				<div class="inventory-search_wrapper">
					<div class="inventory-search-bar_wrapper">
						<input
							aria-label="Search Input"
							type="search"
							class="inventory-search_input"
							id="inventory-search"
							name="inventory-search"
							placeholder="Search..."
							maxlength="64"
							oninput=${t=>this.input(t?.target?.value??"")}
							onkeydown=${async t=>{"Enter"===t?.key&&await this.submit()}}
							value=${this.state.term}
						>
						<button
							class="inventory-search_submit"
							onclick=${async()=>await this.submit()}
							aria-label="Submit Search"
						><label for="inventory-search" class="icon-masked icon-search"></label></button>
						${this.renderSuggestions()}
					</div>
					<div class="inventory-search-filter_wrapper">
						<button
							class="inventory-search_toggle-filters"
							id="inventory-search_toggle-filters"
							onclick=${()=>this.setState({showFilters:!this.state.showFilters})}
							aria-label="Toggle Search Filter Menu"
							disabled=${this.state.filters.size}
						><div class="icon-masked icon-filter"></div></button>
						${this.renderFilters()}
					</div>
				</div>
				<div class="inventory-search_info">
					${{html:!this.state.term||this?.itemIDs?.size||this.state.loading?"":'<div class="icon-masked icon-alert"></div> No results'}}
				</div>
				${this.renderThrobber()}
				${this.renderPageControls("upper")}
				<ul
					class="inventory-category_items"
				>
					${[...this.items].map((t=>n.k9.wire()`<li>${{any:t.renderIcon("inventory",{itemTypeIcon:!0}),placeholder:w.R.cloneNode(!0)}}</li>`))}
				</ul>
				${this.renderPageControls("lower")}
			</div>
		`}renderFilters(){const t=this.state.filters;return this.state.showFilters||this.state.filters.size?n.k9.wire(this,":filters")`
			<ul class="inventory-search-filters">
				<li>
					<button
						onclick=${()=>{this.state.filters.forEach(((t,e)=>m.B.deleteSecionSetting(e))),this.state.filters.clear(),this.renderFilters()}}
					>
						Clear Filters
					</button>
				</li>
				<li class="filter-input_wrapper">
					<label for="select_season">Season</label>
					<select
						name="select_season"
						id="select_season"
						onchange=${t=>this.filterSeason(t.target.value)}
					>
						<option value="">Any</option>
						${()=>[...a.db.seasons.entries()].map((e=>{const[r,n]=e;return`${t.get("ssn")}`==`${r}`?`<option value=${r} selected>${r} - ${n}</option>`:`<option value=${r}>${r} - ${n}</option>`}))}
					</select>
				</li>
				<li class="filter-input_wrapper">
					<label for="select_visibility">Visibility</label>
					<select
						name="select_visibility"
						id="select_visibility"
						onchange=${t=>this.filterVisibility(t.target.value)}
					>
						<option value="-1">Any</option>
						<option value="0">Hidden</option>
						<option value="1">Visible</option>
						<option value="2">Seen</option>
					</select>
				</li>
				<li class="filter-input_wrapper">
					<label for="date_modified-after">Last Modified After</label>
					<input
						type="date"
						id="date_modified-after"
						onchange=${t=>this.filterModifiedDate(t.target.value)}
						value=${t.get("sma")?.toLocaleDateString?.("sv")||""}
					>
				</li>
				<li class="filter-input_wrapper">
					<label for="date_modified-before">Last Modified Before</label>
					<input
						type="date"
						id="date_modified-before"
						onchange=${t=>this.filterModifiedBeforeDate(t.target.value)}
						value=${t.get("smb")?.toLocaleDateString?.("sv")||""}
					>
				</li>
				<li class="filter-input_wrapper">
					<label for="select_types">Type</label>
					<select
						name="select_types"
						id="select_types"
						onchange=${t=>this.filterType(t.target.value)}
					>
						<option value="">Any</option>
						${()=>[...a.db.itemTypes.entries()].map((([t,e])=>`<option value=${t}>${e}</option>`))}
						${()=>[...a.db.itemTypes.entries()].map((([e,r])=>`${t.get("types")}`==`${e}`?`<option value=${e} selected>${r}</option>`:`<option value=${e}>${r}</option>`))}
					</select>
				</li>
				<li class="filter-input_wrapper">
					<label for="select_tags">Tag</label>
					<select
						name="select_tags"
						id="select_tags"
						onchange=${t=>this.filterTag(t.target.value)}
					>
						<option value="">Any</option>
						${()=>[...a.db.communityTags].map((e=>`${t.get("sct")}`==`${e}`?`<option value=${e} selected>${e}</option>`:`<option value=${e}>${e}</option>`))}
					</select>
				</li>
				<li class="filter-input_wrapper">
					<label for="select_mf">Manufacturer</label>
					<select
						name="select_mf"
						id="select_mf"
						onchange=${t=>this.filterManufacturer(t.target.value)}
					>
						<option value="">Any</option>
						${()=>[...a.db.manufacturers].map((e=>`${t.get("smf")}`==`${e[0]}`?`<option value=${e[0]} selected>${e[1]?.ManufacturerName??"???"}</option>`:`<option value=${e[0]}>${e[1]?.ManufacturerName??"???"}</option>`))}
					</select>
				</li>
				<li class="filter-input_wrapper">
					<label for="select_quality">Quality</label>
					<select
						name="select_quality"
						id="select_quality"
						onchange=${t=>this.filterQuality(t.target.value)}
					>
						<option value="">Any</option>
						${()=>[...a.db.qualities].map((e=>`${t.get("siq")}`===e?`<option value=${e} selected>${e}</option>`:`<option value=${e}>${e}</option>`))}
					</select>
				</li>
				<li class="filter-input_wrapper">
					<label for="select_cross">Cross Compat</label>
					<select
						name="select_cross"
						id="select_cross"
						onchange=${t=>this.filterCross(t.target.value)}
					>
						<option value="">Any</option>
						<option value="true">True</option>
						<option value="false">False</option>
					</select>
				</li>
				<li class="filter-input_wrapper">
					<label>Popularity</label>
					<div class="filter-popularity_wrapper">
						<label for="range_pop-min">Min</label>
						<input
							class="filter_popularity"
							id="filter_popularity-min"
							type="number"
							min="0"
							max="100"
							step="0.01"
							placeholder="0"
							value=${100*parseFloat(t.get("spmin")||0)}
							onchange=${t=>this.filterPopularityCurrentMin(t.target.value)}
						>
					</div>
					<div class="filter-popularity_wrapper">
						<label for="range_pop-max">Max</label>
						<input
							class="filter_popularity"
							id="filter_popularity-max"
							type="number"
							min="0"
							max="100"
							step="0.01"
							placeholder="100"
							value=${100*parseFloat(t.get("spmax")||1)}
							onchange=${t=>this.filterPopularityCurrentMax(t.target.value)}
						>
					</div>
				</li>
				</li>
				<li class="filter-input_wrapper">
					<label>Popularity Delta</label>
					<div class="filter-popularity_wrapper">
						<label for="range_pop-delta-min">Min</label>
						<input
							class="filter_popularity"
							id="range_pop-delta-min"
							type="number"
							min="0"
							max="100"
							step="0.01"
							placeholder="-100"
							value=${100*parseFloat(t.get("spdmin")||0)}
							onchange=${t=>this.filterPopularityDeltaMin(t.target.value)}
						>
					</div>
					<div class="filter-popularity_wrapper">
						<label for="range_pop-delta-max">Max</label>
						<input
							class="filter_popularity"
							id="range_pop-delta-max"
							type="number"
							min="0"
							max="100"
							step="0.01"
							placeholder="100"
							value=${100*parseFloat(t.get("spdmax")||1)}
							onchange=${t=>this.filterPopularityDeltaMax(t.target.value)}
						>
					</div>
				</li>
			</ul>
		`:n.k9.wire(this,":filters")`
				<label for="inventory-search_toggle-filters">Filters</label>
			`}renderThrobber(){return n.k9.wire(this,":throbber")`
			<div>${this.state.loading?n.GU.cloneNode(!0):""}</div>
		`}renderSuggestions(t=[]){return n.k9.wire(this,":suggestions")`
			<ul class="inventory-search_suggestions">
				${t.map(((t,e)=>n.k9.wire(this,`:sug-${e}`)`<li>
					<button
						onclick=${()=>{this.setState({term:t}),this.submit()}}
					>
						${t}
					</button>
				</li>`))}
			</ul>
		`}input(t){if(t&&"string"==typeof t){if(this.state.term=t.toLowerCase(),this.miniSearch&&this.state.term.length>1){const t=this.miniSearch.autoSuggest(this.state.term,{fuzzy:.2});this.renderSuggestions(t.slice(0,5).map((t=>t?.suggestion)))}return this.state.term}return this.miniSearch&&this.renderSuggestions(),this.state.term=""}async loadSearchIndex(){if(this.miniSearch)return;this.state.loading=!0,this.renderThrobber(),this.miniSearch=new et({fields:["title","availability"],storeFields:["id","type","visible","added","lastModified","season","manufacturer","quality","availability","tags","popCurrent","popDelta","popRank"]});const t=await a.db.getJSON("search.json");return t&&Array.isArray(t)&&t[0].id?(this.documents=t,console.log(`[Inventory.Search.loadSearchIndex] "${this.documents.length}" documents`),await this.miniSearch.addAllAsync(this.documents,{chunkSize:128}),console.log("[Inventory.Search.loadSearchIndex] loaded!"),this.state.loading=!1,this.renderThrobber(),this.documents):void 0}async searchItems(){this.miniSearch||await this.loadSearchIndex(),console.log("filters",this.state.filters),this.itemIDs=new Set;const t=t=>{if(!this.state.filters.size)return!0;const e=this.state.filters;if(e.has("types")&&t?.type&&e.get("types")!==t.type)return!1;if(e.has("sct")){if(!t.tags)return!1;const r=t.tags.split(", ");if(!r||!r.includes(e.get("sct")))return!1}if(e.has("sma")){const r=t?.lastModified;if(Date.parse(r)){const t=new Date(r);if(new Date(e.get("sma"))>t)return!1}}if(e.has("smb")){const r=t?.lastModified;if(Date.parse(r)){const t=new Date(r);if(new Date(e.get("smb"))<t)return!1}}if(e.has("saa")){const r=t?.added;if(Date.parse(r)){const t=new Date(r);if(new Date(e.get("saa"))>t)return!1}}if(e.has("sab")){const r=t?.added;if(Date.parse(r)){const t=new Date(r);if(new Date(e.get("sab"))<t)return!1}}if(e.has("smf")){if(void 0===t.manufacturer)return!1;if(parseInt(e.get("smf"))!==parseInt(t.manufacturer))return!1}if(e.has("spmax")){if(void 0===t.popCurrent)return!1;if(parseFloat(t.popCurrent)>parseFloat(e.get("spmax")))return!1}if(e.has("spmin")){if(void 0===t.popCurrent)return!1;if(parseFloat(t.popCurrent)<parseFloat(e.get("spmin")))return!1}if(e.has("spdmax")){if(void 0===t.popDelta)return!1;if(Math.abs(parseFloat(t.popDelta))>parseFloat(e.get("spdmax")))return!1}if(e.has("spdmin")){if(void 0===t.popDelta)return!1;if(Math.abs(parseFloat(t.popDelta))<parseFloat(e.get("spdmin")))return!1}if(e.has("siq")){if(void 0===t.quality)return!1;if(e.get("siq")!==t.quality)return!1}if(e.has("scross")){if(void 0===t?.cross)return!1;if(t.cross!==e.get("scross"))return!1}if(e.has("ssn")){if(void 0===t.season)return!1;if(parseInt(e.get("ssn"))!==parseInt(t.season))return!1}if(e.has("svis")){const r=parseInt(t?.visible??0);if(parseInt(e.get("svis"))!==r)return!1}return!0};if(this.state.term&&a.db.index.manifest.has(this.state.term)){console.log("[Inventory.Search] Getting item ID from index",this.state.term);const t=a.db.index.manifest.get(this.state.term);this.itemIDs.add(t.name)}else if(this.state.term){console.log("[Inventory.Search] Searching with MiniSearch",this.state.term);const e=this.miniSearch.search(this.state.term,{boost:{title:2},fuzzy:.2,prefix:!0,filter:e=>t(e)});console.log("miniSearch res",e),e.forEach((t=>this.itemIDs.add(t.id)))}else!this.state.term&&this.state.filters.size&&(console.log("[Inventory.Search] Searching raw documents with filters",this.state.filters.size),this.documents.forEach((e=>{t(e)&&this.itemIDs.add(e.id)})));if(console.info(`[search] Found "${this.itemIDs.size}" items`),this.itemIDs.size)return this.itemIDs=this.itemIDs,this.getCurrentItemPage(),void this.render();this.items=new Set,this.render()}async submit(){if(!(this.state.term&&"string"==typeof this.state.term||this.state.filters.size))return this.items=new Set,this.itemIDs=new Set,m.B.deleteSecionSetting("s"),void this.render();console.log("submit",this.state.term,this.state.filters),this.state.page=0,m.B.setSecionSetting("s",this.state.term),await this.searchItems(),this.render(),gt.scrollIntoView()}sortItemIDs(){this.items.length&&(this.items=[],this.itemIDs=this.itemIDs,this.getCurrentItemPage(),this.render())}filterType(t){const e="types";if(!t&&this.state.filters.has(e))return this.state.filters.delete(e),void m.B.deleteSecionSetting(e);t&&"string"==typeof t&&(console.log("filterType",t),this.state.filters.set(e,t),m.B.setSecionSetting(e,t))}filterTag(t){const e="sct";if(!t&&this.state.filters.has(e))return this.state.filters.delete(e),void m.B.deleteSecionSetting(e);t&&"string"==typeof t&&(console.log("filterTag",t),this.state.filters.set(e,t),m.B.setSecionSetting(e,t))}filterModifiedDate(t){const e="sma";if(console.log("date",t),!t||!Date.parse(t))return this.state.filters.has(e)&&this.state.filters.delete(e),void m.B.deleteSecionSetting(e);const r=new Date(`${t}T00:00:00Z`);r&&(console.log("datep",r),this.state.filters.set(e,r),m.B.setSecionSetting(e,`${t}`))}filterModifiedBeforeDate(t){if(console.log("date",t),!t||!Date.parse(t))return this.state.filters.has("modifiedBeforeDate")&&this.state.filters.delete("modifiedBeforeDate"),void m.B.deleteSecionSetting("smb");const e=new Date(`${t}T00:00:00Z`);e&&(console.log("datep",e),this.state.filters.set("modifiedBeforeDate",e),m.B.setSecionSetting("smb",`${t}`))}filterAddedDate(t){console.log("filterAddedDate",t);const e="saa";if(!t||!Date.parse(t))return this.state.filters.has(e)&&this.state.filters.delete(e),void m.B.deleteSecionSetting(e);const r=new Date(`${t}T00:00:00Z`);r&&(console.log("datep",r),this.state.filters.set(e,r),m.B.setSecionSetting(e,`${t}`))}filterAddedBeforeDate(t){console.log("filterAddedBeforeDate",t);const e="sab";if(!t||!Date.parse(t))return this.state.filters.has(e)&&this.state.filters.delete(e),void m.B.deleteSecionSetting(filterParam);const r=new Date(`${t}T00:00:00Z`);r&&(console.log("datep",r),this.state.filters.set(e,r),m.B.setSecionSetting(e,`${t}`))}filterManufacturer(t){const e="smf";if(!t&&this.state.filters.has(e))return this.state.filters.delete(e),void m.B.deleteSecionSetting(e);const r=parseInt(t);"number"==typeof r&&(console.log("filterManufacturer",r),this.state.filters.set(e,r),m.B.setSecionSetting(e,`${r}`))}filterPopularityCurrentMax(t){const e="spmax";if(!t||t>1&&this.state.filters.has(e))return this.state.filters.delete(e),void m.B.deleteSecionSetting(e);const r=parseFloat(t)/100;console.log("filterPopularityCurrentMax",r),this.state.filters.set(e,r),m.B.setSecionSetting(e,`${r}`)}filterPopularityCurrentMin(t){const e="spmin";if(!t||t<1e-4&&this.state.filters.has(e))return this.state.filters.delete(e),void m.B.deleteSecionSetting(e);const r=parseFloat(t)/100;console.log("filterPopularityCurrentMax",r),this.state.filters.set(e,r),m.B.setSecionSetting(e,`${r}`)}filterPopularityDeltaMax(t){const e="spdmax";if(void 0===t&&this.state.filters.has(e))return this.state.filters.delete(e),void m.B.deleteSecionSetting(e);const r=parseFloat(t)/100;console.log("filterPopularityDeltaMax",r),this.state.filters.set(e,r),m.B.setSecionSetting(e,`${r}`)}filterPopularityDeltaMin(t){const e="spdmin";if(void 0===t&&this.state.filters.has(e))return this.state.filters.delete(e),void m.B.deleteSecionSetting(e);const r=parseFloat(t)/100;console.log("filterPopularityDeltaMin",r),this.state.filters.set(e,r),m.B.setSecionSetting(e,`${r}`)}filterQuality(t){const e="siq";if(!t&&this.state.filters.has(e))return this.state.filters.delete(e),void m.B.deleteSecionSetting(e);a.db.qualities.has(t)&&(console.log("filterQuality",t),this.state.filters.set(e,t),m.B.setSecionSetting(e,`${t}`))}filterCross(t){const e="scross";switch(t){case"true":this.state.filters.set(e,!0),m.B.setSecionSetting(e,"true");break;case"false":this.state.filters.set(e,!1),m.B.setSecionSetting(e,"false");break;default:this.state.filters.delete(e),m.B.deleteSecionSetting(e)}}filterSeason(t){const e="ssn";if(!t&&this.state.filters.has(e))return this.state.filters.delete(e),void m.B.deleteSecionSetting(e);const r=parseInt(t);"number"==typeof r&&a.db.seasons.has(r)&&(console.log("filterSeason",r),this.state.filters.set(e,r),m.B.setSecionSetting(e,`${r}`))}filterVisibility(t){const e="svis";if((void 0===t||t<0)&&this.state.filters.has(e))return this.state.filters.delete(e),void m.B.deleteSecionSetting(e);const r=parseInt(t);console.log("filterVisibility",r),this.state.filters.set(e,r),m.B.setSecionSetting(e,`${r}`)}focus(){const t=document.querySelector("#inventory-search");t&&t.focus()}}const wt=new Set(["core","serviceTag"]);class _t extends l.w{constructor({core:t,gamertag:e="Spartan",type:r}={}){if(super(),!t)throw new Error("Invalid profileCore");if(this.gamertag=e,t.core){const e=a.db.getItemManifestByID(t.core);this.coreName=e.title,this.coreType=r??e.type}else this.coreName=r??"...";this.sockets=new Map;for(const e in t){if(wt.has(e))continue;const r=t[e];r&&a.db.manifestHasID(r)&&this.sockets.set(xt.get(e)??e,r)}this.items=[],this.itemIDs=new Set([...this.sockets.values()])}init(){this.items.length||(this.items=[...this.itemIDs].map((t=>new w.c({id:t}))))}render(){return this.html`
			<div
				class ="inventory-category_wrapper mica_content"
			>
				<header class="h-favorites">
					<div>${this.gamertag} // ${this?.coreName??"Core"} // ${this?.items.length}</div>
				</header>
				<ul
					class="inventory-category_items"
				>
					${this.items.map((t=>n.k9.wire()`<li>
						${{any:t.renderIcon("vanity",{itemTypeIcon:!0}),placeholder:w.R.cloneNode(!0)}}
					</li>`))}
				</ul>
			</div>
		`}getName(){return a.db.getItemType(this?.coreName??"...")}}const xt=new Map([["ThemePath","Kit"],["CoatingPath","Coating"],["GlovePath","Gloves"],["HelmetPath","Helmet"],["HelmetAttachmentPath","Helmet Atch."],["ChestAttachmentPath","Chest Atch."],["KneePadPath","Knee Pads"],["LeftShoulderPadPath","Shoulder, Left"],["RightShoulderPadPath","Shoulder, Right"],["ArmorFxPath","Armor FX"],["MythicFxPath","Mythic FX"],["VisorPath","Visor"],["HipAttachmentPath","Hip Atch."],["WristAttachmentPath","Wrist Atch."],["ActionPosePath","Stance"],["BackdropImagePath","Backdrop"],["DeathFxPath","Death FX"],["WeaponCharmPath","Charm"],["AlternateGeometryRegionPath","Model"],["ModelPath","AI Model"],["ColorPath","AI Color"]]);r(4639);class kt extends l.w{constructor(){super(),this.mobileMicaMenu=new _.W("MobileMicaMenu-Vanity","Categories"),i.u.on("MobileMicaMenu-Vanity",(()=>{this.setState({mobileMenu:!this.state.mobileMenu}),this.state.mobileMenu&&history.pushState({},"Halosets","")})),i.u.on("popstate",(()=>{this.state.mobileMenu&&this.setState({mobileMenu:!1})})),i.u.on("announceProfile",(({profile:t,gamertag:e})=>{this.initProfile({profile:t,gamertag:e})})),this.wrongGamertags=new Set}get defaultState(){return{mobileMenu:!1,cores:[]}}get gamertag(){return this.state?.profile?.gamertag??""}render(){return this.html`<div class="inventory_wrapper vanity_wrapper mica_viewer" id="inventory">
			<header class="mica_header-strip">
				<h2>${this.gamertag?`${this.gamertag}'s Inventory`:"Inventory"}</h2>
			</header>
			<div class="inventory_content mica_main-content">
				<ul class=${"inventory-catergories mica_nav-list "+(this.state.mobileMenu?"show-mobile":"hide-mobile")}>
					${this.state.cores.map((t=>n.k9.wire(t)`<li><button
						onclick=${()=>this.showCore(t)}
						class=${this.state?.core===t?"active":null}
					><span>${t?.getName()??"core"}</span></button></li>`))}
				</ul>
				${this.state?.core?.render?.()??""}
				${{html:this.state?.core?"":'<div class="vanity-placeholder"><span>Search for a gamertag to see their currently equipped items.</span></div>'}}
				<div class=${"mica_mobile-menu_container "+(this.state.mobileMenu?"show-mobile":"hide-mobile")}>${this?.mobileMicaMenu.render()}</div>
			</div>
			${this.state.feats?this.state.featsRender:""}
		</div>`}showCore(t){this.state.mobileMenu=!1,this.state.core!==t&&(t.init(),this.setState({core:t}))}async initProfile({profile:t}){if(!t?.gamertag||!t?.armor)throw new Error("Invalid profile!");this.state=this.defaultState,this.state.profile=t;const e=t.gamertag;try{const r=new _t({core:t.armor,gamertag:e});r&&(this.state.cores.push(r),r.init(),this.setState({core:r}))}catch(t){console.error("[Vanity.showAppearance] Armor",t)}try{const r=new _t({type:"Spartan ID",core:t.spartan,gamertag:e});r&&this.state.cores.push(r)}catch(t){console.error("[Vanity.showAppearance] spartan",t)}try{(t?.weapons??[])?.forEach((t=>{const r=new _t({core:t,gamertag:e});r&&this.state.cores.push(r)}))}catch(t){console.error("[Vanity.showAppearance] weaponCores",t)}try{(t?.vehicles??[])?.forEach((t=>{const r=new _t({core:t,gamertag:e});r&&this.state.cores.push(r)}))}catch(t){console.error("[Vanity.showAppearance] VehicleCores",t)}try{const e=new Map([["award",new Map],["memento",new Map],["capstone",new Map]]);let r=!0;this.state.cores.forEach((t=>{const n=t.itemIDs;n&&n.size&&n.forEach((t=>{const n=a.db.getItemManifestByID(t)?.community;n&&Array.isArray(n?.tags)&&n.tags.forEach((i=>{if(e.has(i)){const a=e.get(i),s=n?.availability??"???";a.has(s)?a.get(s).add(t):(a.set(s,new Set([t])),r=!0)}}))}))})),r&&(await a.db.getEmblemColorIndex(),this.state.feats=new It({feats:e,profile:t}),this.state.featsRender=this.state.feats.render())}catch(t){console.error("[Vanity.showAppearance] feats",t)}this.render()}}const St=new kt;class It extends l.w{constructor({feats:t,profile:e}){super(),e&&(this.feats=t,this.state.gamertag=e?.gamertag??"Gamertag...",this.state.profile=e,this.state.serviceTag=e?.spartan?.serviceTag??"117")}get defaultState(){return{gamertag:"",serviceTag:""}}get enlistedDateString(){if(!this.state.profile)return"...";const t=this.state.profile?.enlistedDate;return Date.parse(t)?new Date(t).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):"..."}render(){return this.html`
			<section class="vanity_feats_wrapper">
				<header class="mica_header-strip"><h2>Service Record</h2><span class="beta">BETA</span></header>
				<div class="mica_content">
					<div
						class="feats_nameplate-header"
						style=${{backgroundImage:`url(${k.Z}images/nameplates/${this.nameplateFilename()}.png)`}}
					></div>
					<header class="feats_header">
						<div
							class="feats_nameplate_wrapper"
						>
							<img
								class="nameplate"
								src=${`${k.Z}images/nameplates/${this.nameplateFilename()}.png`}
								width="1280"
								height="240"
							>
							<div
								class="nameplate_content"
							>
								<img
									class="emblem"
									src=${`${k.Z}images/emblems/${this.nameplateFilename()}.png`}
									width="240"
									height="240"
								>
								<div
									class="nameplate_text"
									style=${{color:a.db.getEmblemColor(this.nameplateConfig())}}
								>
									<span class="gamertag">${this.state.gamertag}</span>
									<span class="servicetag">${this.state.serviceTag}</span>
								</div>
							</div>
						</div>
						<div>
							<span class="feats_enlisted">Enlisted // ${this.enlistedDateString}</span>
						</div>
					</header>
					<ul class="feats_list">
						${this.renderAwards()}
						${this.renderMementos()}
						${this.renderCapstones()}
					</ul>
				</div>
			</section>
		`}nameplateFilename(){try{const t=this.state.profile,e=`${t.spartan.emblemConfig}`.replace("-","n");return`${t.spartan.emblem}_${e}`}catch(t){console.error("[VaFeatsnity.nameplateFilename]",t)}}nameplateConfig(){return`${this.state.profile.spartan.emblemConfig}`}renderFeat(t,e){const r=new Set;return n.k9.wire()`
			<li>
				<header>${t}</header>
				<ul>
					${[...e].map((t=>{const e=a.db.getItemManifestByID(t);return!e||r.has(e.title)?"":(r.add(e.title),`<a class="feat_reward-link" href=#item/${e.name}>${e.title}</a>`)}))}
				</ul>
			</li>
		`}renderAwards(){const t=this.feats.get("award");if(t&&t.size)return n.k9.wire(this,":awards")`
			<li class="feats_feat">
				<header class="feat_feat-type">Awards</header>
				<ul>
					${[...t.entries()].map((([t,e])=>this.renderFeat(t,e)))}
				</ul>
			</li>
		`}renderMementos(){const t=this.feats.get("memento");if(t&&t.size)return n.k9.wire(this,":mementos")`
			<li class="feats_feat">
				<header class="feat_feat-type">Mementos</header>
				<ul>
					${[...t.entries()].map((([t,e])=>this.renderFeat(t,e)))}
				</ul>
			</li>
		`}renderCapstones(){const t=this.feats.get("capstone");if(t&&t.size)return n.k9.wire(this,":capstones")`
			<li class="feats_feat">
				<header class="feat_feat-type">Capstones</header>
				<ul>
					${[...t.entries()].map((([t,e])=>this.renderFeat(t,e)))}
				</ul>
			</li>
		`}}const Mt=512,Dt=1024;class Ct{constructor(){this.drawSceneDepth=!1,this.renderCount=0,window?.OffscreenCanvas?(this.scratchCanvas=new OffscreenCanvas(Mt,Dt),this.bufferCanvas=new OffscreenCanvas(Mt,Dt),this.sceneDepthCanvas=new OffscreenCanvas(Mt,Dt)):(this.scratchCanvas=document.createElement("canvas"),this.scratchCanvas.width=Mt,this.scratchCanvas.height=Dt,this.bufferCanvas=document.createElement("canvas"),this.bufferCanvas.width=Mt,this.bufferCanvas.height=Dt,this.sceneDepthCanvas=document.createElement("canvas"),this.sceneDepthCanvas.width=Mt,this.sceneDepthCanvas.height=Dt),this.defaultState()}defaultState(){this.orderedLayers=new Array(this.orderedLayersCount),this.unorderedLayers=new Array}get orderedLayersCount(){return 13}setUniCore(t){console.log("[Compositor.setUniCore]"),t&&(this.unicore=t)}get vanity(){if(this.unicore)return this.unicore}setSupportedItems(t){this._supportedItemIDs=t}setCanvas(t){console.log("[Compositor.setCanvas]",t),t&&(this.canvas=t)}async render(){if(!this.canvas)return void console.warn("[Compositor.render] No canvas!");if(this._isRendering)return void console.warn("[Compositor.render] Render blocking");this._isRendering=!0,console.log("[Compositor.render]",++this.renderCount);const t=this.canvas,e=t.getContext("2d");e.clearRect(0,0,Mt,Dt);const r=this.bufferCanvas,n=r.getContext("2d");n.clearRect(0,0,Mt,Dt);const i=this.sceneDepthCanvas,a=i.getContext("2d");a.globalCompositeOperation="source-over",a.fillStyle="#000000",a.fillRect(0,0,Mt,Dt),e.save(),n.save(),this.renderIsInvalid=!1,this.orderedLayers.forEach(((s,o)=>{try{if(e.restore(),n.restore(),!s.useDepth&&s.color)e.globalCompositeOperation="source-over",e.drawImage(s.color,0,0,Mt,Dt);else if(s.color&&s.depth){const a=this.depthComposite({insertColor:s.color,insertDepth:s.depth,sceneDepth:i});a&&(n.clearRect(0,0,Mt,Dt),n.globalCompositeOperation="source-over",n.drawImage(a,0,0,Mt,Dt),n.globalCompositeOperation="difference",n.fillStyle="#FFFFFF",n.fillRect(0,0,Mt,Dt),n.globalCompositeOperation="destination-in",n.drawImage(s.color,0,0,Mt,Dt),n.globalCompositeOperation="multiply",n.drawImage(t,0,0,Mt,Dt),e.globalCompositeOperation="source-in",e.drawImage(r,0,0,Mt,Dt),n.clearRect(0,0,Mt,Dt),n.globalCompositeOperation="source-over",n.drawImage(s.color,0,0,Mt,Dt),n.drawImage(t,0,0,Mt,Dt),n.drawImage(s.color,0,0,Mt,Dt),n.globalCompositeOperation="multiply",n.drawImage(a,0,0,Mt,Dt),e.globalCompositeOperation="lighten",e.drawImage(r,0,0,Mt,Dt))}s.depth&&(a.globalCompositeOperation="lighten",a.drawImage(s.depth,0,0,Mt,Dt))}catch(t){console.warn(`[Compositor.render] orderedLayers index "${o}"`,t)}})),this.drawSceneDepth&&(e.globalCompositeOperation="source-over",e.drawImage(i,0,0,Mt,Dt)),e.restore(),n.restore(),this._isRendering=!1}depthComposite({insertColor:t,insertDepth:e,sceneDepth:r}){if(!r)return;const n=this.scratchCanvas,i=n.getContext("2d");return i.clearRect(0,0,Mt,Dt),i.globalCompositeOperation="source-over",i.drawImage(r,0,0,Mt,Dt),i.globalCompositeOperation="lighten",i.drawImage(e,0,0,Mt,Dt),i.globalCompositeOperation="difference",i.drawImage(r,0,0,Mt,Dt),i.globalCompositeOperation="color-dodge",i.fillStyle="#FFFFFF",i.fillRect(0,0,Mt,Dt),i.globalCompositeOperation="destination-in",i.drawImage(t,0,0,Mt,Dt),i.restore(),n}submitLayer({index:t=-1,color:e,depth:r,useDepth:n=!0}={}){return console.log(`[Compositor.submitLayer] index "${t}"`),t>=0&&t<this.orderedLayersCount?(this.renderIsInvalid=!0,this.orderedLayers[parseInt(t)]={color:e,depth:r,useDepth:n}):this.unorderedLayers.push({color:e,depth:r,useDepth:n})}async requestImageLayer({item:t,coating:e,hasDepth:r=!0}={}){try{const n="/7/vanity/";if(!r){return{color:await this.loadImg(`${n}${t}/${e??t}.png`),useDepth:!1}}const[i,a]=await Promise.all([this.loadImg(`${n}${t}/${e??t}.png`),this.loadImg(`${n}${t}/depth.png`)]);return{color:i,depth:a}}catch(t){console.error("[Compositor.requestImageLayer]",t)}}async loadImg(t){return new Promise(((e,r)=>{const n=new Image;n.onload=()=>e(n),n.onerror=t=>{console.error("[Compositor.loadImg]",t),e()},n.src=t}))}get supportedItemIDs(){if(this?._supportedItemIDs)return this._supportedItemIDs;let t=new Set;const e=this.unicore;if(e){for(const r in e)if(Array.isArray(e?.[r]?.options)){const n=e?.[r]?.options;t=new Set([...t,...n])}return console.info(`[Compositor.supportedItemIDs] "${t.size}" items`,t),t.size?this._supportedItemIDs=t:t}}async initProfile(t={armor:{core:"017-001-olympus-c13d0b38"}}){if(!t||!t?.armor?.core)return console.warn("[Compositor.initProfile] Invalid profile",t),void await this.test();console.log("[Compositor.initProfile]",t?.gamertag??t?.title??"Untitled Profile",t);const e=new Map([["coating","002-001-olympus-c0122ae6"],["core","017-001-olympus-c13d0b38"],["helmet","005-001-olympus-c13d0b38"],["visor",""],["helmetAttachment",""],["rightShoulderPad",""],["leftShoulderPad",""],["chestAttachment",""],["hipAttachment",""],["kneepads","006-001-olympus-c13d0b38"],["weaponCoating",{id:"209-201-olympus-aa30213b",coating:"203-201-olympus-aa30213b"}],["gloves","003-001-olympus-c13d0b38"],["wristAttachment",""]]);for(const r in t.armor){if(!e.has(r)){console.warn(`[Compositor.initProfile] No socket "${r}"`);continue}const n=t.armor[r];this.supportedItemIDs.has(n)?e.set(r,n):console.warn(`[Compositor.initProfile] Item "${n}" not supported!`)}console.log("[Compositor.initProfile] assigned",e),await this.loadProfileLayers(e)}get weaponCore(){return"209-201-olympus-aa30213b"}async loadProfileLayers(t){if(!t.size)return;const e=t.get("coating");if(!e)return;const r=[];this.defaultState(),[...t.entries()].forEach((([t,n],i)=>{if(i>0&&n){const a={socket:t,coating:e};"string"==typeof n?a.item=n:n?.id&&n?.coating&&(a.coating=n.coating,a.item=n.id);const s=new Set(["core","helmet"]);r.push(this.requestImageLayer(a).then((e=>{this.submitLayer({index:i,...e,useDepth:!s.has(t)})})).catch((t=>console.error("[Compositor.loadProfileLayers]",t))))}})),Promise.all(r).then((()=>{console.log("done loading"),this.render()}))}async test(){const t="002-001-olympus-c0122ae6",e=[];e.push(this.requestImageLayer({item:"017-001-olympus-c13d0b38",coating:t}).then((t=>{this.submitLayer({index:1,...t,useDepth:!1}),this.render()}))),e.push(this.requestImageLayer({item:"005-001-olympus-c13d0b38",coating:t}).then((t=>{this.submitLayer({index:2,...t,useDepth:!1}),this.render()}))),e.push(this.requestImageLayer({item:"009-001-olympus-c13d0b38",coating:t}).then((t=>{this.submitLayer({index:5,...t}),this.render()}))),e.push(this.requestImageLayer({item:"008-001-olympus-c13d0b38",coating:t}).then((t=>{this.submitLayer({index:6,...t}),this.render()}))),Promise.all(e).then((()=>{console.log("done loading"),this.render()}))}}r(7642);class At extends l.w{constructor(){super(),this.mainMenu=new Pt,this.debugMenu=new $t,i.u.on("announceProfile",(({profile:t,gamertag:e})=>{this.initProfile({profile:t,gamertag:e})}))}get defaultState(){return{debugMenu:!0,mobileMenu:!1,currentMenu:this?.mainMenu??""}}async init(){if(this?._vanity)return void await this._vanity;console.info("[ArmorHall.init]");const t=a.db.getAssetJSON("vanity.json");if(this._vanity=await t,!this._vanity||!this._vanity?.cores)throw new Error("Invalid vanity.json");this.initCores(this._vanity),this.compositor||(this._compositor=new Ct),this.compositor&&(this.compositor.setUniCore(t),this.compositor.setCanvas(this.renderCanvas()),this.mainMenu.setCanvas(this.renderCanvas()),this.debugMenu.setCanvas(this.renderCanvas()),await this.compositor.initProfile())}get vanityIndex(){if(this?._vanity)return this._vanity}get compositor(){if(this?._compositor)return this._compositor}initCores(t){if(this?.coreMap)return;const e=new Set([...a.db.getItemIDsByType("ArmorCore")]),r=new Map;return e.forEach((t=>r.set(t,new Tt(a.db.getItemManifestByID(t))))),r.set("vanityIndex",new Et(t)),console.log("[ArmorHall.initCores]",r),this.coreMap=r,this.coreMap}async initProfile({profile:t}){this.state={...this.defaultState,profile:t},this.compositor&&await this.compositor.initProfile(t)}async setProfile(t){a.db.selectedItemIDs=new Set(Object.values(t.armor)),t&&t?.armor&&await this.compositor.initProfile(t)}async render(){return await this.init(),this.html`
			<section class="armorhall_wrapper">
				<div class="armorhall-canvas_wrapper">
					${this.renderCanvas()}
				</div>
				<div class ="core-viewer_wrapper mica_viewer">
					<nav class ="cores-list_nav"><ul>
						<li>
							<button
								onclick=${()=>this.showMenu(this.mainMenu)}
								class=${this.state?.currentMenu===this.mainMenu?"active":null}
							>
								Menu
							</button>
						</li>
						${this.state.debugMenu?n.k9.wire(this,":developerButton")`
							<li>
								<button
									onclick=${()=>this.showMenu(this.debugMenu)}
									class=${this.state?.currentMenu===this.debugMenu?"active":null}
								>
									Debugger
								</button>
							</li>
						`:""}
						${this.renderCoreList()}
					</ul></nav>
				${{any:this.state.currentMenu.render(),placeholder:n.GU.cloneNode(!0)}}
				</div>
			</section>
		`}renderCanvas(){return this?._canvas?this._canvas:this._canvas=n.k9.wire(this,":canvas")`
			<canvas
				id="vanity-canvas"
				class="vanity-canvas_armor-hall"
				width="512"
				height="1024"
			></canvas>
		`}renderCoreList(){if(this.coreMap?.size)return n.k9.wire(this,":coreList")`
			${[...this.coreMap.values()].map((t=>n.k9.wire(t,":nav")`<li><button
				onclick=${()=>this.showMenu(t)}
				class=${this.state?.currentMenu===t?"active":null}
			>${t.title}</button></li>`))}
		`}async showMenu(t){t&&this.setState({currentMenu:t})}async initCore(t){this.coreItemMap||(this.coreItemMap=new Map);const e=a.db.getJSON(t.path);e&&this.coreItemMap.set(t.name,e)}get gamertag(){return this.state?.profile?.gamertag??"Gamertag"}get supportedItemIDs(){if(this?._supportedItemIDs)return this._supportedItemIDs;let t=new Set;const e=this.vanityIndex;if(e){for(const r in e)if(Array.isArray(e?.[r]?.options)){const n=e?.[r]?.options;t=new Set([...t,...n])}return console.info(`[ArmorHall.supportedItemIDs] "${t.size}" items`),this.compositor&&this.compositor.setSupportedItems(t),this._supportedItemIDs=t}}get defaultProfile(){return{title:"untitled",created:(new Date).toJSON(),spartan:{emblem:"",backdrop:"",bodyType:"Small",prosthetics:{leftArm:"None",rightArm:"None",leftLeg:"None",rightLeg:"None"}},armor:{core:"017-001-olympus-c13d0b38",theme:"007-001-olympus-c13d0b38",coating:"",helmet:"",helmetAttachment:"",visor:"",chestAttachment:"",leftShoulderPad:"",rightShoulderPad:"",gloves:"",wristAttachment:"",kneepads:"",hipAttachment:"",emblem:"",armorFX:"",mythicFX:""},weapons:[{core:"209-201-olympus-aa30213b",theme:"207-201-olympus-aa30213b",coating:"203-201-olympus-aa30213b",emblem:"",deathFX:"",charm:"",model:""}]}}}class Pt extends l.w{get defaultState(){return{matte:{red:0,green:0,blue:0,opacity:1},mobileMenu:!1,currentMenu:this.mainMenu}}render(){return this.html`
			<div
				class="vanity-menu_wrapper"
			>
				<div class="option-wrapper">
					<label
						for="vanity-menu_matte-color"
					>Matte Color</label>
					<input
						id="vanity-menu_matte-color"
						type="color"
						value="transparent"
						onchange=${t=>this.updateMatteColor(t.target.value)}
					>
				</div>
				<div class="option-wrapper">
					<label
						for="vanity-menu_matte-alpha"
					>Matte Opacity</label>
					<input
						id="vanity-menu_matte-alpha"
						type="range"
						min="0"
						max="1"
						step="0.01"
						value="0"
						onchange=${t=>this.updateMatteOpacity(t.target.value)}
					>
				</div>
				<button
					class="hi-box"
					onclick=${async()=>await this.downloadCanvas()}
				>Blob</button>
				<button
					class="hi-box"
					onclick=${async()=>await this.testBucket()}
				>Test</button>
			</div>
		`}setCanvas(t){t&&(this.canvas=t)}async downloadCanvas(){try{if(!this.canvas)return;const t=await new Promise((t=>this.canvas.toBlob(t)));t||console.error("No blob!");const e=URL.createObjectURL(t);console.log("blob",e);const r=document.createElement("a");r.href=e,r.download="spartan.png",r.setAttribute("download","spartan.png"),document.body.append(r),r.click(),r.remove(),URL.revokeObjectURL(e)}catch(t){console.error("[ArmorHall.downloadCanvas]",t)}}updateMatteColor(t){console.log("c",t);const e=t.split(""),r=parseInt(e[1]+e[2],16),n=parseInt(e[3]+e[4],16),i=parseInt(e[5]+e[6],16);this.state.matte={...this.state.matte,red:r,green:n,blue:i},console.log("rgb",this.state.matte),this.updateMatte()}updateMatteOpacity(t){t>=0&&t<=1&&(this.state.matte={...this.state.matte,opacity:parseFloat(t)},this.updateMatte())}updateMatte(){const{red:t,green:e,blue:r,opacity:n}=this.state.matte;document.documentElement.style.setProperty("--vanity-matte",`rgba(${t}, ${e}, ${r}, ${n})`)}async testBucket(){const t=await fetch("https://hi.cylix.guide/capstones.json");if(!t||!t.ok)return console.error(`Fetch failed ${t.status}`,t);const e=await t.json();console.log("[testBucket]",e)}}class $t extends Pt{render(){return this.html`
			<div
			>
				DebugMenu
			</div>
		`}}class Tt extends l.w{constructor(t){super(),this.meta=t}get defaultState(){return{mobileMenu:!1}}async render(){return await this.init(),this.html`
			<div
			>
				core: ${this.id}
				<br/>
				theme: ${this?.theme?.id??"???"}
			</div>
			<div
				class ="core_wrapper mica_main-content"
			>
				<ul class=${"core-socket-list mica_nav-list "+(this.state.mobileMenu?"show-mobile":"hide-mobile")}>
					<li class="core-socket-title">${this.theme?.name??"Loading core..."}</li>
					${this.sockets.map((t=>n.k9.wire(t)`
						<li><button
							onclick=${()=>this.showSocket(t)}
							class=${this.state?.socket===t?"active":null}
						><span>${t.name}</span></button></li>
					`))}
				</ul>
				<div class="mica_content">${{any:this.state?.socket?.render()??"",placeholder:n.GU.cloneNode(!0)}}</div>
				${{html:this.state?.socket?"":'<div class="core-socket-placeholder">CHOOSE A SOCKET</div>'}}
				<div class=${"mica_mobile-menu_container "+(this.state.mobileMenu?"show-mobile":"hide-mobile")}>${this?.mobileMicaMenu?.render()??""}</div>
			</div>
		`}async init(){try{if(this.core)return;this._core={};const t=await a.db.getItem({id:this.id});if(t){this._core=t,console.log("coreinit",this.core);const e=(0,x.B)(this.core?.data?.Themes?.DefaultOptionPath);if(!e||!a.db.manifestHasID(e))throw new Error(`Theme ID not found for core "${this.id}"`);{const t=await a.db.getItem({id:e});this._theme=t,console.log("themeinit",this.theme),await this.initSockets()}}}catch(t){console.error("[ArmorHall.Core.init]",t)}this.mobileMicaMenu=new _.W(`MobileMicaMenu-${this.name}`,"Sockets"),i.u.on(`MobileMicaMenu-${this.name}`,(()=>{this.setState({mobileMenu:!this.state.mobileMenu}),this.state.mobileMenu&&history.pushState({},"Halosets","")})),i.u.on("popstate",(()=>{this.state.mobileMenu&&this.setState({mobileMenu:!1})}))}get currentHelmetID(){return"005-001-olympus-c13d0b38"}get helmetAttachments(){return this._helmetAttachments??=new Map([["any",[]]])}get currentHelmetAttachments(){return this.helmetAttachments.size?this.helmetAttachments.get(this.currentHelmetID):new Set}async initSockets(){if(!this.theme)return;this.sockets=[];const t=this.theme.data,e=Rt.defaultProfile;e.armor.core=this.id,e.armor.theme=this.theme.id;const r=new Set(["Emblems","ArmorFx","MythicFx"]);for(const n in t)if(!r.has(n))if(t[n]?.OptionPaths?.length){const r=t[n],i=r?.OptionPaths;this.sockets.push(new Ot({core:this,OptionPaths:i,socketName:n}));const a=Lt.get(n)??n;r.DefaultOptionPath&&r.IsRequired&&e.armor.hasOwnProperty(a)&&(e.armor[a]=(0,x.B)(r.DefaultOptionPath))}else if("Helmets"===n&&t[n]?.Options?.length){const r=t[n]?.Options,i=[],a=t[n].DefaultOptionPath;e.armor.helmet=(0,x.B)(a);for(const t of r){const e=t?.HelmetPath;if(e&&i.push(e),t?.HelmetAttachments?.OptionPaths?.length){const r=(0,x.B)(e),n=new Set(t.HelmetAttachments.OptionPaths.map((t=>(0,x.B)(t))));n.size&&(this.helmetAttachments.set(r,n),this.helmetAttachments.set("any",new Set([...this.helmetAttachments.get("any"),...n])))}}this.sockets.push(new Ot({core:this,OptionPaths:i,socketName:n})),this.sockets.push(new Ot({core:this,socketName:"ArmorHelmetAttachment"}))}this._defaultProfile=e,console.log("defaultProfile",this.defaultProfile)}showSocket(t){if(this.state.mobileMenu=!1,this.state?.socket===t)return this.render(),void this.scrollIntoView();this.setState({socket:t}),this.scrollIntoView()}scrollIntoView(){}socketDefault(t){const e=this.defaultProfile?.armor?.[t];return e||""}setSocket({socketName:t,item:e}){if(t&&e&&this?.profile?.armor.hasOwnProperty(t)){const r=this.profile.armor[t];this.profile.armor[t]=r===e?this.socketDefault(t)??"":e,console.log("[Core.setSocket]",t,e,this.profile),Rt.setProfile(this.profile)}}get defaultProfile(){if(this?._defaultProfile)return this._defaultProfile}get profile(){return this?._profile?this._profile:this._profile={...this.defaultProfile,armor:{...this.defaultProfile.armor}}}get title(){return this.meta?.title??"core"}get id(){return this.meta?.name??"core"}get core(){if(this?._core)return this._core}get theme(){if(this?._theme)return this._theme}}class Et extends Tt{get title(){return"UniCore"}get id(){return"UniCore"}}class Ot extends l.w{constructor({core:t,OptionPaths:e,socketName:r,required:n}){super(),this.core=t,this.OptionPaths=e??[],this.socketName=r,this.profileSocketName=Lt.get(r)??r,this._itemIDs=new Set(this.OptionPaths.map((t=>(0,x.B)(t)))),this.items=[]}get defaultState(){return{page:0}}get itemIDs(){return"ArmorHelmetAttachment"!==this.socketName?this._itemIDs??new Set:this.core.currentHelmetAttachments??new Set}async render(){return await this.init(),this.html`
			<div
				class ="core-sockets_wrapper mica_content"
			>
			${this.name?.replace("Atch.","Attachments")??"Socket"} // ${this?.itemIDs?.size??"#"}
				${this.renderPageControls("upper")}
				<ul
					class="socket-items"
				>
					${this.items.map((t=>n.k9.wire()`<li>
						${{any:t.renderSelectable("armorHall",{itemTypeIcon:!0}),placeholder:w.R.cloneNode(!0)}}
					</li>`))}
				</ul>
				${this.renderPageControls("lower")}
			</div>
		`}renderPageControls(t=upper){return this.pages<2?"":n.k9.wire(this,`:${t}`)`
			<div class="page-controls_wrapper">
				<button
					onclick=${()=>this.previousPage()}
					disabled=${0===this.pageNumber}
				>Prev Page</button>
				<span>${this.pageNumber+1} of ${this.pages}</span>
				<button
					onclick=${()=>this.nextPage()}
					disabled=${this.pageNumber+1===this.pages}
				>Next Page</button>
			</div>
		`}async init(){this.getCurrentItemPage()}selectHandler(t){a.db.selectedItemIDs.add(t.id),this.core.setSocket({socketName:this.profileSocketName,item:t.id})}getCurrentItemPage(){return this.items=[...this.currentPageIDs].map((t=>new w.c({id:t}).selectHandler((t=>{console.log("itemClick",t),this.selectHandler(t),this.render()}))))}nextPage(){this.pageNumber!==this.pages-1&&(this.state.page=this.pageNumber+1,this.getCurrentItemPage(),this.render())}previousPage(){0!==this.pageNumber&&(this.state.page=this.pageNumber-1,this.getCurrentItemPage(),this.render())}get name(){return a.db.getItemType(this?.socketName)}get pageLength(){return 100}get pages(){return Math.ceil(this.itemIDs.size/this.pageLength)}get pageNumber(){return this.state?.page??0}get currentPageIDs(){return new Set([...this.filteredItemIDs].slice(this.pageNumber*this.pageLength,this.pageNumber*this.pageLength+this.pageLength))}get filteredItemIDs(){const t=[],e=[],r=[],n=[];return this.itemIDs.forEach((i=>{Rt.supportedItemIDs.has(i)?a.db.selectedItemIDs.has(i)?t.push(i):a.db.favoriteItemIDs.has(i)?e.push(i):r.push(i):n.push(i)})),new Set([...t,...e,...r])}}const Rt=new At,Lt=new Map([["Themes","theme"],["Coatings","coating"],["Helmets","helmet"],["HelmetAttachments","helmetAttachment"],["Visors","visor"],["ChestAttachments","chestAttachment"],["LeftShoulderPads","leftShoulderPad"],["RightShoulderPads","rightShoulderPad"],["Gloves","gloves"],["WristAttachments","wristAttachment"],["KneePads","kneepads"],["HipAttachments","hipAttachment"],["Emblems","emblem"],["ArmorFx","armorFX"],["MythicFx","mythicFX"]]);class Ft extends l.w{get defaultState(){return{gamertag:"",search:"",failedSearch:"",status:"",fetching:!1,rateLimit:!1}}get gamertag(){return this.dashDecodeURIComponent(this.state.gamertag)}get wrongGamertags(){return this?._wrongGamertags??(this._wrongGamertags=new Set)}async init(t){if(!t?.trim())return;const e=await this.requestProfile(t.trim());if(e&&e.gamertag){const t=e.gamertag;return this.state={...this.defaultState,gamertag:t,profile:e,rateLimit:this.state.rateLimit},this.announceProfile(e,t),this.render(),e}}render(){return this.setUrlPathToGamertag(),this.html`<div class="mica_viewer vanity-profile_wrapper" id="vanity-profile-search">
			<header class="mica_header-strip">
				<button
					aria-label="Search"
					title="Search"
					onclick=${()=>this.submitSearch()}
					disabled=${this.state.rateLimit||this.state.fetching}
				>
					<div class="icon-masked icon-search"></div>
				</button>
				<input
					aria-label="Search Input"
					type="search"
					class="vanity-search_input"
					id="vanity-search"
					name="vanity-search"
					placeholder="Search Gamertag..."
					maxlength="32"
					oninput=${t=>this.inputSearch(t?.target?.value??"")}
					onkeydown=${t=>{"Enter"===t?.key&&this.submitSearch()}}
					value=${this.state.term}
				>
				<div class="vanity-status">${this.renderStatus()}</div>
			</header>
		</div>`}renderStatus(t){return n.k9.wire(this,":status")`${t??this.state.status}`}async controlsRateLimit(){this.state.rateLimit=!0,setTimeout((()=>{this.state.rateLimit=!1,this.render()}),3e3)}inputSearch(t){"string"==typeof t&&(this.state.search=t)}async submitSearch(){if(this.state.fetching||this.state.rateLimit)return;if(!this.state.search||"string"!=typeof this.state.search)return;const t=this.state.search;if(t===this.state.failedSearch)return;console.info("[Vanity.submitSearch]",t);await this.init(t)||(this.state.failedSearch=t)}announceProfile(t,e){t&&t?.armor&&e&&(this.setUrlPathToGamertag(),i.u.emit("announceProfile",{profile:t,gamertag:e}))}async requestProfile(t){try{if(this.state.rateLimit)return;if(this.controlsRateLimit(),this.state.disabled)throw new Error("System offline. Please come back later.");if(!t||"string"!=typeof t)throw new Error(`No gamertag "${t}"`);if(this.wrongGamertags.has(t.toLowerCase()))return this.setState({status:"Not Found!"}),console.error("Repeated 404 GT",t);this.setState({fetching:!0,status:"Searching..."});const e=await fetch(new URL(`/api/vanity/profile/${t}`,`https://${window.location.host}`));if(console.log("requestAppearance",e.status),this.state.fetching=!1,e&&e.ok){const t=await e.json();if(t&&t.armor)return t}if(!e)return void this.setState({status:"Network Error!"});if(404===e.status)return this.wrongGamertags.add(t.toLowerCase()),console.log("404",t,this.wrongGamertags),void this.setState({status:"Not Found!"});if(405===e.status)return console.log("405",t),void this.setState({status:"System Offline!",disabled:!0});if(429===e.status)return console.log("429",t),void this.setState({status:"Please send less requests."});if(e.status>=500)return void this.setState({status:"Server Error!"})}catch(t){console.error("[Vanity.requestAppearance] Fetch error",t)}this.setState({fetching:!1,status:"Error!"})}setUrlPathToGamertag(){const t=this.state.gamertag;t&&"string"==typeof t&&(history.pushState(null,null,`/vanity/${this.dashEncodeURIComponent(t.trim())}`),this.renderStatus(""))}dashEncodeURIComponent(t){try{return t&&"string"==typeof t?encodeURIComponent(t.replaceAll(" ","-")):""}catch(e){return encodeURIComponent(t)}}dashDecodeURIComponent(t){try{return t&&"string"==typeof t?t.includes("-")?decodeURIComponent(t.replaceAll("-"," ")):decodeURIComponent(t):""}catch(e){return decodeURIComponent(t)}}}const jt=new Ft;class zt{render(){try{return[E.render(),I.render(),gt.render()]}catch(t){console.error("[PageItems.render]",t)}}}class Nt{async init(){try{let t;const{pathname:e}=new URL(window.location),r=e.split("/");r&&r.length>2&&(t=decodeURIComponent(r[2])),this._init=jt.init(t),await this._init}catch(t){console.error("[PageVanity.init]",t)}}async render(){try{return await this.init(),k.y?[await jt.render(),await Rt.render(),await St.render()]:[await jt.render(),await St.render()]}catch(t){console.error("[PageVanity.render]",t)}}}class Bt{async init(){if(this.forge)return;const{Forge:t}=await Promise.all([r.e(374),r.e(674)]).then(r.bind(r,5674));this._Forge=t,this.forge=new t,this.forge.init()}async render(){try{return await this.init(),[this.forge.render()]}catch(t){console.error("[PageForge.render]",t)}}}class Ht{async init(){if(this._Discovery)return;this._Discovery=!0;const{Discovery:t}=await r.e(496).then(r.bind(r,1496));this._Discovery=t,console.warn(t),this.discovery=new t,this.discovery.init()}async render(){try{return await this.init(),[this.discovery.render()]}catch(t){console.error("[PageDiscovery.render]",t)}}}const Vt=new class{constructor(){this.items=new zt,this.vanity=new Nt,this.forge=new Bt,this.discovery=new Ht}async route(){try{const t=new URL(window.location),{pathname:e}=t,r=e.split("/");if("/"===e&&s.s.state.visible&&(this.page=this.items,s.s.hide()),this?.pathname===e)return;if(console.info(`[Router.route] "${this?.pathname??"initial"}" -> "${e}"`),this.pathname=e,e.startsWith("/vanity")){if(this.page===this.vanity)return;this.page=this.vanity}else if(e.startsWith("/item"))r?.[2]&&a.db.showItemPanelByID(r?.[2].trim(),!0);else if(e.startsWith("/play")){if(this.page===this.items)return;this.page=this.items}else if(e.startsWith("/forge")){if(this.page===this.forge)return;this.page=this.forge}else if(e.startsWith("/discovery")){if(this.page===this.discovery)return;this.page=this.discovery}else{if(this.page===this.items)return void("/"===e&&s.s.state.visible&&s.s.hide());this.page=this.items}await this.render()}catch(t){console.error("[Router.route]",t)}}async render(){try{console.info(`[Router.render] "${this?.pathname??"."}"`),n.k9.bind(document.querySelector(".js--main"))`
				${y.render()}
				${{any:this.page.render(),placeholder:n.GU.cloneNode(!0)}}
			`}catch(t){console.error("[Router.render]",t)}}};r(3389);console.log("hello world");(new class{async init(){try{await a.db.init(),n.k9.bind(document.querySelector(".js--privacy"))`
				<span
					class="privacy-button"
					onclick=${()=>o.v.showView(d.render())}
				>Privacy</span>
			`,console.warn(a.db.date),n.k9.bind(document.querySelector(".js--db-date"))`
				${a.db.date.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}
			`;const t=new URL(window.location),{pathname:e}=t;if(e.startsWith("/item/")){console.log(`[cylix.init] Loading item from url... "${e}"`);const t=e.split("/");t?.[2]&&history.pushState(null,null,`/#item/${t?.[2]}`)}await this.handleNavigation(),this.parseUriHash(),window.addEventListener("popstate",(async t=>{console.log("popstate",t.state),i.u.emit("popstate"),await this.handleNavigation(t)})),window.addEventListener("hashchange",(t=>{const e=window.location.hash?.substring?.(1);return e&&"string"==typeof e&&e.length>6&&".json"===e.substring(e.length-5)?a.db.showItemPanelByPath(e,!0):e&&"string"==typeof e&&e.startsWith("item/")&&e.length>5?a.db.showItemPanelByID(e.substring(5,e.length).trim(),!0):(i.u.emit("hide-panel"),s.s.hide())}))}catch(t){console.error("[init] Fatal Error!",t),n.k9.bind(document.querySelector(".js--main"))`
				<h2>Error :(</h2>
				<p>Sorry, the page could not be initialized by your browser. Please consider sending a message with the below information so that the issue can be fixed.</p>
				<p>${t?.name||"Unknown Error"}</p>
				<p>${t?.message||"No message"}</p>
				<p>${t?.stack||"No stack"}</p>
			`}}async render(){this?.page?.render()??console.warn("no page...")}async handleNavigation(t){return await Vt.route()}parseUriHash(){try{const t=window.location.hash?.substring?.(1);if(t&&"string"==typeof t&&".json"===t.substring(t.length-5,t.length))try{a.db.showItemPanelByPath(t,!0)}catch(t){console.error("[skimmer][parseUri]",t)}else if(t&&"string"==typeof t&&t.startsWith("item/")&&t.length>5)try{a.db.showItemPanelByID(t.substring(5,t.length).trim(),!0)}catch(t){console.error("[skimmer][parseUri]",t)}else if(t&&"string"==typeof t){const e=document.querySelector(`#${t}`);e&&(console.info(`[parseUriHash.scrollIntoView] "${t}"`),e.scrollIntoView())}}catch(t){console.error("[Cylix.parseUriHash]",t)}}}).init()},7786:(t,e,r)=>{"use strict";r.d(e,{k9:()=>Qt,GU:()=>te});
/*! (c) Andrea Giammarchi - ISC */
var n={};try{n.WeakMap=WeakMap}catch(t){n.WeakMap=function(t,e){var r=e.defineProperty,n=e.hasOwnProperty,i=a.prototype;return i.delete=function(t){return this.has(t)&&delete t[this._]},i.get=function(t){return this.has(t)?t[this._]:void 0},i.has=function(t){return n.call(t,this._)},i.set=function(t,e){return r(t,this._,{configurable:!0,value:e}),this},a;function a(e){r(this,"_",{value:"_@ungap/weakmap"+t++}),e&&e.forEach(s,this)}function s(t){this.set(t[0],t[1])}}(Math.random(),Object)}const i=n.WeakMap;
/*! (c) Andrea Giammarchi - ISC */
var a={};try{a.WeakSet=WeakSet}catch(t){!function(t,e){var r=n.prototype;function n(){e(this,"_",{value:"_@ungap/weakmap"+t++})}r.add=function(t){return this.has(t)||e(t,this._,{value:!0,configurable:!0}),this},r.has=function(t){return this.hasOwnProperty.call(t,this._)},r.delete=function(t){return this.has(t)&&delete t[this._]},a.WeakSet=n}(Math.random(),Object.defineProperty)}const s=a.WeakSet,{isArray:o}=Array,{indexOf:l,slice:c}=[],h=(t,e,r,n,i,a)=>{const s="selectedIndex"in e;let o=s;for(;n<i;){const i=t(r[n],1);if(e.insertBefore(i,a),s&&o&&i.selected){o=!o;let{selectedIndex:t}=e;e.selectedIndex=t<0?n:l.call(e.querySelectorAll("option"),i)}n++}},d=(t,e)=>t==e,u=t=>t,p=(t,e,r,n,i,a,s)=>{const o=a-i;if(o<1)return-1;for(;r-e>=o;){let o=e,l=i;for(;o<r&&l<a&&s(t[o],n[l]);)o++,l++;if(l===a)return e;e=o+1}return-1},f=(t,e,r,n,i)=>r<n?t(e[r],0):0<r?t(e[r-1],-0).nextSibling:i,m=(t,e,r,n)=>{for(;r<n;)v(t(e[r++],-1))},g=(t,e,r)=>{let n=1,i=e;for(;n<i;){const e=(n+i)/2>>>0;r<t[e]?i=e:n=e+1}return n},b=(t,e,r,n,i,a,s,o,l,c,d,u,p)=>{((t,e,r,n,i,a,s,o,l)=>{const c=[],d=t.length;let u=s,p=0;for(;p<d;)switch(t[p++]){case 0:i++,u++;break;case 1:c.push(n[i]),h(e,r,n,i++,i,u<o?e(a[u],0):l);break;case-1:u++}for(p=0;p<d;)switch(t[p++]){case 0:s++;break;case-1:-1<c.indexOf(a[s])?s++:m(e,a,s++,s)}})(((t,e,r,n,i,a,s)=>{const o=r+a,l=[];let c,h,d,u,p,f,m;t:for(c=0;c<=o;c++){if(c>50)return null;for(m=c-1,p=c?l[c-1]:[0,0],f=l[c]=[],h=-c;h<=c;h+=2){for(u=h===-c||h!==c&&p[m+h-1]<p[m+h+1]?p[m+h+1]:p[m+h-1]+1,d=u-h;u<a&&d<r&&s(n[i+u],t[e+d]);)u++,d++;if(u===a&&d===r)break t;f[c+h]=u}}const g=Array(c/2+o/2);let b=g.length-1;for(c=l.length-1;c>=0;c--){for(;u>0&&d>0&&s(n[i+u-1],t[e+d-1]);)g[b--]=0,u--,d--;if(!c)break;m=c-1,p=c?l[c-1]:[0,0],h=u-d,h===-c||h!==c&&p[m+h-1]<p[m+h+1]?(d--,g[b--]=1):(u--,g[b--]=-1)}return g})(r,n,a,s,o,c,u)||((t,e,r,n,i,a,s,o)=>{let l=0,c=n<o?n:o;const h=Array(c++),d=Array(c);d[0]=-1;for(let t=1;t<c;t++)d[t]=s;const u=i.slice(a,s);for(let n=e;n<r;n++){const e=u.indexOf(t[n]);if(-1<e){const t=e+a;l=g(d,c,t),-1<l&&(d[l]=t,h[l]={newi:n,oldi:t,prev:h[l-1]})}}for(l=--c,--s;d[l]>s;)--l;c=o+n-l;const p=Array(c);let f=h[l];for(--r;f;){const{newi:t,oldi:e}=f;for(;r>t;)p[--c]=1,--r;for(;s>e;)p[--c]=-1,--s;p[--c]=0,--r,--s,f=f.prev}for(;r>=e;)p[--c]=1,--r;for(;s>=a;)p[--c]=-1,--s;return p})(r,n,i,a,s,o,l,c),t,e,r,n,s,o,d,p)},v=t=>(t.remove||y).call(t);function y(){const{parentNode:t}=this;t&&t.removeChild(this)}
/*! (c) 2018 Andrea Giammarchi (ISC) */
const w=(t,e,r,n)=>{n||(n={});const i=n.compare||d,a=n.node||u,s=null==n.before?null:a(n.before,0),o=e.length;let l=o,c=0,g=r.length,v=0;for(;c<l&&v<g&&i(e[c],r[v]);)c++,v++;for(;c<l&&v<g&&i(e[l-1],r[g-1]);)l--,g--;const y=c===l,w=v===g;if(y&&w)return r;if(y&&v<g)return h(a,t,r,v,g,f(a,e,c,o,s)),r;if(w&&c<l)return m(a,e,c,l),r;const _=l-c,x=g-v;let k=-1;if(_<x){if(k=p(r,v,g,e,c,l,i),-1<k)return h(a,t,r,v,k,a(e[c],0)),h(a,t,r,k+_,g,f(a,e,l,o,s)),r}else if(x<_&&(k=p(e,c,l,r,v,g,i),-1<k))return m(a,e,c,k),m(a,e,k+x,l),r;return _<2||x<2?(h(a,t,r,v,g,a(e[c],0)),m(a,e,c,l),r):_===x&&((t,e,r,n,i,a)=>{for(;n<i&&a(r[n],t[e-1]);)n++,e--;return 0===e})(r,g,e,c,l,i)?(h(a,t,r,v,g,f(a,e,l,o,s)),r):(b(a,t,r,v,g,x,e,c,l,_,o,i,s),r)};
/*! (c) Andrea Giammarchi - ISC */
var _={};_.CustomEvent="function"==typeof CustomEvent?CustomEvent:function(t){return e[t]=new e("").constructor[t],e;function e(t,e){e||(e={});var r=document.createEvent("CustomEvent");return r.initCustomEvent(t,!!e.bubbles,!!e.cancelable,e.detail),r}}("prototype");const x=_.CustomEvent;
/*! (c) Andrea Giammarchi - ISC */
var k={};try{k.Map=Map}catch(t){k.Map=function(){var t=0,e=[],r=[];return{delete:function(i){var a=n(i);return a&&(e.splice(t,1),r.splice(t,1)),a},forEach:function(t,n){e.forEach((function(e,i){t.call(n,r[i],e,this)}),this)},get:function(e){return n(e)?r[t]:void 0},has:function(t){return n(t)},set:function(i,a){return r[n(i)?t:e.push(i)-1]=a,this}};function n(r){return-1<(t=e.indexOf(r))}}}const S=k.Map;function I(){return this}const M=(t,e)=>{const r="_"+t+"$";return{get(){return this[r]||D(this,r,e.call(this,t))},set(t){D(this,r,t)}}},D=(t,e,r)=>Object.defineProperty(t,e,{configurable:!0,value:"function"==typeof r?function(){return t._wire$=r.apply(this,arguments)}:r})[e];Object.defineProperties(I.prototype,{ELEMENT_NODE:{value:1},nodeType:{value:-1}});const C={},A={},P=[],$=A.hasOwnProperty;let T=0;const E={attributes:C,define:(t,e)=>{t.indexOf("-")<0?(t in A||(T=P.push(t)),A[t]=e):C[t]=e},invoke:(t,e)=>{for(let r=0;r<T;r++){let n=P[r];if($.call(t,n))return A[n](t[n],e)}}};var O,R;const L=Array.isArray||(R=(O={}.toString).call([]),function(t){return O.call(t)===R});
/*! (c) Andrea Giammarchi - ISC */
var F=function(t){var e="fragment",r="template",n="content"in a(r)?function(t){var e=a(r);return e.innerHTML=t,e.content}:function(t){var n=a(e),s=a(r),o=null;if(/^[^\S]*?<(col(?:group)?|t(?:head|body|foot|r|d|h))/i.test(t)){var l=RegExp.$1;s.innerHTML="<table>"+t+"</table>",o=s.querySelectorAll(l)}else s.innerHTML=t,o=s.childNodes;return i(n,o),n};return function(t,e){return("svg"===e?s:n)(t)};function i(t,e){for(var r=e.length;r--;)t.appendChild(e[0])}function a(r){return r===e?t.createDocumentFragment():t.createElementNS("http://www.w3.org/1999/xhtml",r)}function s(t){var r=a(e),n=a("div");return n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t+"</svg>",i(r,n.firstChild.childNodes),r}}(document);const j=F;const z=
/*! (c) Andrea Giammarchi */
function(t){var e=t.Event,r=t.WeakSet,n=!0,i=null;return function(t){return n&&(n=!n,i=new r,function(t){var n=new r,a=new r;try{new MutationObserver(c).observe(t,{subtree:!0,childList:!0})}catch(e){var s=0,o=[],l=function(t){o.push(t),clearTimeout(s),s=setTimeout((function(){c(o.splice(s=0,o.length))}),0)};t.addEventListener("DOMNodeRemoved",(function(t){l({addedNodes:[],removedNodes:[t.target]})}),!0),t.addEventListener("DOMNodeInserted",(function(t){l({addedNodes:[t.target],removedNodes:[]})}),!0)}function c(t){for(var e,r=t.length,i=0;i<r;i++)h((e=t[i]).removedNodes,"disconnected",a,n),h(e.addedNodes,"connected",n,a)}function h(t,r,n,i){for(var a,s=new e(r),o=t.length,l=0;l<o;1===(a=t[l++]).nodeType&&d(a,s,r,n,i));}function d(t,e,r,n,a){i.has(t)&&!n.has(t)&&(a.delete(t),n.add(t),t.dispatchEvent(e));for(var s=t.children||[],o=s.length,l=0;l<o;d(s[l++],e,r,n,a));}}(t.ownerDocument)),i.add(t),t}};const N=function(t,e,r,n,i){var a=i in t,s=t.createDocumentFragment();return s.appendChild(t.createTextNode("g")),s.appendChild(t.createTextNode("")),(a?t.importNode(s,!0):s.cloneNode(!0)).childNodes.length<2?function t(e,r){for(var n=e.cloneNode(),i=e.childNodes||[],a=i.length,s=0;r&&s<a;s++)n.appendChild(t(i[s],r));return n}:a?t.importNode:function(t,e){return t.cloneNode(!!e)}}(document,0,0,0,"importNode");const B="".trim||function(){return String(this).replace(/^\s+|\s+/g,"")};
/*! (c) Andrea Giammarchi - ISC */
var H="-"+Math.random().toFixed(6)+"%",V=!1;try{(function(t,e,r){return e in t&&(t.innerHTML='<p tabindex="'+H+'"></p>',t.content.childNodes[0].getAttribute(r)==H)})(document.createElement("template"),"content","tabindex")||(H="_dt: "+H.slice(1,-1)+";",V=!0)}catch(t){}var W="\x3c!--"+H+"--\x3e",U=/^(?:plaintext|script|style|textarea|title|xmp)$/i,q=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i;
/*! (c) Andrea Giammarchi - ISC */function Z(t){return t.join(W).replace(tt,it).replace(K,rt)}var X=" \\f\\n\\r\\t",G="[^ \\f\\n\\r\\t\\/>\"'=]+",Y="[ \\f\\n\\r\\t]+"+G,Q="<([A-Za-z]+[A-Za-z0-9:._-]*)((?:",J="(?:\\s*=\\s*(?:'[^']*?'|\"[^\"]*?\"|<[^>]*?>|"+G.replace("\\/","")+"))?)",K=new RegExp(Q+Y+J+"+)(["+X+"]*/?>)","g"),tt=new RegExp(Q+Y+J+"*)(["+X+"]*/>)","g"),et=new RegExp("("+Y+"\\s*=\\s*)(['\"]?)"+W+"\\2","gi");function rt(t,e,r,n){return"<"+e+r.replace(et,nt)+n}function nt(t,e,r){return e+(r||'"')+H+(r||'"')}function it(t,e,r){return q.test(e)?t:"<"+e+r+"></"+e+">"}var at=V?function(t,e){var r=e.join(" ");return e.slice.call(t,0).sort((function(t,e){return r.indexOf(t.name)<=r.indexOf(e.name)?-1:1}))}:function(t,e){return e.slice.call(t,0)};function st(t,e){for(var r=e.length,n=0;n<r;)t=t.childNodes[e[n++]];return t}function ot(t,e,r,n){for(var i=t.childNodes,a=i.length,s=0;s<a;){var o=i[s];switch(o.nodeType){case 1:var l=n.concat(s);lt(o,e,r,l),ot(o,e,r,l);break;case 8:var c=o.textContent;if(c===H)r.shift(),e.push(U.test(t.nodeName)?dt(t,n):ct(o,n.concat(s)));else switch(c.slice(0,2)){case"/*":if("*/"!==c.slice(-2))break;case"👻":t.removeChild(o),s--,a--}break;case 3:U.test(t.nodeName)&&B.call(o.textContent)===W&&(r.shift(),e.push(dt(t,n)))}s++}}function lt(t,e,r,n){for(var i=t.attributes,a=[],s=[],o=at(i,r),l=o.length,c=0;c<l;){var h,d=o[c++],u=d.value===H;if(u||1<(h=d.value.split(W)).length){var p=d.name;if(a.indexOf(p)<0){a.push(p);var f=r.shift().replace(u?/^(?:|[\S\s]*?\s)(\S+?)\s*=\s*('|")?$/:new RegExp("^(?:|[\\S\\s]*?\\s)("+p+")\\s*=\\s*('|\")[\\S\\s]*","i"),"$1"),m=i[f]||i[f.toLowerCase()];if(u)e.push(ht(m,n,f,null));else{for(var g=h.length-2;g--;)r.shift();e.push(ht(m,n,f,h))}}s.push(d)}}c=0;for(var b=(0<(l=s.length)&&V&&!("ownerSVGElement"in t));c<l;){var v=s[c++];b&&(v.value=""),t.removeAttribute(v.name)}var y=t.nodeName;if(/^script$/i.test(y)){var w=document.createElement(y);for(l=i.length,c=0;c<l;)w.setAttributeNode(i[c++].cloneNode(!0));w.textContent=t.textContent,t.parentNode.replaceChild(w,t)}}function ct(t,e){return{type:"any",node:t,path:e}}function ht(t,e,r,n){return{type:"attr",node:t,path:e,name:r,sparse:n}}function dt(t,e){return{type:"text",node:t,path:e}}const ut=function(t){var e=bt,r=vt;return function(n){return e!==n&&(r=gt(t,e=n)),r.apply(null,arguments)}};var pt,ft=(pt=new i,{get:t=>pt.get(t),set:(t,e)=>(pt.set(t,e),e)});function mt(t,e){var r=(t.convert||Z)(e),n=t.transform;n&&(r=n(r));var i=j(r,t.type);vt(i);var a=[];return ot(i,a,e.slice(0),[]),{content:i,updates:function(r){for(var n=[],i=a.length,s=0,o=0;s<i;){var l=a[s++],c=st(r,l.path);switch(l.type){case"any":n.push({fn:t.any(c,[]),sparse:!1});break;case"attr":var h=l.sparse,d=t.attribute(c,l.name,l.node);null===h?n.push({fn:d,sparse:!1}):(o+=h.length-2,n.push({fn:d,sparse:!0,values:h}));break;case"text":n.push({fn:t.text(c),sparse:!1}),c.textContent=""}}return i+=o,function(){var t=arguments.length;if(i!==t-1)throw new Error(t-1+" values instead of "+i+"\n"+e.join("${value}"));for(var a=1,s=1;a<t;){var o=n[a-s];if(o.sparse){var l=o.values,c=l[0],h=1,d=l.length;for(s+=d-2;h<d;)c+=arguments[a++]+l[h++];o.fn(c)}else o.fn(arguments[a++])}return r}}}}function gt(t,e){var r=ft.get(e)||ft.set(e,mt(t,e));return r.updates(N.call(document,r.content,!0))}var bt=[];function vt(t){for(var e=t.childNodes,r=e.length;r--;){var n=e[r];1!==n.nodeType&&0===B.call(n.textContent).length&&t.removeChild(n)}}const yt=function(){var t=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,e=/([^A-Z])([A-Z]+)/g;return function(t,e){return"ownerSVGElement"in t?function(t,e){var r;e?r=e.cloneNode(!0):(t.setAttribute("style","--hyper:style;"),r=t.getAttributeNode("style"));return r.value="",t.setAttributeNode(r),n(r,!0)}(t,e):n(t.style,!1)};function r(t,e,r){return e+"-"+r.toLowerCase()}function n(n,i){var a,s;return function(o){var l,c,h,d;switch(typeof o){case"object":if(o){if("object"===a){if(!i&&s!==o)for(c in s)c in o||(n[c]="")}else i?n.value="":n.cssText="";for(c in l=i?{}:n,o)h="number"!=typeof(d=o[c])||t.test(c)?d:d+"px",!i&&/^--/.test(c)?l.setProperty(c,h):l[c]=h;a="object",i?n.value=function(t){var n,i=[];for(n in t)i.push(n.replace(e,r),":",t[n],";");return i.join("")}(s=l):s=o;break}default:s!=o&&(a="string",s=o,i?n.value=o||"":n.cssText=o||"")}}}}();
/*! (c) Andrea Giammarchi - ISC */
var wt=function(t,e){return(e=r.prototype).ELEMENT_NODE=1,e.nodeType=111,e.remove=function(t){var e=this.childNodes,r=this.firstChild,n=this.lastChild;if(this._=null,t&&2===e.length)n.parentNode.removeChild(n);else{var i=this.ownerDocument.createRange();i.setStartBefore(t?e[1]:r),i.setEndAfter(n),i.deleteContents()}return r},e.valueOf=function(t){var e=this._,r=null==e;if(r&&(e=this._=this.ownerDocument.createDocumentFragment()),r||t)for(var n=this.childNodes,i=0,a=n.length;i<a;i++)e.appendChild(n[i]);return e},r;function r(e){var r=this.childNodes=t.call(e,0);this.firstChild=r[0],this.lastChild=r[r.length-1],this.ownerDocument=r[0].ownerDocument,this._=null}}([].slice);const _t=wt,xt="ownerSVGElement",kt="connected",St=I.prototype.nodeType,It=_t.prototype.nodeType,Mt=z({Event:x,WeakSet:s}),Dt=t=>({html:t}),Ct=(t,e)=>{switch(t.nodeType){case It:return 1/e<0?e?t.remove(!0):t.lastChild:e?t.valueOf(!0):t.firstChild;case St:return Ct(t.render(),e);default:return t}},At=(t,e)=>{e(t.placeholder),"text"in t?Promise.resolve(t.text).then(String).then(e):"any"in t?Promise.resolve(t.any).then(e):"html"in t?Promise.resolve(t.html).then(Dt).then(e):Promise.resolve(E.invoke(t,e)).then(e)},Pt=t=>null!=t&&"then"in t,$t=/^(?:form|list)$/i,Tt=[].slice,Et=(t,e)=>t.ownerDocument.createTextNode(e);function Ot(t){return this.type=t,ut(this)}Ot.prototype={attribute(t,e,r){const n=xt in t;let i;if("style"===e)return yt(t,r,n);if("."===e.slice(0,1))return((t,e,r)=>r?r=>{try{t[e]=r}catch(n){t.setAttribute(e,r)}}:r=>{t[e]=r})(t,e.slice(1),n);if("?"===e.slice(0,1))return((t,e,r)=>n=>{r!==!!n&&((r=!!n)?t.setAttribute(e,""):t.removeAttribute(e))})(t,e.slice(1));if(/^on/.test(e)){let r=e.slice(2);return r===kt||"disconnected"===r?Mt(t):e.toLowerCase()in t&&(r=r.toLowerCase()),e=>{i!==e&&(i&&t.removeEventListener(r,i,!1),i=e,e&&t.addEventListener(r,e,!1))}}if("data"===e||!n&&e in t&&!$t.test(e))return r=>{i!==r&&(i=r,t[e]!==r&&null==r?(t[e]="",t.removeAttribute(e)):t[e]=r)};if(e in E.attributes)return r=>{const n=E.attributes[e](t,r);i!==n&&(i=n,null==n?t.removeAttribute(e):t.setAttribute(e,n))};{let e=!1;const n=r.cloneNode(!0);return r=>{i!==r&&(i=r,n.value!==r&&(null==r?(e&&(e=!1,t.removeAttributeNode(n)),n.value=r):(n.value=r,e||(e=!0,t.setAttributeNode(n)))))}}},any(t,e){const r={node:Ct,before:t},n=xt in t?"svg":"html";let i,a=!1;const s=o=>{switch(typeof o){case"string":case"number":case"boolean":a?i!==o&&(i=o,e[0].textContent=o):(a=!0,i=o,e=w(t.parentNode,e,[Et(t,o)],r));break;case"function":s(o(t));break;case"object":case"undefined":if(null==o){a=!1,e=w(t.parentNode,e,[],r);break}default:if(a=!1,i=o,L(o))if(0===o.length)e.length&&(e=w(t.parentNode,e,[],r));else switch(typeof o[0]){case"string":case"number":case"boolean":s({html:o});break;case"object":if(L(o[0])&&(o=o.concat.apply([],o)),Pt(o[0])){Promise.all(o).then(s);break}default:e=w(t.parentNode,e,o,r)}else(t=>"ELEMENT_NODE"in t)(o)?e=w(t.parentNode,e,11===o.nodeType?Tt.call(o.childNodes):[o],r):Pt(o)?o.then(s):"placeholder"in o?At(o,s):"text"in o?s(String(o.text)):"any"in o?s(o.any):"html"in o?e=w(t.parentNode,e,Tt.call(j([].concat(o.html).join(""),n).childNodes),r):s("length"in o?Tt.call(o):E.invoke(o,s))}};return s},text(t){let e;const r=n=>{if(e!==n){e=n;const i=typeof n;"object"===i&&n?Pt(n)?n.then(r):"placeholder"in n?At(n,r):r("text"in n?String(n.text):"any"in n?n.any:"html"in n?[].concat(n.html).join(""):"length"in n?Tt.call(n).join(""):E.invoke(n,r)):"function"===i?r(n(t)):t.textContent=null==n?"":n}};return r}};var Rt="object"!=typeof document,Lt=function(t){var e,r="raw",n=(e=(document.defaultView.navigator||{}).userAgent,/(Firefox|Safari)\/(\d+)/.test(e)&&!/(Chrom[eium]+|Android)\/(\d+)/.test(e)),a=!(r in t)||t.propertyIsEnumerable(r)||!Object.isFrozen(t.raw);if(n||a){var s={},o=function(t){for(var e=".",r=0;r<t.length;r++)e+=t[r].length+"."+t[r];return s[e]||(s[e]=t)};if(a)Lt=o;else{var l=new i;Lt=function(t){return l.get(t)||function(t,e){return l.set(t,e),e}(t,o(t))}}}else Rt=!0;return jt(t)};const Ft=jt;function jt(t){return Rt?t:Lt(t)}function zt(t){for(var e=arguments.length,r=[Ft(t)],n=1;n<e;)r.push(arguments[n++]);return r}const Nt=new i,Bt=t=>{let e,r,n;return function(){const i=zt.apply(null,arguments);return n!==i[0]?(n=i[0],r=new Ot(t),e=Vt(r.apply(r,i))):r.apply(r,i),e}},Ht=(t,e)=>{const r=e.indexOf(":");let n=Nt.get(t),i=e;return-1<r&&(i=e.slice(r+1),e=e.slice(0,r)||"html"),n||Nt.set(t,n={}),n[i]||(n[i]=Bt(e))},Vt=t=>{const e=t.childNodes,{length:r}=e;return 1===r?e[0]:r?new _t(e):t},Wt=(t,e)=>null==t?Bt(e||"html"):Ht(t,e||"html"),Ut=new i;function qt(t){const e=xt in this?"svg":"html",r=new Ot(e);Ut.set(this,{tagger:r,template:t}),this.textContent="",this.appendChild(r.apply(null,arguments))}const Zt=function(){const t=Ut.get(this),e=zt.apply(null,arguments);return t&&t.template===e[0]?t.tagger.apply(null,e):qt.apply(this,e),this},Xt=E.define,Gt=Ot.prototype;function Yt(t){return arguments.length<2?null==t?Bt("html"):"string"==typeof t?Yt.wire(null,t):"raw"in t?Bt("html")(t):"nodeType"in t?Yt.bind(t):Ht(t,"html"):("raw"in t?Bt("html"):Yt.wire).apply(null,arguments)}Yt.Component=I,Yt.bind=t=>Zt.bind(t),Yt.define=Xt,Yt.diff=w,Yt.hyper=Yt,Yt.observe=Mt,Yt.tagger=Gt,Yt.wire=Wt,Yt._={WeakMap:i,WeakSet:s},function(t){const e=new i,r=Object.create,n=(t,e)=>{const r={w:null,p:null};return e.set(t,r),r};Object.defineProperties(I,{for:{configurable:!0,value(t,a){return((t,e,a,s)=>{const o=e.get(t)||n(t,e);switch(typeof s){case"object":case"function":const e=o.w||(o.w=new i);return e.get(s)||((t,e,r)=>(t.set(e,r),r))(e,s,new t(a));default:const n=o.p||(o.p=r(null));return n[s]||(n[s]=new t(a))}})(this,e.get(t)||(t=>{const r=new S;return e.set(t,r),r})(t),t,null==a?"default":a)}}}),Object.defineProperties(I.prototype,{handleEvent:{value(t){const e=t.currentTarget;this["getAttribute"in e&&e.getAttribute("data-call")||"on"+t.type](t)}},html:M("html",t),svg:M("svg",t),state:M("state",(function(){return this.defaultState})),defaultState:{get:()=>({})},dispatch:{value(t,e){const{_wire$:r}=this;if(r){const n=new x(t,{bubbles:!0,cancelable:!0,detail:e});return n.component=this,(r.dispatchEvent?r:r.firstChild).dispatchEvent(n)}return!1}},setState:{value(t,e){const r=this.state,n="function"==typeof t?t.call(this,r):t;for(const t in n)r[t]=n[t];return!1!==e&&this.render(),this}}})}(Bt),Yt.placeholders={};const Qt=Yt,{wire:Jt,bind:Kt}=Yt,te=Qt.wire()`
	<svg class="placeholder_throbber" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 768 256" preserveAspectRatio="xMidYMid meet" width="100%" height="32px">
		<defs>
				<style>
				</style>
		</defs>
		<circle class="loading_dot" cx="32" cy="32" r="32" style="animation-delay:0s" />
		<circle class="loading_dot" cx="32" cy="32" r="32" style="animation-delay:.4s" />
		<circle class="loading_dot" cx="32" cy="32" r="32" style="animation-delay:.8s" />
	</svg>
`},7735:(t,e,r)=>{"use strict";r.d(e,{a:()=>s});var n=r(802),i=r(7375);class a extends n.w{async init(t){if(t&&this.countryCodes.has(t)){console.info(`[I18n.init] "${t}"`);const e=await this.requestTranslations(t);e&&(this.translations=e)}}get translations(){return this._translations?this._translations:new Map}set translations(t){t&&(this._translations=t)}resolveString(t){return t}resolveItemTitle(t){const e=this.translations.get(t);if(e&&void 0!==e.title)return e.title}resolveItemDescription(t){const e=this.translations.get(t);if(e&&void 0!==e.desc)return e.desc}async requestTranslations(t){if(!t||!this.countryCodes.has(t))return void console.warn(`[I18n.requestTranslations] country code not supported "${t}"`);const e=await fetch(`${i.Z}i18n/progression_${t}.json`);if(!e||!e.ok)return void console.error(`[I18n.requestTranslations] error getting  "${t}"`);const r=await e.json();if(r&&Array.isArray(r)){console.info(`[I18n.requestTranslations] loaded "${t}"`);return new Map(r)}}get countryCodes(){return this._countryCodes??=new Set(["en-US","cs-CZ","da-DK","de-DE","el-GR","es-ES","es-MX","fi-FI","fr-FR","hu-HU","it-IT","ja-JP","ko-KR","nb-NO","nl-NL","pl-PL","pt-BR","pt-PT","ru-RU","sv-SE","tr-TR","zh-CN","zh-TW"])}}const s=new a},6664:(t,e,r)=>{"use strict";r.d(e,{W:()=>a});var n=r(802),i=r(2165);class a extends n.w{constructor(t,e="Menu"){if(super(),!t||"string"!=typeof t)throw new Error("[MobileMicaMenu] eventString");if(!e||"string"!=typeof e)throw new Error("[MobileMicaMenu] title");this.eventString=t,this.title=e}toggle(){i.u.emit(`${this.eventString}`)}render(){return this.html`
			<button
				class="mica_mobile-menu_button"
				onclick=${()=>this.toggle()}
				title=${this.title}
			>${this.title}<span class="icon-masked icon-menu"></span></button>
		`}}},4136:(t,e,r)=>{"use strict";r.d(e,{v:()=>o});var n=r(7786),i=r(802),a=(r(631),r(2165));r(8406);class s extends i.w{get modals(){return this?._modals??(this._modals=new Set)}showView(t){const e=new l(t);this.modals.add(e),this.render(),document.body.style.overflow="hidden",history.pushState({},"Cylix Guide","")}closeView(t){this.modals.has(t)&&this.modals.delete(t),this.render(),document.body.style.overflow="auto"}render(){return this.modals.size?n.k9.bind(document.querySelector(".js--modals"))`
			<div class="modals_wrapper">${[...this.modals.values()].map((t=>t.render()))}</div>
		`:n.k9.bind(document.querySelector(".js--modals"))``}}const o=new s;class l extends i.w{constructor(t){super(),this.view=t,a.u.once("popstate",(()=>{o.closeView(this)}))}render(){return this.html`
			<div class="modal_clickout" onclick=${()=>o.closeView(this)}></div>
			<div class="modal_wrapper">
				<div class="modal_content">
					<button
						class="modal_close"
						onclick=${()=>o.closeView(this)}
					><div class="icon-masked icon-close"></div></button>
					${this?.view??"..."}
				</div>
			</div>
		`}}},631:(t,e,r)=>{"use strict";r.d(e,{X:()=>l});var n=r(7786),i=r(802),a=(r(3423),r(2165)),s=r(7735);r(5902);class o extends i.w{constructor(){if(super(),!window?.localStorage)return;try{const t=localStorage.getItem("user_settings");if(t){const e=JSON.parse(t);e.date&&console.log(`[Settings] loaded settings created "${new Date(e.dateCreated).toLocaleString()}", updated "${new Date(e.dateCreated).toLocaleString()}"`),e.data&&Array.isArray(e.data)?e.data=new Map(e.data):e.data=new Map,this._settings=e,e.data.has("countryCode")&&this.setLanguage(e.data.get("countryCode")),e.data.has("appScale")&&this.setAppScale(e.data.get("appScale")),e.data.has("textScale")&&this.setTextScale(e.data.get("textScale")),e.data.has("revealHidden")&&this.revealHidden(),e.data.has("userSort")&&this.setSort(e.data.get("userSort"))}else{let t;try{t=window.localStorage;const e="__storage_test__";t.setItem(e,e),t.removeItem(e)}catch(t){return console.warn("[Settings.constructor] localStorage not available!"),void(this.disabled=!0)}}}catch(t){console.error("[Settings.constructor]",t)}if(this._settings||(this._settings={dateCreated:(new Date).toISOString(),data:new Map}),!this.data.has("countryCode"))try{const t=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language;console.info(`[settings.i18n] init "${t}"`),s.a.countryCodes.has(t)&&this.setLanguage(t)}catch(t){console.error("[settings.i18n] init",t)}localStorage.getItem("userAppScale")&&localStorage.removeItem("userAppScale");localStorage.getItem("userTextScale")&&localStorage.removeItem("userTextScale");localStorage.getItem("revealHidden")&&localStorage.removeItem("revealHidden")}render(){return window?.localStorage?this.html`
			<div class="settings_wrapper">
				<section>
					<header>Accessibility</header>
					<div class="option_wrapper">
						<label for="appScale">Interface Scale: ${this.appScale}</label>
						<input class="show-value" type="range" id="appScale" name="appScale" value=${this.appScale} min="0.5" max="2" step="0.05"
							onchange=${t=>this.setAppScale(parseFloat(t?.target?.value??1))}
						>
					</div>
					<div class="option_wrapper">
						<label for="textScale">Text Scale: ${this.textScale}</label>
						<input class="show-value" type="range" id="textScale" name="textScale" value=${this.textScale} min="0.5" max="2" step="0.05"
							onchange=${t=>this.setTextScale(parseFloat(t?.target?.value??1))}
						>
					</div>
					<div class="option_wrapper">
						<label for="set-language">Language: ${this.countryCode??"(Default)"}</label>
						<select class="set-language" id="set-language" name="set-language" value=${this.countryCode}
							onchange=${t=>{this.setLanguage(t.target.value),this.render()}}
						>
							<option value="">Default</option>
							${[...s.a.countryCodes].map((t=>`<option value="${t}"${this.countryCode===t?" selected":""}>${t}</option>`))}
						</select
					</div>
				</section>
				${this.data.has("revealHidden")?n.k9.wire(this,":unspoiler")`
					<button
						class="hi-box"
						onclick=${()=>{this.data.has("revealHidden")&&(console.warn("[settings] Removing spoilers setting"),this.clearSetting("revealHidden"),this.render())}}
					>Hide Spoilers</button>
				`:""}
				<section>
					<header>Inventory</header>
					<div class="option_wrapper">
						<label for="pageSize">Page Size: ${this.pageSize}</label>
						<input class="show-value" type="number" id="pageSize" name="pageSize" value=${this.pageSize} min="10" max="1000" step="1"
							onchange=${t=>this.setPageSize(parseInt(t?.target?.value??100))}
						>
					</div>
				</section>
				<button
					class="hi-box"
					onclick=${()=>this.reset()}
				>Reset Settings</button>
			</div>
		`:"Your browser does not support localstorage, settings are not available."}advanced(){if("cylix.guide"!==window?.location?.hostname)return n.k9.wire(this,":advanced")`
			<section>
				<header>Advanced</header>
				<span>Do not modify advanced settings unless you know why to.</span><br>
				<label for="dbPath">dbPath:</label>
				<input type="text" id="dbPath" name="dbPath" minlength="0" maxlength="8" size="10"
					onchange=${t=>this.setDbPath(t.target.value)}
					placeholder=${this.data.get("dbPath")??"db"}
				>
				<br>
				<label for="pathCasing">Normalize paths to lowercase:</label>
				<input type="checkbox" id="pathCasing" name="pathCasing"
					onchange=${t=>this.setPathCasing(t.target.checked)}
					checked=${!0===this.data.get("pathCasing")}
				>
			</section>
		`}get data(){return this._settings.data}save(){try{const t=JSON.stringify({...this._settings,date:(new Date).toISOString(),data:Array.from(this.data)});t&&localStorage.setItem("user_settings",t)}catch(t){console.error("[Settings.save]",t)}}getSetting(t){if(this.data.has(t))return this.data.get(t)}setSetting(t,e){if(this.data.has(t)){if(this.data.get(t)===e)return}this.data.set(t,e),this.save()}clearSetting(t){this.data.delete(t),this.save()}setRootProperty(t,e){document.documentElement.style.setProperty(`--${t}`,`${e}`)}revealHidden(){this.setSetting("revealHidden",!0)}get countryCode(){return this.getSetting("countryCode")}get isTranslated(){return!!this.getSetting("countryCode")}setLanguage(t){if(console.info("[Settings.setLanguage]",t),!t&&this.data.has("countryCode"))return this.data.delete("countryCode"),void this.save();t&&s.a.countryCodes.has(t)&&(this.setSetting("countryCode",t),a.u.emit("Settings.setLanguage",t))}get appScale(){return this.getSetting("appScale")??1}setAppScale(t=1){const e=parseFloat(t??1);console.info(`[skimmer] settings -> appScale "${e}"`),this.setSetting("appScale",e),this.setRootProperty("app-size",`${e}rem`),this.render()}get textScale(){return this.getSetting("textScale")??1}setTextScale(t=1){const e=parseFloat(t??1);console.info(`[skimmer] settings -> textScale "${e}"`),this.setSetting("textScale",e),this.setRootProperty("app-font-size",`${e}rem`),this.render()}get pageSize(){return this.getSetting("pageSize")??100}setPageSize(t=100){let e=parseInt(t??100);e>1e3&&(e=1e3),e<10&&(e=10),console.info(`[Settings] pageSize "${e}"`),this.setSetting("pageSize",e),this.render()}setSort(t="alphanumeric"){console.info(`[Settings] setSort "${t}"`),this.setSetting("userSort",t)}setSortOrder(t=!1){console.info(`[Settings] setSortOrder "${t}"`),this.setSetting("userSortOrder",!!t)}reset(){this.data.clear(),localStorage.removeItem("user_settings"),console.warn("[Settings] Cleared settings. Refresh the page to take full effect.",this.data),this.render()}showSpoilers(){this.setSetting("revealHidden",!0),window.location.reload()}}const l=new o},3423:(t,e,r)=>{"use strict";r.d(e,{B:()=>s});var n=r(802);const i=t=>{try{return t&&"string"==typeof t?t.includes(" ")?encodeURIComponent(t.replaceAll(" ","-")):encodeURIComponent(t):""}catch(e){return encodeURIComponent(t)}};class a extends n.w{constructor(){super();const t=new URL(window?.location??"");this.params=new URLSearchParams(t?.search??"")}setSectionVisibility(t,e){"string"==typeof t&&"boolean"==typeof e&&(this.params.has(t)&&!e&&this.params.delete(t),e&&this.params.set(t,!0))}getSecionVisibility(t){if("string"==typeof t)return!!this.params.has(t)}setSecionSetting(t,e,{dash:r=!1}={}){try{if("string"!=typeof t||"string"!=typeof e)return;const n=this.getSecionSetting(t,{dash:r});if(n&&n===e)return;const a=r?i(t):encodeURIComponent(t),s=r?i(e):encodeURIComponent(e);this.params.set(a,s),history.replaceState({},"Skimmer",`?${this.params.toString()}`)}catch(t){console.error("[skimmer] setSecionSetting",t)}}getSecionSetting(t,{dash:e=!1}={}){try{if("string"!=typeof t)return;const r=e?i(t):encodeURIComponent(t);if(this.params.has(r)){const t=this.params.get(r);return e?(t=>{try{return t&&"string"==typeof t?t.includes("-")?decodeURIComponent(t.replaceAll("-"," ")):decodeURIComponent(t):""}catch(e){return decodeURIComponent(t)}})(t):decodeURIComponent(t)}return!1}catch(t){console.error("[skimmer] getSecionSetting",t)}}deleteSecionSetting(t){try{if("string"!=typeof t)return;const e=encodeURIComponent(t);this.params.has(e)&&(this.params.delete(t),history.replaceState({},"Skimmer",`?${this.params.toString()}`))}catch(t){console.error("[skimmer] deleteSecionSetting",t)}}}const s=new a},5959:(t,e,r)=>{"use strict";r.d(e,{B:()=>n});const n=(t,{includeExtension:e=!1}={})=>{if(!t||"string"!=typeof t)return;const r=t.split("/");if(!r.length)return t;if(1===r.length){if(t.includes(".")&&!e){const e=t.split(".");if(e.length>1)return e.slice(0,e.length-1).join("")}return t}const n=r[r.length-1];if(e)return n;if(n.includes(".")&&!e){const t=n.split(".");if(t.length>1)return t.slice(0,t.length-1).join(".")}return n}},8945:t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABBCAMAAAC5KTl3AAAAgVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABtFS1lAAAAK3RSTlMWi3QSa1uQOKBWCTwcb6V4gWInTWYOqQSGfa6XLyszmyABlFFJXySxQ0BGn2PQBgAAC4NJREFUWMMV1kWO5UAQRdFk5kwzs/33v8Cunr7ZUehKAdaRUAse99ozDjF5BqswrPKm7btzJ2tRziN3rMYXC236humIV5Our7nHWnVdFOBojW2XVnkeu1IZHNJH5OPHj9TjgVxBGBwAAmp60WoA1gBBvg3XMFhxUQ4KuLqx0CritYZPPXinsOqB7I76+OHaZlPzLEcftrqOlOwjeXvuEuH6t6emkaofgVUDIb4fEZB6CmRAeFCTq11lxbAgUyx4rXkqlH9I4bTUDRRVD1xjbqb9HyUBn7rhtr1x+x9Y0e3BdX31/loYvZaLxqnjbRuokz+pPG7WebnSNKE3yE6Tka4aDEDMVYr6Neq126c+ZR2nzzm3yyiC7PGWG/1uueqZudrVGYNdsgOMDvt1cI8CXu63QIcPvYNY8z870WwYazTS7DqpDEknZqS0AFXObWUxTaw0q5pnHlq4oQImakpLfJkmErdvAfhsc7lod0DVT4tuob25C0tQjzdiFObCz7U7eaKGP3s6yQVgQ/y+q+nY6K5dfV75iXzcNlGIP38aj22sVwtWWKMRb7B5HoHPaBvI1Ve5TSXATi66vV6utxsV+aZNFu+93VvlrG/oj8Wp67YT8l+Oq6PjwdGatFm7SEAP13kE0y9CEcf9qhtEWCMIq5AGq71moEAI9vrmFcmO8+7ZyDnmRN/VUaFkM2ce8KuBGFzDMmY6myLfQGra2ofgHhbJRXuRDZ4H+HmliWBHXQ0ysLGfv6FetbxtxzRgIZWjIsGVFl5imPXeyvVyayNek+dSWzjXd4t310YBdaF8sXeKs481PjsXbAtIru2+wHbv3GVh3sQY6Dnu6pF3pZ714VYdDi9A5GkXR/6xgaZN/tpQ8wVV3zeBuB+njoBNE4wjc+uA523ysXGd/P2sntmOb3OdHNWP5OVrxD3eJHdtH8QVkEIAqCor3hReR96yqt6PkTQfenllooQ447h6tOrnnuzwA8fMpq+jqg1oW8fTYYIncAYpVeTvkEFr/khQSbjoE8ykx9049OkE5MQEO9lC24tT7DwThQgf4Fhf8nGgAo3GYaON3crODpOr2pu5dBABz69t7F5yJBBo+r6QJdeLDWEoO7r1tceR3haA7gc7eZrCvpxSXXeKpo4P+hRixo9DeOFbqQVjKyWfBg9pnrEZKzK7R437YTTwhfoySG/YOCt3fs4aXlU3FjKortqQ6XyXaD0+Y/8VoqpyU9TRW45eN4oBxAH8Y/jLnNXfELJW+/p/MgO9Z+mBli2qqAP7dV/Arc2+YZRZwtBW8/p32y5ZsEuCS4O5AAgfR7Dde7zhiGfgvurQkfAXIrUG61rmxc2EZo18ph4vaWZI+QM0JdsbNlBJlPlwf9uguujQJy0j7TgTHdtRnjybTg55Hkk9S6l2rpYahumSewKHVosa1bh2Y6r9JGkdKvIDN/eeAwScrfjoLkCxWJuFZQ53FNP5w9XbQd1HhgHcVB/0fATG3sUUid1RTfc2+7pZVKldFSsaEK0v4k90tapQOk2HIbMhaJQtrUEL5+3sDanh8sOpbYRoQoqXWu6SQcUTQL9jzOrXNPWCJwXge4U7tlU1hkF012cAmvp8llQxf1IEMcw14pURxVOWATz4ITnYQjuF+vDXg5hgoiqXzO6mS91FQUBheURHIJxUeU1i3P0WOMpsm7vFYk0JJi/Ev+X3FwYD69cARPuP5GIc0PxoAFjcLRbNur0iMTrQmBBNYJ2ngU4x7SWfdTRl52Bqv7LmYW3C1CyTCPTHeWWIAM/Whm32COHsaj+2UQ739XB9t6NV0o9E9b7CW3XNiXzi9e0KiE+3rntukdIDBWrU2jsfQWuyFJRANxq8StHVv1JPy2C3Byco7qdNbASrnNXZ8G0L/Wp/pif4Ai9aEZ9Bb+TRx+REBdGlkF/s0dUdMSMr+6YCbuGxqPWdzcdqutvqkBzCksFcwAtjf55TeuH79M6AQa7r5PLeXxMFIlQKrXP9VJ275WGX+ptpf+tvTDBsecPnYQAlAWrVbRVJ7K2pRHwIjtSpbX96Y/lbKk6ZWXlBmh15r8yAWQsYxXgBOXYMAfHnUXF+rDqnB8bXDRtAn7bCziIqetSboK3NexMePvsCRLvmsoREA+kH8j4HWFpnNEaWgOmR7xyXHfTaz3slHc/YA6H6tl/L8d5tPcIwwD0tjvRaq3Y5BmYBSDClpv0VIX4s8D0XK3sPdpAb94HjPLkgboEz9EdZATW6ZdcmQvtKUwoWw+nAVKA7IcdY1UHnvNnIBplKci+knzewLz5/GGnzkGuuGky+0LTjtGBGR85EQICDqKChnm5pH3Z44nnWAk1YRdyu3g7QoFZ0h8jkr2ffjKmi+Qvsp+9GvNGZHmgW+YQAGUw7PPt8IPKbdy432vhKtRJjKWcSqq7helj81o3nfmaxVZ7Sqie8OOBk9WsyTD/ab7fQ5aWwQeJvnH6+ayo4IdIkOSBJjzXkgr+1TPhAx1AXDsxtCCj3TzQTLA1p782f7a8vdgPfwwrXmZxxbqo2h+6Zlo6mcMY4V7cFBOLm17VCvx9Qa2tAnkxEB+KYyQgbgAAnmNDOdOO6y2Cb+lke1MWQc9o+EMdQf7ubIG3Ek8GZ4k1PtGjbhwgOMPp5Em59JMVk/jU8/aF73Xcrd3UBNZyueQu0/xz2aGtZT8CRziOax2BWFXaeDzgZNV7oRtUzFoijoETf3xkAFFk3OMb7SgPh5wxU1+MygDIp9gZChH2qEcpgLh8pBIK90PXT1ZSU+ZExFK4Vm4GL/J7+K13lS5dQkW4HQwl6GX4yLqu8GhGWS2k75yel5IZIfFNdAL0NpKr2N5dQesBnxa42DLgJd6agS1jJsp1mO1dip7PU4P6diLLoTsZ4m3Q0QweiqeFfIGPLgF6v6mSVv6xe85VBD/1Mpe3AurRbcJ9SEo8NszNVy8rOCEexyIFcJRvYAlI/wk2I7r3p60FFLQXoH2q9xri/m41svRPbW0/EnPn2DWsmk0IiPpB60aa3+hiFfWuC8ZvWKEd9LxAk3HcOof6d77RewPaPsGw5lQAHcZN2vx1448u9pLfMLGQ3BSRRjBzRhKt7HcCw/7aqjtCDs5q76b4ZGphxN2th1WeXYlfnozX3ebKtX4Te11hf1tZP1diiGjIDAB1cR4Sb9rcFPC/nBARjlgDxd+tCBb1t91j71xJcgGjT3g/dUFnXXNiDrxkyoHANPk58ACPUa42hj8tgGrhiXOCmygxFZBiT2wyAJTDJ4wJEPmp6JIrDaSWYNqv4xH2wwdSTGYb3E0pXnS39nmLUsqoVZxzSoegqzd0o06wdbTXsaHGL+IF4JtIcXddTcD/dCd8hVf+fWPSV553kjMmMEULLS8HcgmptDO955dLGX78PjiDA6IsTHPm5IA6bc5ha0gaGkoEttXuxU11B2dOJ65/Q08tEF1+Y9cr2Nh/VECfQ33GyvR/gsdN1LuIeLpKMCAF2yRr769g9/4aJLZNRI71m2S91+Kp+Q0zubTcxoG2/6gm1Q79wkMj2XNO2ui7nWw8ULtu27CCvqTGX2PffD+xcwgh/TrOKvGZMM5jRFGDTn4NO/lwnDR/GY/waDZtkWDUPI0O8ztcFVqp6r2ZW+2bvkJ3raptYagFqu95VdIaml2CIp6CKets34x+fH2C+zH4cVFO7vj+6k2FU39PtRhWluYeZ3gDz1TLB9K2v7SD9gJU1qDxoRDrAWcrFGLyndhdtd0505+gEP79adK8fmFCWNYC+ahzVNcRH79E8dA1iqX/N0qq22xcOc20ALxLDspEj4QCFBQMgaIwoKbxr0Bd7Sbws6GiRK6tqoPfpiCle23axejRLyO1I+ahsEpWrzT5ZsCyS5RcY9jMfENFxSnhKsrfW8JHH6/rdQUMfmQPT3Uz9gY0C/pu1yuCnrPUvio0a1qMEosA/EwIzzid7cqsAAAAASUVORK5CYII="},1321:t=>{"use strict";t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGNsYXNzPSJpY29uIGljb24tdGFibGVyIGljb24tdGFibGVyLWNoZXZyb24tZG93biIgd2lkdGg9IjQ0IiBoZWlnaHQ9IjQ0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2U9IiNmZmYiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCI+DQogIDxwYXRoIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPg0KICA8cG9seWxpbmUgcG9pbnRzPSI2IDkgMTIgMTUgMTggOSIgLz4NCjwvc3ZnPg=="},191:(t,e,r)=>{"use strict";t.exports=r.p+"12959f6e9fd5c027f203.svg"},3479:(t,e,r)=>{"use strict";t.exports=r.p+"301c5d0e53123a42f08e.svg"},5261:(t,e,r)=>{"use strict";
/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */
function n(t){return t+.5|0}r.d(e,{ZP:()=>ks});const i=(t,e,r)=>Math.max(Math.min(t,r),e);function a(t){return i(n(2.55*t),0,255)}function s(t){return i(n(255*t),0,255)}function o(t){return i(n(t/2.55)/100,0,1)}function l(t){return i(n(100*t),0,100)}const c={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},h=[..."0123456789ABCDEF"],d=t=>h[15&t],u=t=>h[(240&t)>>4]+h[15&t],p=t=>(240&t)>>4==(15&t);function f(t){var e=(t=>p(t.r)&&p(t.g)&&p(t.b)&&p(t.a))(t)?d:u;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0}const m=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function g(t,e,r){const n=e*Math.min(r,1-r),i=(e,i=(e+t/30)%12)=>r-n*Math.max(Math.min(i-3,9-i,1),-1);return[i(0),i(8),i(4)]}function b(t,e,r){const n=(n,i=(n+t/60)%6)=>r-r*e*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function v(t,e,r){const n=g(t,1,.5);let i;for(e+r>1&&(i=1/(e+r),e*=i,r*=i),i=0;i<3;i++)n[i]*=1-e-r,n[i]+=e;return n}function y(t){const e=t.r/255,r=t.g/255,n=t.b/255,i=Math.max(e,r,n),a=Math.min(e,r,n),s=(i+a)/2;let o,l,c;return i!==a&&(c=i-a,l=s>.5?c/(2-i-a):c/(i+a),o=function(t,e,r,n,i){return t===i?(e-r)/n+(e<r?6:0):e===i?(r-t)/n+2:(t-e)/n+4}(e,r,n,c,i),o=60*o+.5),[0|o,l||0,s]}function w(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(s)}function _(t,e,r){return w(g,t,e,r)}function x(t){return(t%360+360)%360}function k(t){const e=m.exec(t);let r,n=255;if(!e)return;e[5]!==r&&(n=e[6]?a(+e[5]):s(+e[5]));const i=x(+e[2]),o=+e[3]/100,l=+e[4]/100;return r="hwb"===e[1]?function(t,e,r){return w(v,t,e,r)}(i,o,l):"hsv"===e[1]?function(t,e,r){return w(b,t,e,r)}(i,o,l):_(i,o,l),{r:r[0],g:r[1],b:r[2],a:n}}const S={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},I={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let M;function D(t){M||(M=function(){const t={},e=Object.keys(I),r=Object.keys(S);let n,i,a,s,o;for(n=0;n<e.length;n++){for(s=o=e[n],i=0;i<r.length;i++)a=r[i],o=o.replace(a,S[a]);a=parseInt(I[s],16),t[o]=[a>>16&255,a>>8&255,255&a]}return t}(),M.transparent=[0,0,0,0]);const e=M[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const C=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const A=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,P=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function $(t,e,r){if(t){let n=y(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,0===e?360:1)),n=_(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function T(t,e){return t?Object.assign(e||{},t):t}function E(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=s(t[3]))):(e=T(t,{r:0,g:0,b:0,a:1})).a=s(e.a),e}function O(t){return"r"===t.charAt(0)?function(t){const e=C.exec(t);let r,n,s,o=255;if(e){if(e[7]!==r){const t=+e[7];o=e[8]?a(t):i(255*t,0,255)}return r=+e[1],n=+e[3],s=+e[5],r=255&(e[2]?a(r):i(r,0,255)),n=255&(e[4]?a(n):i(n,0,255)),s=255&(e[6]?a(s):i(s,0,255)),{r,g:n,b:s,a:o}}}(t):k(t)}class R{constructor(t){if(t instanceof R)return t;const e=typeof t;let r;var n,i,a;"object"===e?r=E(t):"string"===e&&(a=(n=t).length,"#"===n[0]&&(4===a||5===a?i={r:255&17*c[n[1]],g:255&17*c[n[2]],b:255&17*c[n[3]],a:5===a?17*c[n[4]]:255}:7!==a&&9!==a||(i={r:c[n[1]]<<4|c[n[2]],g:c[n[3]]<<4|c[n[4]],b:c[n[5]]<<4|c[n[6]],a:9===a?c[n[7]]<<4|c[n[8]]:255})),r=i||D(t)||O(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=T(this._rgb);return t&&(t.a=o(t.a)),t}set rgb(t){this._rgb=E(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${o(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`):void 0;var t}hexString(){return this._valid?f(this._rgb):void 0}hslString(){return this._valid?function(t){if(!t)return;const e=y(t),r=e[0],n=l(e[1]),i=l(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${i}%, ${o(t.a)})`:`hsl(${r}, ${n}%, ${i}%)`}(this._rgb):void 0}mix(t,e){if(t){const r=this.rgb,n=t.rgb;let i;const a=e===i?.5:e,s=2*a-1,o=r.a-n.a,l=((s*o==-1?s:(s+o)/(1+s*o))+1)/2;i=1-l,r.r=255&l*r.r+i*n.r+.5,r.g=255&l*r.g+i*n.g+.5,r.b=255&l*r.b+i*n.b+.5,r.a=a*r.a+(1-a)*n.a,this.rgb=r}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,r){const n=P(o(t.r)),i=P(o(t.g)),a=P(o(t.b));return{r:s(A(n+r*(P(o(e.r))-n))),g:s(A(i+r*(P(o(e.g))-i))),b:s(A(a+r*(P(o(e.b))-a))),a:t.a+r*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new R(this.rgb)}alpha(t){return this._rgb.a=s(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=n(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return $(this._rgb,2,t),this}darken(t){return $(this._rgb,2,-t),this}saturate(t){return $(this._rgb,1,t),this}desaturate(t){return $(this._rgb,1,-t),this}rotate(t){return function(t,e){var r=y(t);r[0]=x(r[0]+e),r=_(r),t.r=r[0],t.g=r[1],t.b=r[2]}(this._rgb,t),this}}
/*!
 * Chart.js v4.3.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */
function L(){}const F=(()=>{let t=0;return()=>t++})();function j(t){return null==t}function z(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function N(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function B(t){return("number"==typeof t||t instanceof Number)&&isFinite(+t)}function H(t,e){return B(t)?t:e}function V(t,e){return void 0===t?e:t}const W=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function U(t,e,r){if(t&&"function"==typeof t.call)return t.apply(r,e)}function q(t,e,r,n){let i,a,s;if(z(t))if(a=t.length,n)for(i=a-1;i>=0;i--)e.call(r,t[i],i);else for(i=0;i<a;i++)e.call(r,t[i],i);else if(N(t))for(s=Object.keys(t),a=s.length,i=0;i<a;i++)e.call(r,t[s[i]],s[i])}function Z(t,e){let r,n,i,a;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(i=t[r],a=e[r],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function X(t){if(z(t))return t.map(X);if(N(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let i=0;for(;i<n;++i)e[r[i]]=X(t[r[i]]);return e}return t}function G(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function Y(t,e,r,n){if(!G(t))return;const i=e[t],a=r[t];N(i)&&N(a)?Q(i,a,n):e[t]=X(a)}function Q(t,e,r){const n=z(e)?e:[e],i=n.length;if(!N(t))return t;const a=(r=r||{}).merger||Y;let s;for(let e=0;e<i;++e){if(s=n[e],!N(s))continue;const i=Object.keys(s);for(let e=0,n=i.length;e<n;++e)a(i[e],t,s,r)}return t}function J(t,e){return Q(t,e,{merger:K})}function K(t,e,r){if(!G(t))return;const n=e[t],i=r[t];N(n)&&N(i)?J(n,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=X(i))}const tt={"":t=>t,x:t=>t.x,y:t=>t.y};function et(t,e){const r=tt[e]||(tt[e]=function(t){const e=function(t){const e=t.split("."),r=[];let n="";for(const t of e)n+=t,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}(t);return t=>{for(const r of e){if(""===r)break;t=t&&t[r]}return t}}(e));return r(t)}function rt(t){return t.charAt(0).toUpperCase()+t.slice(1)}const nt=t=>void 0!==t,it=t=>"function"==typeof t,at=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};const st=Math.PI,ot=2*st,lt=ot+st,ct=Number.POSITIVE_INFINITY,ht=st/180,dt=st/2,ut=st/4,pt=2*st/3,ft=Math.log10,mt=Math.sign;function gt(t,e,r){return Math.abs(t-e)<r}function bt(t){const e=Math.round(t);t=gt(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(ft(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function vt(t){return!isNaN(parseFloat(t))&&isFinite(t)}function yt(t,e,r){let n,i,a;for(n=0,i=t.length;n<i;n++)a=t[n][r],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function wt(t){return t*(st/180)}function _t(t){return t*(180/st)}function xt(t){if(!B(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function kt(t,e){const r=e.x-t.x,n=e.y-t.y,i=Math.sqrt(r*r+n*n);let a=Math.atan2(n,r);return a<-.5*st&&(a+=ot),{angle:a,distance:i}}function St(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function It(t,e){return(t-e+lt)%ot-st}function Mt(t){return(t%ot+ot)%ot}function Dt(t,e,r,n){const i=Mt(t),a=Mt(e),s=Mt(r),o=Mt(a-i),l=Mt(s-i),c=Mt(i-a),h=Mt(i-s);return i===a||i===s||n&&a===s||o>l&&c<h}function Ct(t,e,r){return Math.max(e,Math.min(r,t))}function At(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function Pt(t,e,r){r=r||(r=>t[r]<e);let n,i=t.length-1,a=0;for(;i-a>1;)n=a+i>>1,r(n)?a=n:i=n;return{lo:a,hi:i}}const $t=(t,e,r,n)=>Pt(t,r,n?n=>{const i=t[n][e];return i<r||i===r&&t[n+1][e]===r}:n=>t[n][e]<r),Tt=(t,e,r)=>Pt(t,r,(n=>t[n][e]>=r));const Et=["push","pop","shift","splice","unshift"];function Ot(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,i=n.indexOf(e);-1!==i&&n.splice(i,1),n.length>0||(Et.forEach((e=>{delete t[e]})),delete t._chartjs)}function Rt(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Lt="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;function Ft(t,e){let r=[],n=!1;return function(...i){r=i,n||(n=!0,Lt.call(window,(()=>{n=!1,t.apply(e,r)})))}}const jt=t=>"start"===t?"left":"end"===t?"right":"center",zt=(t,e,r)=>"start"===t?e:"end"===t?r:(e+r)/2;function Nt(t,e,r){const n=e.length;let i=0,a=n;if(t._sorted){const{iScale:s,_parsed:o}=t,l=s.axis,{min:c,max:h,minDefined:d,maxDefined:u}=s.getUserBounds();d&&(i=Ct(Math.min($t(o,s.axis,c).lo,r?n:$t(e,l,s.getPixelForValue(c)).lo),0,n-1)),a=u?Ct(Math.max($t(o,s.axis,h,!0).hi+1,r?0:$t(e,l,s.getPixelForValue(h),!0).hi+1),i,n)-i:n-i}return{start:i,count:a}}function Bt(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,i={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=i,!0;const a=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,i),a}const Ht=t=>0===t||1===t,Vt=(t,e,r)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*ot/r),Wt=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*ot/r)+1,Ut={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*dt),easeOutSine:t=>Math.sin(t*dt),easeInOutSine:t=>-.5*(Math.cos(st*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>Ht(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ht(t)?t:Vt(t,.075,.3),easeOutElastic:t=>Ht(t)?t:Wt(t,.075,.3),easeInOutElastic(t){const e=.1125;return Ht(t)?t:t<.5?.5*Vt(2*t,e,.45):.5+.5*Wt(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-Ut.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,r=2.75;return t<1/r?e*t*t:t<2/r?e*(t-=1.5/r)*t+.75:t<2.5/r?e*(t-=2.25/r)*t+.9375:e*(t-=2.625/r)*t+.984375},easeInOutBounce:t=>t<.5?.5*Ut.easeInBounce(2*t):.5*Ut.easeOutBounce(2*t-1)+.5};function qt(t){if(t&&"object"==typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function Zt(t){return qt(t)?t:new R(t)}function Xt(t){return qt(t)?t:new R(t).saturate(.5).darken(.1).hexString()}const Gt=["x","y","borderWidth","radius","tension"],Yt=["color","borderColor","backgroundColor"];const Qt=new Map;function Jt(t,e,r){return function(t,e){e=e||{};const r=t+JSON.stringify(e);let n=Qt.get(r);return n||(n=new Intl.NumberFormat(t,e),Qt.set(r,n)),n}(e,r).format(t)}const Kt={values:t=>z(t)?t:""+t,numeric(t,e,r){if(0===t)return"0";const n=this.chart.options.locale;let i,a=t;if(r.length>1){const e=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(e<1e-4||e>1e15)&&(i="scientific"),a=function(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t));return r}(t,r)}const s=ft(Math.abs(a)),o=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),Jt(t,n,l)},logarithmic(t,e,r){if(0===t)return"0";const n=r[e].significand||t/Math.pow(10,Math.floor(ft(t)));return[1,2,3,5,10,15].includes(n)||e>.8*r.length?Kt.numeric.call(this,t,e,r):""}};var te={formatters:Kt};const ee=Object.create(null),re=Object.create(null);function ne(t,e){if(!e)return t;const r=e.split(".");for(let e=0,n=r.length;e<n;++e){const n=r[e];t=t[n]||(t[n]=Object.create(null))}return t}function ie(t,e,r){return"string"==typeof e?Q(ne(t,e),r):Q(ne(t,""),e)}class ae{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>Xt(e.backgroundColor),this.hoverBorderColor=(t,e)=>Xt(e.borderColor),this.hoverColor=(t,e)=>Xt(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return ie(this,t,e)}get(t){return ne(this,t)}describe(t,e){return ie(re,t,e)}override(t,e){return ie(ee,t,e)}route(t,e,r,n){const i=ne(this,t),a=ne(this,r),s="_"+e;Object.defineProperties(i,{[s]:{value:i[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[s],e=a[n];return N(t)?Object.assign({},e,t):V(t,e)},set(t){this[s]=t}}})}apply(t){t.forEach((t=>t(this)))}}var se=new ae({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:Yt},numbers:{type:"number",properties:Gt}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:te.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function oe(t,e,r,n,i){let a=e[i];return a||(a=e[i]=t.measureText(i).width,r.push(i)),a>n&&(n=a),n}function le(t,e,r,n){let i=(n=n||{}).data=n.data||{},a=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(i=n.data={},a=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let s=0;const o=r.length;let l,c,h,d,u;for(l=0;l<o;l++)if(d=r[l],null==d||z(d)){if(z(d))for(c=0,h=d.length;c<h;c++)u=d[c],null==u||z(u)||(s=oe(t,i,a,s,u))}else s=oe(t,i,a,s,d);t.restore();const p=a.length/2;if(p>r.length){for(l=0;l<p;l++)delete i[a[l]];a.splice(0,p)}return s}function ce(t,e,r){const n=t.currentDevicePixelRatio,i=0!==r?Math.max(r/2,.5):0;return Math.round((e-i)*n)/n+i}function he(t,e){(e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function de(t,e,r,n){ue(t,e,r,n,null)}function ue(t,e,r,n,i){let a,s,o,l,c,h,d,u;const p=e.pointStyle,f=e.rotation,m=e.radius;let g=(f||0)*ht;if(p&&"object"==typeof p&&(a=p.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return t.save(),t.translate(r,n),t.rotate(g),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),void t.restore();if(!(isNaN(m)||m<=0)){switch(t.beginPath(),p){default:i?t.ellipse(r,n,i/2,m,0,0,ot):t.arc(r,n,m,0,ot),t.closePath();break;case"triangle":h=i?i/2:m,t.moveTo(r+Math.sin(g)*h,n-Math.cos(g)*m),g+=pt,t.lineTo(r+Math.sin(g)*h,n-Math.cos(g)*m),g+=pt,t.lineTo(r+Math.sin(g)*h,n-Math.cos(g)*m),t.closePath();break;case"rectRounded":c=.516*m,l=m-c,s=Math.cos(g+ut)*l,d=Math.cos(g+ut)*(i?i/2-c:l),o=Math.sin(g+ut)*l,u=Math.sin(g+ut)*(i?i/2-c:l),t.arc(r-d,n-o,c,g-st,g-dt),t.arc(r+u,n-s,c,g-dt,g),t.arc(r+d,n+o,c,g,g+dt),t.arc(r-u,n+s,c,g+dt,g+st),t.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*m,h=i?i/2:l,t.rect(r-h,n-l,2*h,2*l);break}g+=ut;case"rectRot":d=Math.cos(g)*(i?i/2:m),s=Math.cos(g)*m,o=Math.sin(g)*m,u=Math.sin(g)*(i?i/2:m),t.moveTo(r-d,n-o),t.lineTo(r+u,n-s),t.lineTo(r+d,n+o),t.lineTo(r-u,n+s),t.closePath();break;case"crossRot":g+=ut;case"cross":d=Math.cos(g)*(i?i/2:m),s=Math.cos(g)*m,o=Math.sin(g)*m,u=Math.sin(g)*(i?i/2:m),t.moveTo(r-d,n-o),t.lineTo(r+d,n+o),t.moveTo(r+u,n-s),t.lineTo(r-u,n+s);break;case"star":d=Math.cos(g)*(i?i/2:m),s=Math.cos(g)*m,o=Math.sin(g)*m,u=Math.sin(g)*(i?i/2:m),t.moveTo(r-d,n-o),t.lineTo(r+d,n+o),t.moveTo(r+u,n-s),t.lineTo(r-u,n+s),g+=ut,d=Math.cos(g)*(i?i/2:m),s=Math.cos(g)*m,o=Math.sin(g)*m,u=Math.sin(g)*(i?i/2:m),t.moveTo(r-d,n-o),t.lineTo(r+d,n+o),t.moveTo(r+u,n-s),t.lineTo(r-u,n+s);break;case"line":s=i?i/2:Math.cos(g)*m,o=Math.sin(g)*m,t.moveTo(r-s,n-o),t.lineTo(r+s,n+o);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(g)*(i?i/2:m),n+Math.sin(g)*m);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function pe(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function fe(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function me(t){t.restore()}function ge(t,e,r,n,i){if(!e)return t.lineTo(r.x,r.y);if("middle"===i){const n=(e.x+r.x)/2;t.lineTo(n,e.y),t.lineTo(n,r.y)}else"after"===i!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function be(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function ve(t,e,r,n,i){if(i.strikethrough||i.underline){const a=t.measureText(n),s=e-a.actualBoundingBoxLeft,o=e+a.actualBoundingBoxRight,l=r-a.actualBoundingBoxAscent,c=r+a.actualBoundingBoxDescent,h=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(s,h),t.lineTo(o,h),t.stroke()}}function ye(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function we(t,e,r,n,i,a={}){const s=z(e)?e:[e],o=a.strokeWidth>0&&""!==a.strokeColor;let l,c;for(t.save(),t.font=i.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),j(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,a),l=0;l<s.length;++l)c=s[l],a.backdrop&&ye(t,a.backdrop),o&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),j(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(c,r,n,a.maxWidth)),t.fillText(c,r,n,a.maxWidth),ve(t,r,n,c,a),n+=Number(i.lineHeight);t.restore()}function _e(t,e){const{x:r,y:n,w:i,h:a,radius:s}=e;t.arc(r+s.topLeft,n+s.topLeft,s.topLeft,-dt,st,!0),t.lineTo(r,n+a-s.bottomLeft),t.arc(r+s.bottomLeft,n+a-s.bottomLeft,s.bottomLeft,st,dt,!0),t.lineTo(r+i-s.bottomRight,n+a),t.arc(r+i-s.bottomRight,n+a-s.bottomRight,s.bottomRight,dt,0,!0),t.lineTo(r+i,n+s.topRight),t.arc(r+i-s.topRight,n+s.topRight,s.topRight,0,-dt,!0),t.lineTo(r+s.topLeft,n)}const xe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ke=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Se(t,e){const r=(""+t).match(xe);if(!r||"normal"===r[1])return 1.2*e;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100}return e*t}function Ie(t,e){const r={},n=N(e),i=n?Object.keys(e):e,a=N(t)?n?r=>V(t[r],t[e[r]]):e=>t[e]:()=>t;for(const t of i)r[t]=+a(t)||0;return r}function Me(t){return Ie(t,{top:"y",right:"x",bottom:"y",left:"x"})}function De(t){return Ie(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ce(t){const e=Me(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ae(t,e){t=t||{},e=e||se.font;let r=V(t.size,e.size);"string"==typeof r&&(r=parseInt(r,10));let n=V(t.style,e.style);n&&!(""+n).match(ke)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:V(t.family,e.family),lineHeight:Se(V(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:V(t.weight,e.weight),string:""};return i.string=function(t){return!t||j(t.size)||j(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(i),i}function Pe(t,e,r,n){let i,a,s,o=!0;for(i=0,a=t.length;i<a;++i)if(s=t[i],void 0!==s&&(void 0!==e&&"function"==typeof s&&(s=s(e),o=!1),void 0!==r&&z(s)&&(s=s[r%s.length],o=!1),void 0!==s))return n&&!o&&(n.cacheable=!1),s}function $e(t,e){return Object.assign(Object.create(t),e)}function Te(t,e=[""],r,n,i=(()=>t[0])){const a=r||t;void 0===n&&(n=Ve("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:n,_getTarget:i,override:r=>Te([r,...t],e,a,n)};return new Proxy(s,{deleteProperty:(e,r)=>(delete e[r],delete e._keys,delete t[0][r],!0),get:(r,n)=>Fe(r,n,(()=>function(t,e,r,n){let i;for(const a of e)if(i=Ve(Re(a,t),r),void 0!==i)return Le(t,i)?Be(r,n,t,i):i}(n,e,t,r))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>We(t).includes(e),ownKeys:t=>We(t),set(t,e,r){const n=t._storage||(t._storage=i());return t[e]=n[e]=r,delete t._keys,!0}})}function Ee(t,e,r,n){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:Oe(t,n),setContext:e=>Ee(t,e,r,n),override:i=>Ee(t.override(i),e,r,n)};return new Proxy(i,{deleteProperty:(e,r)=>(delete e[r],delete t[r],!0),get:(t,e,r)=>Fe(t,e,(()=>function(t,e,r){const{_proxy:n,_context:i,_subProxy:a,_descriptors:s}=t;let o=n[e];it(o)&&s.isScriptable(e)&&(o=function(t,e,r,n){const{_proxy:i,_context:a,_subProxy:s,_stack:o}=r;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(a,s||n);o.delete(t),Le(t,l)&&(l=Be(i._scopes,i,t,l));return l}(e,o,t,r));z(o)&&o.length&&(o=function(t,e,r,n){const{_proxy:i,_context:a,_subProxy:s,_descriptors:o}=r;if(void 0!==a.index&&n(t))return e[a.index%e.length];if(N(e[0])){const r=e,n=i._scopes.filter((t=>t!==r));e=[];for(const l of r){const r=Be(n,i,t,l);e.push(Ee(r,a,s&&s[t],o))}}return e}(e,o,t,s.isIndexable));Le(e,o)&&(o=Ee(o,i,a&&a[e],s));return o}(t,e,r))),getOwnPropertyDescriptor:(e,r)=>e._descriptors.allKeys?Reflect.has(t,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,r),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,r)=>Reflect.has(t,r),ownKeys:()=>Reflect.ownKeys(t),set:(e,r,n)=>(t[r]=n,delete e[r],!0)})}function Oe(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:r,indexable:n,isScriptable:it(r)?r:()=>r,isIndexable:it(n)?n:()=>n}}const Re=(t,e)=>t?t+rt(e):e,Le=(t,e)=>N(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function Fe(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const n=r();return t[e]=n,n}function je(t,e,r){return it(t)?t(e,r):t}const ze=(t,e)=>!0===t?e:"string"==typeof t?et(e,t):void 0;function Ne(t,e,r,n,i){for(const a of e){const e=ze(r,a);if(e){t.add(e);const a=je(e._fallback,r,i);if(void 0!==a&&a!==r&&a!==n)return a}else if(!1===e&&void 0!==n&&r!==n)return null}return!1}function Be(t,e,r,n){const i=e._rootScopes,a=je(e._fallback,r,n),s=[...t,...i],o=new Set;o.add(n);let l=He(o,s,r,a||r,n);return null!==l&&((void 0===a||a===r||(l=He(o,s,a,l,n),null!==l))&&Te(Array.from(o),[""],i,a,(()=>function(t,e,r){const n=t._getTarget();e in n||(n[e]={});const i=n[e];if(z(i)&&N(r))return r;return i||{}}(e,r,n))))}function He(t,e,r,n,i){for(;r;)r=Ne(t,e,r,n,i);return r}function Ve(t,e){for(const r of e){if(!r)continue;const e=r[t];if(void 0!==e)return e}}function We(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const r of t)for(const t of Object.keys(r).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}function Ue(t,e,r,n){const{iScale:i}=t,{key:a="r"}=this._parsing,s=new Array(n);let o,l,c,h;for(o=0,l=n;o<l;++o)c=o+r,h=e[c],s[o]={r:i.parse(et(h,a),c)};return s}const qe=Number.EPSILON||1e-14,Ze=(t,e)=>e<t.length&&!t[e].skip&&t[e],Xe=t=>"x"===t?"y":"x";function Ge(t,e,r,n){const i=t.skip?e:t,a=e,s=r.skip?e:r,o=St(a,i),l=St(s,a);let c=o/(o+l),h=l/(o+l);c=isNaN(c)?0:c,h=isNaN(h)?0:h;const d=n*c,u=n*h;return{previous:{x:a.x-d*(s.x-i.x),y:a.y-d*(s.y-i.y)},next:{x:a.x+u*(s.x-i.x),y:a.y+u*(s.y-i.y)}}}function Ye(t,e="x"){const r=Xe(e),n=t.length,i=Array(n).fill(0),a=Array(n);let s,o,l,c=Ze(t,0);for(s=0;s<n;++s)if(o=l,l=c,c=Ze(t,s+1),l){if(c){const t=c[e]-l[e];i[s]=0!==t?(c[r]-l[r])/t:0}a[s]=o?c?mt(i[s-1])!==mt(i[s])?0:(i[s-1]+i[s])/2:i[s-1]:i[s]}!function(t,e,r){const n=t.length;let i,a,s,o,l,c=Ze(t,0);for(let h=0;h<n-1;++h)l=c,c=Ze(t,h+1),l&&c&&(gt(e[h],0,qe)?r[h]=r[h+1]=0:(i=r[h]/e[h],a=r[h+1]/e[h],o=Math.pow(i,2)+Math.pow(a,2),o<=9||(s=3/Math.sqrt(o),r[h]=i*s*e[h],r[h+1]=a*s*e[h])))}(t,i,a),function(t,e,r="x"){const n=Xe(r),i=t.length;let a,s,o,l=Ze(t,0);for(let c=0;c<i;++c){if(s=o,o=l,l=Ze(t,c+1),!o)continue;const i=o[r],h=o[n];s&&(a=(i-s[r])/3,o[`cp1${r}`]=i-a,o[`cp1${n}`]=h-a*e[c]),l&&(a=(l[r]-i)/3,o[`cp2${r}`]=i+a,o[`cp2${n}`]=h+a*e[c])}}(t,a,e)}function Qe(t,e,r){return Math.max(Math.min(t,r),e)}function Je(t,e,r,n,i){let a,s,o,l;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)Ye(t,i);else{let r=n?t[t.length-1]:t[0];for(a=0,s=t.length;a<s;++a)o=t[a],l=Ge(r,o,t[Math.min(a+1,s-(n?0:1))%s],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,r=o}e.capBezierPoints&&function(t,e){let r,n,i,a,s,o=pe(t[0],e);for(r=0,n=t.length;r<n;++r)s=a,a=o,o=r<n-1&&pe(t[r+1],e),a&&(i=t[r],s&&(i.cp1x=Qe(i.cp1x,e.left,e.right),i.cp1y=Qe(i.cp1y,e.top,e.bottom)),o&&(i.cp2x=Qe(i.cp2x,e.left,e.right),i.cp2y=Qe(i.cp2y,e.top,e.bottom)))}(t,r)}function Ke(){return"undefined"!=typeof window&&"undefined"!=typeof document}function tr(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function er(t,e,r){let n;return"string"==typeof t?(n=parseInt(t,10),-1!==t.indexOf("%")&&(n=n/100*e.parentNode[r])):n=t,n}const rr=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);const nr=["top","right","bottom","left"];function ir(t,e,r){const n={};r=r?"-"+r:"";for(let i=0;i<4;i++){const a=nr[i];n[a]=parseFloat(t[e+"-"+a+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function ar(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,i=rr(r),a="border-box"===i.boxSizing,s=ir(i,"padding"),o=ir(i,"border","width"),{x:l,y:c,box:h}=function(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:i,offsetY:a}=n;let s,o,l=!1;if(((t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot))(i,a,t.target))s=i,o=a;else{const t=e.getBoundingClientRect();s=n.clientX-t.left,o=n.clientY-t.top,l=!0}return{x:s,y:o,box:l}}(t,r),d=s.left+(h&&o.left),u=s.top+(h&&o.top);let{width:p,height:f}=e;return a&&(p-=s.width+o.width,f-=s.height+o.height),{x:Math.round((l-d)/p*r.width/n),y:Math.round((c-u)/f*r.height/n)}}const sr=t=>Math.round(10*t)/10;function or(t,e,r,n){const i=rr(t),a=ir(i,"margin"),s=er(i.maxWidth,t,"clientWidth")||ct,o=er(i.maxHeight,t,"clientHeight")||ct,l=function(t,e,r){let n,i;if(void 0===e||void 0===r){const a=tr(t);if(a){const t=a.getBoundingClientRect(),s=rr(a),o=ir(s,"border","width"),l=ir(s,"padding");e=t.width-l.width-o.width,r=t.height-l.height-o.height,n=er(s.maxWidth,a,"clientWidth"),i=er(s.maxHeight,a,"clientHeight")}else e=t.clientWidth,r=t.clientHeight}return{width:e,height:r,maxWidth:n||ct,maxHeight:i||ct}}(t,e,r);let{width:c,height:h}=l;if("content-box"===i.boxSizing){const t=ir(i,"border","width"),e=ir(i,"padding");c-=e.width+t.width,h-=e.height+t.height}c=Math.max(0,c-a.width),h=Math.max(0,n?c/n:h-a.height),c=sr(Math.min(c,s,l.maxWidth)),h=sr(Math.min(h,o,l.maxHeight)),c&&!h&&(h=sr(c/2));return(void 0!==e||void 0!==r)&&n&&l.height&&h>l.height&&(h=l.height,c=sr(Math.floor(h*n))),{width:c,height:h}}function lr(t,e,r){const n=e||1,i=Math.floor(t.height*n),a=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const s=t.canvas;return s.style&&(r||!s.style.height&&!s.style.width)&&(s.style.height=`${t.height}px`,s.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==n||s.height!==i||s.width!==a)&&(t.currentDevicePixelRatio=n,s.height=i,s.width=a,t.ctx.setTransform(n,0,0,n,0,0),!0)}const cr=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(t){}return t}();function hr(t,e){const r=function(t,e){return rr(t).getPropertyValue(e)}(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function dr(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function ur(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:"middle"===n?r<.5?t.y:e.y:"after"===n?r<1?t.y:e.y:r>0?e.y:t.y}}function pr(t,e,r,n){const i={x:t.cp2x,y:t.cp2y},a={x:e.cp1x,y:e.cp1y},s=dr(t,i,r),o=dr(i,a,r),l=dr(a,e,r),c=dr(s,o,r),h=dr(o,l,r);return dr(c,h,r)}function fr(t,e,r){return t?function(t,e){return{x:r=>t+t+e-r,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,r):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function mr(t,e){let r,n;"ltr"!==e&&"rtl"!==e||(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function gr(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function br(t){return"angle"===t?{between:Dt,compare:It,normalize:Mt}:{between:At,compare:(t,e)=>t-e,normalize:t=>t}}function vr({start:t,end:e,count:r,loop:n,style:i}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r==0,style:i}}function yr(t,e,r){if(!r)return[t];const{property:n,start:i,end:a}=r,s=e.length,{compare:o,between:l,normalize:c}=br(n),{start:h,end:d,loop:u,style:p}=function(t,e,r){const{property:n,start:i,end:a}=r,{between:s,normalize:o}=br(n),l=e.length;let c,h,{start:d,end:u,loop:p}=t;if(p){for(d+=l,u+=l,c=0,h=l;c<h&&s(o(e[d%l][n]),i,a);++c)d--,u--;d%=l,u%=l}return u<d&&(u+=l),{start:d,end:u,loop:p,style:t.style}}(t,e,r),f=[];let m,g,b,v=!1,y=null;const w=()=>v||l(i,b,m)&&0!==o(i,b),_=()=>!v||0===o(a,m)||l(a,b,m);for(let t=h,r=h;t<=d;++t)g=e[t%s],g.skip||(m=c(g[n]),m!==b&&(v=l(m,i,a),null===y&&w()&&(y=0===o(m,i)?t:r),null!==y&&_()&&(f.push(vr({start:y,end:t,loop:u,count:s,style:p})),y=null),r=t,b=m));return null!==y&&f.push(vr({start:y,end:d,loop:u,count:s,style:p})),f}function wr(t,e){const r=[],n=t.segments;for(let i=0;i<n.length;i++){const a=yr(n[i],t.points,e);a.length&&r.push(...a)}return r}function _r(t,e,r,n){return n&&n.setContext&&r?function(t,e,r,n){const i=t._chart.getContext(),a=xr(t.options),{_datasetIndex:s,options:{spanGaps:o}}=t,l=r.length,c=[];let h=a,d=e[0].start,u=d;function p(t,e,n,i){const a=o?-1:1;if(t!==e){for(t+=l;r[t%l].skip;)t-=a;for(;r[e%l].skip;)e+=a;t%l!=e%l&&(c.push({start:t%l,end:e%l,loop:n,style:i}),h=i,d=e%l)}}for(const t of e){d=o?d:t.start;let e,a=r[d%l];for(u=d+1;u<=t.end;u++){const o=r[u%l];e=xr(n.setContext($e(i,{type:"segment",p0:a,p1:o,p0DataIndex:(u-1)%l,p1DataIndex:u%l,datasetIndex:s}))),kr(e,h)&&p(d,u-1,t.loop,h),a=o,h=e}d<u-1&&p(d,u-1,t.loop,h)}return c}(t,e,r,n):e}function xr(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function kr(t,e){if(!e)return!1;const r=[],n=function(t,e){return qt(e)?(r.includes(e)||r.push(e),r.indexOf(e)):e};return JSON.stringify(t,n)!==JSON.stringify(e,n)}
/*!
 * Chart.js v4.3.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */
class Sr{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,r,n){const i=e.listeners[n],a=e.duration;i.forEach((n=>n({chart:t,initial:e.initial,numSteps:a,currentStep:Math.min(r-e.start,a)})))}_refresh(){this._request||(this._running=!0,this._request=Lt.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(t=Date.now()){let e=0;this._charts.forEach(((r,n)=>{if(!r.running||!r.items.length)return;const i=r.items;let a,s=i.length-1,o=!1;for(;s>=0;--s)a=i[s],a._active?(a._total>r.duration&&(r.duration=a._total),a.tick(t),o=!0):(i[s]=i[i.length-1],i.pop());o&&(n.draw(),this._notify(n,r,t,"progress")),i.length||(r.running=!1,this._notify(n,r,t,"complete"),r.initial=!1),e+=i.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let r=e.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,r)),r}listen(t,e,r){this._getAnims(t).listeners[e].push(r)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const r=e.items;let n=r.length-1;for(;n>=0;--n)r[n].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ir=new Sr;const Mr="transparent",Dr={boolean:(t,e,r)=>r>.5?e:t,color(t,e,r){const n=Zt(t||Mr),i=n.valid&&Zt(e||Mr);return i&&i.valid?i.mix(n,r).hexString():e},number:(t,e,r)=>t+(e-t)*r};class Cr{constructor(t,e,r,n){const i=e[r];n=Pe([t.to,n,i,t.from]);const a=Pe([t.from,i,n]);this._active=!0,this._fn=t.fn||Dr[t.type||typeof a],this._easing=Ut[t.easing]||Ut.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=r,this._from=a,this._to=n,this._promises=void 0}active(){return this._active}update(t,e,r){if(this._active){this._notify(!1);const n=this._target[this._prop],i=r-this._start,a=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=Pe([t.to,e,n,t.from]),this._from=Pe([t.from,n,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,r=this._duration,n=this._prop,i=this._from,a=this._loop,s=this._to;let o;if(this._active=i!==s&&(a||e<r),!this._active)return this._target[n]=s,void this._notify(!0);e<0?this._target[n]=i:(o=e/r%2,o=a&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[n]=this._fn(i,s,o))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,r)=>{t.push({res:e,rej:r})}))}_notify(t){const e=t?"res":"rej",r=this._promises||[];for(let t=0;t<r.length;t++)r[t][e]()}}class Ar{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!N(t))return;const e=Object.keys(se.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach((n=>{const i=t[n];if(!N(i))return;const a={};for(const t of e)a[t]=i[t];(z(i.properties)&&i.properties||[n]).forEach((t=>{t!==n&&r.has(t)||r.set(t,a)}))}))}_animateOptions(t,e){const r=e.options,n=function(t,e){if(!e)return;let r=t.options;if(!r)return void(t.options=e);r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}}));return r}(t,r);if(!n)return[];const i=this._createAnimations(n,r);return r.$shared&&function(t,e){const r=[],n=Object.keys(e);for(let e=0;e<n.length;e++){const i=t[n[e]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}(t.options.$animations,r).then((()=>{t.options=r}),(()=>{})),i}_createAnimations(t,e){const r=this._properties,n=[],i=t.$animations||(t.$animations={}),a=Object.keys(e),s=Date.now();let o;for(o=a.length-1;o>=0;--o){const l=a[o];if("$"===l.charAt(0))continue;if("options"===l){n.push(...this._animateOptions(t,e));continue}const c=e[l];let h=i[l];const d=r.get(l);if(h){if(d&&h.active()){h.update(d,c,s);continue}h.cancel()}d&&d.duration?(i[l]=h=new Cr(d,t,l,c),n.push(h)):t[l]=c}return n}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const r=this._createAnimations(t,e);return r.length?(Ir.add(this._chart,r),!0):void 0}}function Pr(t,e){const r=t&&t.options||{},n=r.reverse,i=void 0===r.min?e:0,a=void 0===r.max?e:0;return{start:n?a:i,end:n?i:a}}function $r(t,e){const r=[],n=t._getSortedDatasetMetas(e);let i,a;for(i=0,a=n.length;i<a;++i)r.push(n[i].index);return r}function Tr(t,e,r,n={}){const i=t.keys,a="single"===n.mode;let s,o,l,c;if(null!==e){for(s=0,o=i.length;s<o;++s){if(l=+i[s],l===r){if(n.all)continue;break}c=t.values[l],B(c)&&(a||0===e||mt(e)===mt(c))&&(e+=c)}return e}}function Er(t,e){const r=t&&t.options.stacked;return r||void 0===r&&void 0!==e.stack}function Or(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function Rr(t,e,r,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const e=t[i.index];if(r&&e>0||!r&&e<0)return i.index}return null}function Lr(t,e){const{chart:r,_cachedMeta:n}=t,i=r._stacks||(r._stacks={}),{iScale:a,vScale:s,index:o}=n,l=a.axis,c=s.axis,h=function(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}(a,s,n),d=e.length;let u;for(let t=0;t<d;++t){const r=e[t],{[l]:a,[c]:d}=r;u=(r._stacks||(r._stacks={}))[c]=Or(i,h,a),u[o]=d,u._top=Rr(u,s,!0,n.type),u._bottom=Rr(u,s,!1,n.type);(u._visualValues||(u._visualValues={}))[o]=d}}function Fr(t,e){const r=t.scales;return Object.keys(r).filter((t=>r[t].axis===e)).shift()}function jr(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[n]||void 0===e[n][r])return;delete e[n][r],void 0!==e[n]._visualValues&&void 0!==e[n]._visualValues[r]&&delete e[n]._visualValues[r]}}}const zr=t=>"reset"===t||"none"===t,Nr=(t,e)=>e?t:Object.assign({},t);class Br{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Er(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&jr(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,r=this.getDataset(),n=(t,e,r,n)=>"x"===t?e:"r"===t?n:r,i=e.xAxisID=V(r.xAxisID,Fr(t,"x")),a=e.yAxisID=V(r.yAxisID,Fr(t,"y")),s=e.rAxisID=V(r.rAxisID,Fr(t,"r")),o=e.indexAxis,l=e.iAxisID=n(o,i,a,s),c=e.vAxisID=n(o,a,i,s);e.xScale=this.getScaleForId(i),e.yScale=this.getScaleForId(a),e.rScale=this.getScaleForId(s),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Ot(this._data,this),t._stacked&&jr(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),r=this._data;if(N(e))this._data=function(t){const e=Object.keys(t),r=new Array(e.length);let n,i,a;for(n=0,i=e.length;n<i;++n)a=e[n],r[n]={x:a,y:t[a]};return r}(e);else if(r!==e){if(r){Ot(r,this);const t=this._cachedMeta;jr(t),t._parsed=[]}e&&Object.isExtensible(e)&&(i=this,(n=e)._chartjs?n._chartjs.listeners.push(i):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),Et.forEach((t=>{const e="_onData"+rt(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...t){const i=r.apply(this,t);return n._chartjs.listeners.forEach((r=>{"function"==typeof r[e]&&r[e](...t)})),i}})})))),this._syncList=[],this._data=e}var n,i}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,r=this.getDataset();let n=!1;this._dataCheck();const i=e._stacked;e._stacked=Er(e.vScale,e),e.stack!==r.stack&&(n=!0,jr(e),e.stack=r.stack),this._resyncElements(t),(n||i!==e._stacked)&&Lr(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:r,_data:n}=this,{iScale:i,_stacked:a}=r,s=i.axis;let o,l,c,h=0===t&&e===n.length||r._sorted,d=t>0&&r._parsed[t-1];if(!1===this._parsing)r._parsed=n,r._sorted=!0,c=n;else{c=z(n[t])?this.parseArrayData(r,n,t,e):N(n[t])?this.parseObjectData(r,n,t,e):this.parsePrimitiveData(r,n,t,e);const i=()=>null===l[s]||d&&l[s]<d[s];for(o=0;o<e;++o)r._parsed[o+t]=l=c[o],h&&(i()&&(h=!1),d=l);r._sorted=h}a&&Lr(this,c)}parsePrimitiveData(t,e,r,n){const{iScale:i,vScale:a}=t,s=i.axis,o=a.axis,l=i.getLabels(),c=i===a,h=new Array(n);let d,u,p;for(d=0,u=n;d<u;++d)p=d+r,h[d]={[s]:c||i.parse(l[p],p),[o]:a.parse(e[p],p)};return h}parseArrayData(t,e,r,n){const{xScale:i,yScale:a}=t,s=new Array(n);let o,l,c,h;for(o=0,l=n;o<l;++o)c=o+r,h=e[c],s[o]={x:i.parse(h[0],c),y:a.parse(h[1],c)};return s}parseObjectData(t,e,r,n){const{xScale:i,yScale:a}=t,{xAxisKey:s="x",yAxisKey:o="y"}=this._parsing,l=new Array(n);let c,h,d,u;for(c=0,h=n;c<h;++c)d=c+r,u=e[d],l[c]={x:i.parse(et(u,s),d),y:a.parse(et(u,o),d)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,r){const n=this.chart,i=this._cachedMeta,a=e[t.axis];return Tr({keys:$r(n,!0),values:e._stacks[t.axis]._visualValues},a,i.index,{mode:r})}updateRangeFromParsed(t,e,r,n){const i=r[e.axis];let a=null===i?NaN:i;const s=n&&r._stacks[e.axis];n&&s&&(n.values=s,a=Tr(n,i,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,e){const r=this._cachedMeta,n=r._parsed,i=r._sorted&&t===r.iScale,a=n.length,s=this._getOtherScale(t),o=((t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:$r(r,!0),values:null})(e,r,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:h}=function(t){const{min:e,max:r,minDefined:n,maxDefined:i}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?r:Number.POSITIVE_INFINITY}}(s);let d,u;function p(){u=n[d];const e=u[s.axis];return!B(u[t.axis])||c>e||h<e}for(d=0;d<a&&(p()||(this.updateRangeFromParsed(l,t,u,o),!i));++d);if(i)for(d=a-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(l,t,u,o);break}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,r=[];let n,i,a;for(n=0,i=e.length;n<i;++n)a=e[n][t.axis],B(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,r=e.iScale,n=e.vScale,i=this.getParsed(t);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:n?""+n.getLabelForValue(i[n.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,r,n,i;return N(t)?(e=t.top,r=t.right,n=t.bottom,i=t.left):e=r=n=i=t,{top:e,right:r,bottom:n,left:i,disabled:!1===t}}(V(this.options.clip,function(t,e,r){if(!1===r)return!1;const n=Pr(t,r),i=Pr(e,r);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,r=this._cachedMeta,n=r.data||[],i=e.chartArea,a=[],s=this._drawStart||0,o=this._drawCount||n.length-s,l=this.options.drawActiveElementsOnTop;let c;for(r.dataset&&r.dataset.draw(t,i,s,o),c=s;c<s+o;++c){const e=n[c];e.hidden||(e.active&&l?a.push(e):e.draw(t,i))}for(c=0;c<a.length;++c)a[c].draw(t,i)}getStyle(t,e){const r=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,e,r){const n=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];i=e.$context||(e.$context=function(t,e,r){return $e(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),i.parsed=this.getParsed(t),i.raw=n.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=function(t,e){return $e(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=n,i.index=i.datasetIndex=this.index;return i.active=!!e,i.mode=r,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",r){const n="active"===e,i=this._cachedDataOpts,a=t+"-"+e,s=i[a],o=this.enableOptionSharing&&nt(r);if(s)return Nr(s,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,t),h=n?[`${t}Hover`,"hover",t,""]:[t,""],d=l.getOptionScopes(this.getDataset(),c),u=Object.keys(se.elements[t]),p=l.resolveNamedOptions(d,u,(()=>this.getContext(r,n,e)),h);return p.$shared&&(p.$shared=o,i[a]=Object.freeze(Nr(p,o))),p}_resolveAnimations(t,e,r){const n=this.chart,i=this._cachedDataOpts,a=`animation-${e}`,s=i[a];if(s)return s;let o;if(!1!==n.options.animation){const n=this.chart.config,i=n.datasetAnimationScopeKeys(this._type,e),a=n.getOptionScopes(this.getDataset(),i);o=n.createResolver(a,this.getContext(t,r,e))}const l=new Ar(n,o&&o.animations);return o&&o._cacheable&&(i[a]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||zr(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const r=this.resolveDataElementOptions(t,e),n=this._sharedOptions,i=this.getSharedOptions(r),a=this.includeOptions(e,i)||i!==n;return this.updateSharedOptions(i,e,r),{sharedOptions:i,includeOptions:a}}updateElement(t,e,r,n){zr(n)?Object.assign(t,r):this._resolveAnimations(e,n).update(t,r)}updateSharedOptions(t,e,r){t&&!zr(e)&&this._resolveAnimations(void 0,e).update(t,r)}_setStyle(t,e,r,n){t.active=n;const i=this.getStyle(e,n);this._resolveAnimations(e,r,n).update(t,{options:!n&&this.getSharedOptions(i)||i})}removeHoverStyle(t,e,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,e,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,r=this._cachedMeta.data;for(const[t,e,r]of this._syncList)this[t](e,r);this._syncList=[];const n=r.length,i=e.length,a=Math.min(i,n);a&&this.parse(0,a),i>n?this._insertElements(n,i-n,t):i<n&&this._removeElements(i,n-i)}_insertElements(t,e,r=!0){const n=this._cachedMeta,i=n.data,a=t+e;let s;const o=t=>{for(t.length+=e,s=t.length-1;s>=a;s--)t[s]=t[s-e]};for(o(i),s=t;s<a;++s)i[s]=new this.dataElementType;this._parsing&&o(n._parsed),this.parse(t,e),r&&this.updateElements(i,t,e,"reset")}updateElements(t,e,r,n){}_removeElements(t,e){const r=this._cachedMeta;if(this._parsing){const n=r._parsed.splice(t,e);r._stacked&&jr(r,n)}r.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,r,n]=t;this[e](r,n)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Hr(t){const e=t.iScale,r=function(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let e=0,i=r.length;e<i;e++)n=n.concat(r[e].controller.getAllParsedValues(t));t._cache.$bar=Rt(n.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let n,i,a,s,o=e._length;const l=()=>{32767!==a&&-32768!==a&&(nt(s)&&(o=Math.min(o,Math.abs(a-s)||o)),s=a)};for(n=0,i=r.length;n<i;++n)a=e.getPixelForValue(r[n]),l();for(s=void 0,n=0,i=e.ticks.length;n<i;++n)a=e.getPixelForTick(n),l();return o}function Vr(t,e,r,n){return z(t)?function(t,e,r,n){const i=r.parse(t[0],n),a=r.parse(t[1],n),s=Math.min(i,a),o=Math.max(i,a);let l=s,c=o;Math.abs(s)>Math.abs(o)&&(l=o,c=s),e[r.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:a,min:s,max:o}}(t,e,r,n):e[r.axis]=r.parse(t,n),e}function Wr(t,e,r,n){const i=t.iScale,a=t.vScale,s=i.getLabels(),o=i===a,l=[];let c,h,d,u;for(c=r,h=r+n;c<h;++c)u=e[c],d={},d[i.axis]=o||i.parse(s[c],c),l.push(Vr(u,d,a,c));return l}function Ur(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function qr(t,e,r,n){let i=e.borderSkipped;const a={};if(!i)return void(t.borderSkipped=a);if(!0===i)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:o,reverse:l,top:c,bottom:h}=function(t){let e,r,n,i,a;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(i="end",a="start"):(i="start",a="end"),{start:r,end:n,reverse:e,top:i,bottom:a}}(t);"middle"===i&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?i=c:(r._bottom||0)===n?i=h:(a[Zr(h,s,o,l)]=!0,i=c)),a[Zr(i,s,o,l)]=!0,t.borderSkipped=a}function Zr(t,e,r,n){var i,a,s;return n?(s=r,t=Xr(t=(i=t)===(a=e)?s:i===s?a:i,r,e)):t=Xr(t,e,r),t}function Xr(t,e,r){return"start"===t?e:"end"===t?r:t}function Gr(t,{inflateAmount:e},r){t.inflateAmount="auto"===e?1===r?.33:0:e}class Yr extends Br{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:r,color:n}}=t.legend.options;return e.labels.map(((e,i)=>{const a=t.getDatasetMeta(0).controller.getStyle(i);return{text:e,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:n,lineWidth:a.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(i),index:i}}))}return[]}},onClick(t,e,r){r.chart.toggleDataVisibility(e.index),r.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const r=this.getDataset().data,n=this._cachedMeta;if(!1===this._parsing)n._parsed=r;else{let i,a,s=t=>+r[t];if(N(r[t])){const{key:t="value"}=this._parsing;s=e=>+et(r[e],t)}for(i=t,a=t+e;i<a;++i)n._parsed[i]=s(i)}}_getRotation(){return wt(this.options.rotation-90)}_getCircumference(){return wt(this.options.circumference)}_getRotationExtents(){let t=ot,e=-ot;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const n=this.chart.getDatasetMeta(r).controller,i=n._getRotation(),a=n._getCircumference();t=Math.min(t,i),e=Math.max(e,i+a)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:r}=e,n=this._cachedMeta,i=n.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,s=Math.max((Math.min(r.width,r.height)-a)/2,0),o=Math.min((l=this.options.cutout,c=s,"string"==typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const h=this._getRingWeight(this.index),{circumference:d,rotation:u}=this._getRotationExtents(),{ratioX:p,ratioY:f,offsetX:m,offsetY:g}=function(t,e,r){let n=1,i=1,a=0,s=0;if(e<ot){const o=t,l=o+e,c=Math.cos(o),h=Math.sin(o),d=Math.cos(l),u=Math.sin(l),p=(t,e,n)=>Dt(t,o,l,!0)?1:Math.max(e,e*r,n,n*r),f=(t,e,n)=>Dt(t,o,l,!0)?-1:Math.min(e,e*r,n,n*r),m=p(0,c,d),g=p(dt,h,u),b=f(st,c,d),v=f(st+dt,h,u);n=(m-b)/2,i=(g-v)/2,a=-(m+b)/2,s=-(g+v)/2}return{ratioX:n,ratioY:i,offsetX:a,offsetY:s}}(u,d,o),b=(r.width-a)/p,v=(r.height-a)/f,y=Math.max(Math.min(b,v)/2,0),w=W(this.options.radius,y),_=(w-Math.max(w*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=m*w,this.offsetY=g*w,n.total=this.calculateTotal(),this.outerRadius=w-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*h,0),this.updateElements(i,0,i.length,t)}_circumference(t,e){const r=this.options,n=this._cachedMeta,i=this._getCircumference();return e&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||null===n._parsed[t]||n.data[t].hidden?0:this.calculateCircumference(n._parsed[t]*i/ot)}updateElements(t,e,r,n){const i="reset"===n,a=this.chart,s=a.chartArea,o=a.options.animation,l=(s.left+s.right)/2,c=(s.top+s.bottom)/2,h=i&&o.animateScale,d=h?0:this.innerRadius,u=h?0:this.outerRadius,{sharedOptions:p,includeOptions:f}=this._getSharedOptions(e,n);let m,g=this._getRotation();for(m=0;m<e;++m)g+=this._circumference(m,i);for(m=e;m<e+r;++m){const e=this._circumference(m,i),r=t[m],a={x:l+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+e,circumference:e,outerRadius:u,innerRadius:d};f&&(a.options=p||this.resolveDataElementOptions(m,r.active?"active":n)),g+=e,this.updateElement(r,m,a,n)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let r,n=0;for(r=0;r<e.length;r++){const i=t._parsed[r];null===i||isNaN(i)||!this.chart.getDataVisibility(r)||e[r].hidden||(n+=Math.abs(i))}return n}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?ot*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,r=this.chart,n=r.data.labels||[],i=Jt(e._parsed[t],r.options.locale);return{label:n[t]||"",value:i}}getMaxBorderWidth(t){let e=0;const r=this.chart;let n,i,a,s,o;if(!t)for(n=0,i=r.data.datasets.length;n<i;++n)if(r.isDatasetVisible(n)){a=r.getDatasetMeta(n),t=a.data,s=a.controller;break}if(!t)return 0;for(n=0,i=t.length;n<i;++n)o=s.resolveDataElementOptions(n),"inner"!==o.borderAlign&&(e=Math.max(e,o.borderWidth||0,o.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let r=0,n=t.length;r<n;++r){const t=this.resolveDataElementOptions(r);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(e+=this._getRingWeight(r));return e}_getRingWeight(t){return Math.max(V(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Qr extends Br{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:r,color:n}}=t.legend.options;return e.labels.map(((e,i)=>{const a=t.getDatasetMeta(0).controller.getStyle(i);return{text:e,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:n,lineWidth:a.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(i),index:i}}))}return[]}},onClick(t,e,r){r.chart.toggleDataVisibility(e.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,r=this.chart,n=r.data.labels||[],i=Jt(e._parsed[t].r,r.options.locale);return{label:n[t]||"",value:i}}parseObjectData(t,e,r,n){return Ue.bind(this)(t,e,r,n)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(((t,r)=>{const n=this.getParsed(r).r;!isNaN(n)&&this.chart.getDataVisibility(r)&&(n<e.min&&(e.min=n),n>e.max&&(e.max=n))})),e}_updateRadius(){const t=this.chart,e=t.chartArea,r=t.options,n=Math.min(e.right-e.left,e.bottom-e.top),i=Math.max(n/2,0),a=(i-Math.max(r.cutoutPercentage?i/100*r.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=i-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,e,r,n){const i="reset"===n,a=this.chart,s=a.options.animation,o=this._cachedMeta.rScale,l=o.xCenter,c=o.yCenter,h=o.getIndexAngle(0)-.5*st;let d,u=h;const p=360/this.countVisibleElements();for(d=0;d<e;++d)u+=this._computeAngle(d,n,p);for(d=e;d<e+r;d++){const e=t[d];let r=u,f=u+this._computeAngle(d,n,p),m=a.getDataVisibility(d)?o.getDistanceFromCenterForValue(this.getParsed(d).r):0;u=f,i&&(s.animateScale&&(m=0),s.animateRotate&&(r=f=h));const g={x:l,y:c,innerRadius:0,outerRadius:m,startAngle:r,endAngle:f,options:this.resolveDataElementOptions(d,e.active?"active":n)};this.updateElement(e,d,g,n)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach(((t,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&e++})),e}_computeAngle(t,e,r){return this.chart.getDataVisibility(t)?wt(this.resolveDataElementOptions(t,e).angle||r):0}}var Jr=Object.freeze({__proto__:null,BarController:class extends Br{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,r,n){return Wr(t,e,r,n)}parseArrayData(t,e,r,n){return Wr(t,e,r,n)}parseObjectData(t,e,r,n){const{iScale:i,vScale:a}=t,{xAxisKey:s="x",yAxisKey:o="y"}=this._parsing,l="x"===i.axis?s:o,c="x"===a.axis?s:o,h=[];let d,u,p,f;for(d=r,u=r+n;d<u;++d)f=e[d],p={},p[i.axis]=i.parse(et(f,l),d),h.push(Vr(et(f,c),p,a,d));return h}updateRangeFromParsed(t,e,r,n){super.updateRangeFromParsed(t,e,r,n);const i=r._custom;i&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:r,vScale:n}=e,i=this.getParsed(t),a=i._custom,s=Ur(a)?"["+a.start+", "+a.end+"]":""+n.getLabelForValue(i[n.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,r,n){const i="reset"===n,{index:a,_cachedMeta:{vScale:s}}=this,o=s.getBasePixel(),l=s.isHorizontal(),c=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(e,n);for(let u=e;u<e+r;u++){const e=this.getParsed(u),r=i||j(e[s.axis])?{base:o,head:o}:this._calculateBarValuePixels(u),p=this._calculateBarIndexPixels(u,c),f=(e._stacks||{})[s.axis],m={horizontal:l,base:r.base,enableBorderRadius:!f||Ur(e._custom)||a===f._top||a===f._bottom,x:l?r.head:p.center,y:l?p.center:r.head,height:l?p.size:Math.abs(r.size),width:l?Math.abs(r.size):p.size};d&&(m.options=h||this.resolveDataElementOptions(u,t[u].active?"active":n));const g=m.options||t[u].options;qr(m,g,f,a),Gr(m,g,c.ratio),this.updateElement(t[u],u,m,n)}}_getStacks(t,e){const{iScale:r}=this._cachedMeta,n=r.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),i=r.options.stacked,a=[],s=t=>{const r=t.controller.getParsed(e),n=r&&r[t.vScale.axis];if(j(n)||isNaN(n))return!0};for(const r of n)if((void 0===e||!s(r))&&((!1===i||-1===a.indexOf(r.stack)||void 0===i&&void 0===r.stack)&&a.push(r.stack),r.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,r){const n=this._getStacks(t,r),i=void 0!==e?n.indexOf(e):-1;return-1===i?n.length-1:i}_getRuler(){const t=this.options,e=this._cachedMeta,r=e.iScale,n=[];let i,a;for(i=0,a=e.data.length;i<a;++i)n.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const s=t.barThickness;return{min:s||Hr(e),pixels:n,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:s?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:r,index:n},options:{base:i,minBarLength:a}}=this,s=i||0,o=this.getParsed(t),l=o._custom,c=Ur(l);let h,d,u=o[e.axis],p=0,f=r?this.applyStack(e,o,r):u;f!==u&&(p=f-u,f=u),c&&(u=l.barStart,f=l.barEnd-l.barStart,0!==u&&mt(u)!==mt(l.barEnd)&&(p=0),p+=u);const m=j(i)||c?p:i;let g=e.getPixelForValue(m);if(h=this.chart.getDataVisibility(t)?e.getPixelForValue(p+f):g,d=h-g,Math.abs(d)<a){d=function(t,e,r){return 0!==t?mt(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}(d,e,s)*a,u===s&&(g-=d/2);const t=e.getPixelForDecimal(0),i=e.getPixelForDecimal(1),l=Math.min(t,i),p=Math.max(t,i);g=Math.max(Math.min(g,p),l),h=g+d,r&&!c&&(o._stacks[e.axis]._visualValues[n]=e.getValueForPixel(h)-e.getValueForPixel(g))}if(g===e.getPixelForValue(s)){const t=mt(d)*e.getLineWidthForValue(s)/2;g+=t,d-=t}return{size:d,base:g,head:h,center:h+d/2}}_calculateBarIndexPixels(t,e){const r=e.scale,n=this.options,i=n.skipNull,a=V(n.maxBarThickness,1/0);let s,o;if(e.grouped){const r=i?this._getStackCount(t):e.stackCount,l="flex"===n.barThickness?function(t,e,r,n){const i=e.pixels,a=i[t];let s=t>0?i[t-1]:null,o=t<i.length-1?i[t+1]:null;const l=r.categoryPercentage;null===s&&(s=a-(null===o?e.end-e.start:o-a)),null===o&&(o=a+a-s);const c=a-(a-Math.min(s,o))/2*l;return{chunk:Math.abs(o-s)/2*l/n,ratio:r.barPercentage,start:c}}(t,e,n,r):function(t,e,r,n){const i=r.barThickness;let a,s;return j(i)?(a=e.min*r.categoryPercentage,s=r.barPercentage):(a=i*n,s=1),{chunk:a/n,ratio:s,start:e.pixels[t]-a/2}}(t,e,n,r),c=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0);s=l.start+l.chunk*c+l.chunk/2,o=Math.min(a,l.chunk*l.ratio)}else s=r.getPixelForValue(this.getParsed(t)[r.axis],t),o=Math.min(a,e.min*e.ratio);return{base:s-o/2,head:s+o/2,center:s,size:o}}draw(){const t=this._cachedMeta,e=t.vScale,r=t.data,n=r.length;let i=0;for(;i<n;++i)null!==this.getParsed(i)[e.axis]&&r[i].draw(this._ctx)}},BubbleController:class extends Br{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,r,n){const i=super.parsePrimitiveData(t,e,r,n);for(let t=0;t<i.length;t++)i[t]._custom=this.resolveDataElementOptions(t+r).radius;return i}parseArrayData(t,e,r,n){const i=super.parseArrayData(t,e,r,n);for(let t=0;t<i.length;t++){const n=e[r+t];i[t]._custom=V(n[2],this.resolveDataElementOptions(t+r).radius)}return i}parseObjectData(t,e,r,n){const i=super.parseObjectData(t,e,r,n);for(let t=0;t<i.length;t++){const n=e[r+t];i[t]._custom=V(n&&n.r&&+n.r,this.resolveDataElementOptions(t+r).radius)}return i}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let r=t.length-1;r>=0;--r)e=Math.max(e,t[r].size(this.resolveDataElementOptions(r))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,r=this.chart.data.labels||[],{xScale:n,yScale:i}=e,a=this.getParsed(t),s=n.getLabelForValue(a.x),o=i.getLabelForValue(a.y),l=a._custom;return{label:r[t]||"",value:"("+s+", "+o+(l?", "+l:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,r,n){const i="reset"===n,{iScale:a,vScale:s}=this._cachedMeta,{sharedOptions:o,includeOptions:l}=this._getSharedOptions(e,n),c=a.axis,h=s.axis;for(let d=e;d<e+r;d++){const e=t[d],r=!i&&this.getParsed(d),u={},p=u[c]=i?a.getPixelForDecimal(.5):a.getPixelForValue(r[c]),f=u[h]=i?s.getBasePixel():s.getPixelForValue(r[h]);u.skip=isNaN(p)||isNaN(f),l&&(u.options=o||this.resolveDataElementOptions(d,e.active?"active":n),i&&(u.options.radius=0)),this.updateElement(e,d,u,n)}}resolveDataElementOptions(t,e){const r=this.getParsed(t);let n=super.resolveDataElementOptions(t,e);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const i=n.radius;return"active"!==e&&(n.radius=0),n.radius+=V(r&&r._custom,i),n}},DoughnutController:Yr,LineController:class extends Br{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:r,data:n=[],_dataset:i}=e,a=this.chart._animationsDisabled;let{start:s,count:o}=Nt(e,n,a);this._drawStart=s,this._drawCount=o,Bt(e)&&(s=0,o=n.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=n;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:l},t),this.updateElements(n,s,o,t)}updateElements(t,e,r,n){const i="reset"===n,{iScale:a,vScale:s,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:h}=this._getSharedOptions(e,n),d=a.axis,u=s.axis,{spanGaps:p,segment:f}=this.options,m=vt(p)?p:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||i||"none"===n,b=e+r,v=t.length;let y=e>0&&this.getParsed(e-1);for(let r=0;r<v;++r){const p=t[r],v=g?p:{};if(r<e||r>=b){v.skip=!0;continue}const w=this.getParsed(r),_=j(w[u]),x=v[d]=a.getPixelForValue(w[d],r),k=v[u]=i||_?s.getBasePixel():s.getPixelForValue(o?this.applyStack(s,w,o):w[u],r);v.skip=isNaN(x)||isNaN(k)||_,v.stop=r>0&&Math.abs(w[d]-y[d])>m,f&&(v.parsed=w,v.raw=l.data[r]),h&&(v.options=c||this.resolveDataElementOptions(r,p.active?"active":n)),g||this.updateElement(p,r,v,n),y=w}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,r=e.options&&e.options.borderWidth||0,n=t.data||[];if(!n.length)return r;const i=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,i,a)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}},PieController:class extends Yr{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}},PolarAreaController:Qr,RadarController:class extends Br{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const e=this._cachedMeta.vScale,r=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(r[e.axis])}}parseObjectData(t,e,r,n){return Ue.bind(this)(t,e,r,n)}update(t){const e=this._cachedMeta,r=e.dataset,n=e.data||[],i=e.iScale.getLabels();if(r.points=n,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const a={_loop:!0,_fullLoop:i.length===n.length,options:e};this.updateElement(r,void 0,a,t)}this.updateElements(n,0,n.length,t)}updateElements(t,e,r,n){const i=this._cachedMeta.rScale,a="reset"===n;for(let s=e;s<e+r;s++){const e=t[s],r=this.resolveDataElementOptions(s,e.active?"active":n),o=i.getPointPositionForValue(s,this.getParsed(s).r),l=a?i.xCenter:o.x,c=a?i.yCenter:o.y,h={x:l,y:c,angle:o.angle,skip:isNaN(l)||isNaN(c),options:r};this.updateElement(e,s,h,n)}}},ScatterController:class extends Br{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,r=this.chart.data.labels||[],{xScale:n,yScale:i}=e,a=this.getParsed(t),s=n.getLabelForValue(a.x),o=i.getLabelForValue(a.y);return{label:r[t]||"",value:"("+s+", "+o+")"}}update(t){const e=this._cachedMeta,{data:r=[]}=e,n=this.chart._animationsDisabled;let{start:i,count:a}=Nt(e,r,n);if(this._drawStart=i,this._drawCount=a,Bt(e)&&(i=0,a=r.length),this.options.showLine){const{dataset:i,_dataset:a}=e;i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=r;const s=this.resolveDatasetElementOptions(t);s.segment=this.options.segment,this.updateElement(i,void 0,{animated:!n,options:s},t)}this.updateElements(r,i,a,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,r,n){const i="reset"===n,{iScale:a,vScale:s,_stacked:o,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(e,n),h=this.getSharedOptions(c),d=this.includeOptions(n,h),u=a.axis,p=s.axis,{spanGaps:f,segment:m}=this.options,g=vt(f)?f:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||i||"none"===n;let v=e>0&&this.getParsed(e-1);for(let c=e;c<e+r;++c){const e=t[c],r=this.getParsed(c),f=b?e:{},y=j(r[p]),w=f[u]=a.getPixelForValue(r[u],c),_=f[p]=i||y?s.getBasePixel():s.getPixelForValue(o?this.applyStack(s,r,o):r[p],c);f.skip=isNaN(w)||isNaN(_)||y,f.stop=c>0&&Math.abs(r[u]-v[u])>g,m&&(f.parsed=r,f.raw=l.data[c]),d&&(f.options=h||this.resolveDataElementOptions(c,e.active?"active":n)),b||this.updateElement(e,c,f,n),v=r}this.updateSharedOptions(h,n,c)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let r=e.length-1;r>=0;--r)t=Math.max(t,e[r].size(this.resolveDataElementOptions(r))/2);return t>0&&t}const r=t.dataset,n=r.options&&r.options.borderWidth||0;if(!e.length)return n;const i=e[0].size(this.resolveDataElementOptions(0)),a=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(n,i,a)/2}}});function Kr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class tn{static override(t){Object.assign(tn.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Kr()}parse(){return Kr()}format(){return Kr()}add(){return Kr()}diff(){return Kr()}startOf(){return Kr()}endOf(){return Kr()}}var en=tn;function rn(t,e,r,n){const{controller:i,data:a,_sorted:s}=t,o=i._cachedMeta.iScale;if(o&&e===o.axis&&"r"!==e&&s&&a.length){const t=o._reversePixels?Tt:$t;if(!n)return t(a,e,r);if(i._sharedOptions){const n=a[0],i="function"==typeof n.getRange&&n.getRange(e);if(i){const n=t(a,e,r-i),s=t(a,e,r+i);return{lo:n.lo,hi:s.hi}}}}return{lo:0,hi:a.length-1}}function nn(t,e,r,n,i){const a=t.getSortedVisibleDatasetMetas(),s=r[e];for(let t=0,r=a.length;t<r;++t){const{index:r,data:o}=a[t],{lo:l,hi:c}=rn(a[t],e,s,i);for(let t=l;t<=c;++t){const e=o[t];e.skip||n(e,r,t)}}}function an(t,e,r,n,i){const a=[];if(!i&&!t.isPointInArea(e))return a;return nn(t,r,e,(function(r,s,o){(i||pe(r,t.chartArea,0))&&r.inRange(e.x,e.y,n)&&a.push({element:r,datasetIndex:s,index:o})}),!0),a}function sn(t,e,r,n,i,a){let s=[];const o=function(t){const e=-1!==t.indexOf("x"),r=-1!==t.indexOf("y");return function(t,n){const i=e?Math.abs(t.x-n.x):0,a=r?Math.abs(t.y-n.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}(r);let l=Number.POSITIVE_INFINITY;return nn(t,r,e,(function(r,c,h){const d=r.inRange(e.x,e.y,i);if(n&&!d)return;const u=r.getCenterPoint(i);if(!(!!a||t.isPointInArea(u))&&!d)return;const p=o(e,u);p<l?(s=[{element:r,datasetIndex:c,index:h}],l=p):p===l&&s.push({element:r,datasetIndex:c,index:h})})),s}function on(t,e,r,n,i,a){return a||t.isPointInArea(e)?"r"!==r||n?sn(t,e,r,n,i,a):function(t,e,r,n){let i=[];return nn(t,r,e,(function(t,r,a){const{startAngle:s,endAngle:o}=t.getProps(["startAngle","endAngle"],n),{angle:l}=kt(t,{x:e.x,y:e.y});Dt(l,s,o)&&i.push({element:t,datasetIndex:r,index:a})})),i}(t,e,r,i):[]}function ln(t,e,r,n,i){const a=[],s="x"===r?"inXRange":"inYRange";let o=!1;return nn(t,r,e,((t,n,l)=>{t[s](e[r],i)&&(a.push({element:t,datasetIndex:n,index:l}),o=o||t.inRange(e.x,e.y,i))})),n&&!o?[]:a}var cn={evaluateInteractionItems:nn,modes:{index(t,e,r,n){const i=ar(e,t),a=r.axis||"x",s=r.includeInvisible||!1,o=r.intersect?an(t,i,a,n,s):on(t,i,a,!1,n,s),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=o[0].index,r=t.data[e];r&&!r.skip&&l.push({element:r,datasetIndex:t.index,index:e})})),l):[]},dataset(t,e,r,n){const i=ar(e,t),a=r.axis||"xy",s=r.includeInvisible||!1;let o=r.intersect?an(t,i,a,n,s):on(t,i,a,!1,n,s);if(o.length>0){const e=o[0].datasetIndex,r=t.getDatasetMeta(e).data;o=[];for(let t=0;t<r.length;++t)o.push({element:r[t],datasetIndex:e,index:t})}return o},point:(t,e,r,n)=>an(t,ar(e,t),r.axis||"xy",n,r.includeInvisible||!1),nearest(t,e,r,n){const i=ar(e,t),a=r.axis||"xy",s=r.includeInvisible||!1;return on(t,i,a,r.intersect,n,s)},x:(t,e,r,n)=>ln(t,ar(e,t),"x",r.intersect,n),y:(t,e,r,n)=>ln(t,ar(e,t),"y",r.intersect,n)}};const hn=["left","top","right","bottom"];function dn(t,e){return t.filter((t=>t.pos===e))}function un(t,e){return t.filter((t=>-1===hn.indexOf(t.pos)&&t.box.axis===e))}function pn(t,e){return t.sort(((t,r)=>{const n=e?r:t,i=e?t:r;return n.weight===i.weight?n.index-i.index:n.weight-i.weight}))}function fn(t,e){const r=function(t){const e={};for(const r of t){const{stack:t,pos:n,stackWeight:i}=r;if(!t||!hn.includes(n))continue;const a=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}(t),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let a,s,o;for(a=0,s=t.length;a<s;++a){o=t[a];const{fullSize:s}=o.box,l=r[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*n:s&&e.availableWidth,o.height=i):(o.width=n,o.height=c?c*i:s&&e.availableHeight)}return r}function mn(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function gn(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function bn(t,e,r,n){const{pos:i,box:a}=r,s=t.maxPadding;if(!N(i)){r.size&&(t[i]-=r.size);const e=n[r.stack]||{size:0,count:1};e.size=Math.max(e.size,r.horizontal?a.height:a.width),r.size=e.size/e.count,t[i]+=r.size}a.getPadding&&gn(s,a.getPadding());const o=Math.max(0,e.outerWidth-mn(s,t,"left","right")),l=Math.max(0,e.outerHeight-mn(s,t,"top","bottom")),c=o!==t.w,h=l!==t.h;return t.w=o,t.h=l,r.horizontal?{same:c,other:h}:{same:h,other:c}}function vn(t,e){const r=e.maxPadding;function n(t){const n={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{n[t]=Math.max(e[t],r[t])})),n}return n(t?["left","right"]:["top","bottom"])}function yn(t,e,r,n){const i=[];let a,s,o,l,c,h;for(a=0,s=t.length,c=0;a<s;++a){o=t[a],l=o.box,l.update(o.width||e.w,o.height||e.h,vn(o.horizontal,e));const{same:s,other:d}=bn(e,r,o,n);c|=s&&i.length,h=h||d,l.fullSize||i.push(o)}return c&&yn(i,e,r,n)||h}function wn(t,e,r,n,i){t.top=r,t.left=e,t.right=e+n,t.bottom=r+i,t.width=n,t.height=i}function _n(t,e,r,n){const i=r.padding;let{x:a,y:s}=e;for(const o of t){const t=o.box,l=n[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const n=e.w*c,a=l.size||t.height;nt(l.start)&&(s=l.start),t.fullSize?wn(t,i.left,s,r.outerWidth-i.right-i.left,a):wn(t,e.left+l.placed,s,n,a),l.start=s,l.placed+=n,s=t.bottom}else{const n=e.h*c,s=l.size||t.width;nt(l.start)&&(a=l.start),t.fullSize?wn(t,a,i.top,s,r.outerHeight-i.bottom-i.top):wn(t,a,e.top+l.placed,s,n),l.start=a,l.placed+=n,a=t.right}}e.x=a,e.y=s}var xn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;-1!==r&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const i=Ce(t.options.layout.padding),a=Math.max(e-i.width,0),s=Math.max(r-i.height,0),o=function(t){const e=function(t){const e=[];let r,n,i,a,s,o;for(r=0,n=(t||[]).length;r<n;++r)i=t[r],({position:a,options:{stack:s,stackWeight:o=1}}=i),e.push({index:r,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:s&&a+s,stackWeight:o});return e}(t),r=pn(e.filter((t=>t.box.fullSize)),!0),n=pn(dn(e,"left"),!0),i=pn(dn(e,"right")),a=pn(dn(e,"top"),!0),s=pn(dn(e,"bottom")),o=un(e,"x"),l=un(e,"y");return{fullSize:r,leftAndTop:n.concat(a),rightAndBottom:i.concat(l).concat(s).concat(o),chartArea:dn(e,"chartArea"),vertical:n.concat(i).concat(l),horizontal:a.concat(s).concat(o)}}(t.boxes),l=o.vertical,c=o.horizontal;q(t.boxes,(t=>{"function"==typeof t.beforeLayout&&t.beforeLayout()}));const h=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,d=Object.freeze({outerWidth:e,outerHeight:r,padding:i,availableWidth:a,availableHeight:s,vBoxMaxWidth:a/2/h,hBoxMaxHeight:s/2}),u=Object.assign({},i);gn(u,Ce(n));const p=Object.assign({maxPadding:u,w:a,h:s,x:i.left,y:i.top},i),f=fn(l.concat(c),d);yn(o.fullSize,p,d,f),yn(l,p,d,f),yn(c,p,d,f)&&yn(l,p,d,f),function(t){const e=t.maxPadding;function r(r){const n=Math.max(e[r]-t[r],0);return t[r]+=n,n}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}(p),_n(o.leftAndTop,p,d,f),p.x+=p.w,p.y+=p.h,_n(o.rightAndBottom,p,d,f),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},q(o.chartArea,(e=>{const r=e.box;Object.assign(r,t.chartArea),r.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})}))}};class kn{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,r){}removeEventListener(t,e,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,r,n){return e=Math.max(0,e||t.width),r=r||t.height,{width:e,height:Math.max(0,n?Math.floor(e/n):r)}}isAttached(t){return!0}updateConfig(t){}}class Sn extends kn{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const In={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Mn=t=>null===t||""===t;const Dn=!!cr&&{passive:!0};function Cn(t,e,r){t.canvas.removeEventListener(e,r,Dn)}function An(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function Pn(t,e,r){const n=t.canvas,i=new MutationObserver((t=>{let e=!1;for(const r of t)e=e||An(r.addedNodes,n),e=e&&!An(r.removedNodes,n);e&&r()}));return i.observe(document,{childList:!0,subtree:!0}),i}function $n(t,e,r){const n=t.canvas,i=new MutationObserver((t=>{let e=!1;for(const r of t)e=e||An(r.removedNodes,n),e=e&&!An(r.addedNodes,n);e&&r()}));return i.observe(document,{childList:!0,subtree:!0}),i}const Tn=new Map;let En=0;function On(){const t=window.devicePixelRatio;t!==En&&(En=t,Tn.forEach(((e,r)=>{r.currentDevicePixelRatio!==t&&e()})))}function Rn(t,e,r){const n=t.canvas,i=n&&tr(n);if(!i)return;const a=Ft(((t,e)=>{const n=i.clientWidth;r(t,e),n<i.clientWidth&&r()}),window),s=new ResizeObserver((t=>{const e=t[0],r=e.contentRect.width,n=e.contentRect.height;0===r&&0===n||a(r,n)}));return s.observe(i),function(t,e){Tn.size||window.addEventListener("resize",On),Tn.set(t,e)}(t,a),s}function Ln(t,e,r){r&&r.disconnect(),"resize"===e&&function(t){Tn.delete(t),Tn.size||window.removeEventListener("resize",On)}(t)}function Fn(t,e,r){const n=t.canvas,i=Ft((e=>{null!==t.ctx&&r(function(t,e){const r=In[t.type]||t.type,{x:n,y:i}=ar(t,e);return{type:r,chart:e,native:t,x:void 0!==n?n:null,y:void 0!==i?i:null}}(e,t))}),t);return function(t,e,r){t.addEventListener(e,r,Dn)}(n,e,i),i}class jn extends kn{acquireContext(t,e){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(function(t,e){const r=t.style,n=t.getAttribute("height"),i=t.getAttribute("width");if(t.$chartjs={initial:{height:n,width:i,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",Mn(i)){const e=hr(t,"width");void 0!==e&&(t.width=e)}if(Mn(n))if(""===t.style.height)t.height=t.width/(e||2);else{const e=hr(t,"height");void 0!==e&&(t.height=e)}}(t,e),r):null}releaseContext(t){const e=t.canvas;if(!e.$chartjs)return!1;const r=e.$chartjs.initial;["height","width"].forEach((t=>{const n=r[t];j(n)?e.removeAttribute(t):e.setAttribute(t,n)}));const n=r.style||{};return Object.keys(n).forEach((t=>{e.style[t]=n[t]})),e.width=e.width,delete e.$chartjs,!0}addEventListener(t,e,r){this.removeEventListener(t,e);const n=t.$proxies||(t.$proxies={}),i={attach:Pn,detach:$n,resize:Rn}[e]||Fn;n[e]=i(t,e,r)}removeEventListener(t,e){const r=t.$proxies||(t.$proxies={}),n=r[e];if(!n)return;({attach:Ln,detach:Ln,resize:Ln}[e]||Cn)(t,e,n),r[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,r,n){return or(t,e,r,n)}isAttached(t){const e=tr(t);return!(!e||!e.isConnected)}}class zn{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:r}=this.getProps(["x","y"],t);return{x:e,y:r}}hasValue(){return vt(this.x)&&vt(this.y)}getProps(t,e){const r=this.$animations;if(!e||!r)return this;const n={};return t.forEach((t=>{n[t]=r[t]&&r[t].active()?r[t]._to:this[t]})),n}}function Nn(t,e){const r=t.options.ticks,n=function(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),i=t._maxLength/r;return Math.floor(Math.min(n,i))}(t),i=Math.min(r.maxTicksLimit||n,n),a=r.major.enabled?function(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}(e):[],s=a.length,o=a[0],l=a[s-1],c=[];if(s>i)return function(t,e,r,n){let i,a=0,s=r[0];for(n=Math.ceil(n),i=0;i<t.length;i++)i===s&&(e.push(t[i]),a++,s=r[a*n])}(e,c,a,s/i),c;const h=function(t,e,r){const n=function(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}(t),i=e.length/r;if(!n)return Math.max(i,1);const a=function(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n==0&&(e.push(n),e.push(t/n));return r===(0|r)&&e.push(r),e.sort(((t,e)=>t-e)).pop(),e}(n);for(let t=0,e=a.length-1;t<e;t++){const e=a[t];if(e>i)return e}return Math.max(i,1)}(a,e,i);if(s>0){let t,r;const n=s>1?Math.round((l-o)/(s-1)):null;for(Bn(e,c,h,j(n)?0:o-n,o),t=0,r=s-1;t<r;t++)Bn(e,c,h,a[t],a[t+1]);return Bn(e,c,h,l,j(n)?e.length:l+n),c}return Bn(e,c,h),c}function Bn(t,e,r,n,i){const a=V(n,0),s=Math.min(V(i,t.length),t.length);let o,l,c,h=0;for(r=Math.ceil(r),i&&(o=i-n,r=o/Math.floor(o/r)),c=a;c<0;)h++,c=Math.round(a+h*r);for(l=Math.max(a,0);l<s;l++)l===c&&(e.push(t[l]),h++,c=Math.round(a+h*r))}const Hn=(t,e,r)=>"top"===e||"left"===e?t[e]+r:t[e]-r,Vn=(t,e)=>Math.min(e||t,t);function Wn(t,e){const r=[],n=t.length/e,i=t.length;let a=0;for(;a<i;a+=n)r.push(t[Math.floor(a)]);return r}function Un(t,e,r){const n=t.ticks.length,i=Math.min(e,n-1),a=t._startPixel,s=t._endPixel,o=1e-6;let l,c=t.getPixelForTick(i);if(!(r&&(l=1===n?Math.max(c-a,s-c):0===e?(t.getPixelForTick(1)-c)/2:(c-t.getPixelForTick(i-1))/2,c+=i<e?l:-l,c<a-o||c>s+o)))return c}function qn(t){return t.drawTicks?t.tickLength:0}function Zn(t,e){if(!t.display)return 0;const r=Ae(t.font,e),n=Ce(t.padding);return(z(t.text)?t.text.length:1)*r.lineHeight+n.height}function Xn(t,e,r){let n=jt(t);return(r&&"right"!==e||!r&&"right"===e)&&(n=(t=>"left"===t?"right":"right"===t?"left":t)(n)),n}class Gn extends zn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:r,_suggestedMax:n}=this;return t=H(t,Number.POSITIVE_INFINITY),e=H(e,Number.NEGATIVE_INFINITY),r=H(r,Number.POSITIVE_INFINITY),n=H(n,Number.NEGATIVE_INFINITY),{min:H(t,r),max:H(e,n),minDefined:B(t),maxDefined:B(e)}}getMinMax(t){let e,{min:r,max:n,minDefined:i,maxDefined:a}=this.getUserBounds();if(i&&a)return{min:r,max:n};const s=this.getMatchingVisibleMetas();for(let o=0,l=s.length;o<l;++o)e=s[o].controller.getMinMax(this,t),i||(r=Math.min(r,e.min)),a||(n=Math.max(n,e.max));return r=a&&r>n?n:r,n=i&&r>n?r:n,{min:H(r,H(n,r)),max:H(n,H(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){U(this.options.beforeUpdate,[this])}update(t,e,r){const{beginAtZero:n,grace:i,ticks:a}=this.options,s=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,r){const{min:n,max:i}=t,a=W(e,(i-n)/2),s=(t,e)=>r&&0===t?0:t+e;return{min:s(n,-Math.abs(a)),max:s(i,a)}}(this,i,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=s<this.ticks.length;this._convertTicksToLabels(o?Wn(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=Nn(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,r=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,r=!r),this._startPixel=t,this._endPixel=e,this._reversePixels=r,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){U(this.options.afterUpdate,[this])}beforeSetDimensions(){U(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){U(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),U(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){U(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let r,n,i;for(r=0,n=t.length;r<n;r++)i=t[r],i.label=U(e.callback,[i.value,r,t],this)}afterTickToLabelConversion(){U(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){U(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,r=Vn(this.ticks.length,t.ticks.maxTicksLimit),n=e.minRotation||0,i=e.maxRotation;let a,s,o,l=n;if(!this._isVisible()||!e.display||n>=i||r<=1||!this.isHorizontal())return void(this.labelRotation=n);const c=this._getLabelSizes(),h=c.widest.width,d=c.highest.height,u=Ct(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/r:u/(r-1),h+6>a&&(a=u/(r-(t.offset?.5:1)),s=this.maxHeight-qn(t.grid)-e.padding-Zn(t.title,this.chart.options.font),o=Math.sqrt(h*h+d*d),l=_t(Math.min(Math.asin(Ct((c.highest.height+6)/a,-1,1)),Math.asin(Ct(s/o,-1,1))-Math.asin(Ct(d/o,-1,1)))),l=Math.max(n,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){U(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){U(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:r,title:n,grid:i}}=this,a=this._isVisible(),s=this.isHorizontal();if(a){const a=Zn(n,e.options.font);if(s?(t.width=this.maxWidth,t.height=qn(i)+a):(t.height=this.maxHeight,t.width=qn(i)+a),r.display&&this.ticks.length){const{first:e,last:n,widest:i,highest:a}=this._getLabelSizes(),o=2*r.padding,l=wt(this.labelRotation),c=Math.cos(l),h=Math.sin(l);if(s){const e=r.mirror?0:h*i.width+c*a.height;t.height=Math.min(this.maxHeight,t.height+e+o)}else{const e=r.mirror?0:c*i.width+h*a.height;t.width=Math.min(this.maxWidth,t.width+e+o)}this._calculatePadding(e,n,h,c)}}this._handleMargins(),s?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,r,n){const{ticks:{align:i,padding:a},position:s}=this.options,o=0!==this.labelRotation,l="top"!==s&&"x"===this.axis;if(this.isHorizontal()){const s=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,d=0;o?l?(h=n*t.width,d=r*e.height):(h=r*t.height,d=n*e.width):"start"===i?d=e.width:"end"===i?h=t.width:"inner"!==i&&(h=t.width/2,d=e.width/2),this.paddingLeft=Math.max((h-s+a)*this.width/(this.width-s),0),this.paddingRight=Math.max((d-c+a)*this.width/(this.width-c),0)}else{let r=e.height/2,n=t.height/2;"start"===i?(r=0,n=t.height):"end"===i&&(r=e.height,n=0),this.paddingTop=r+a,this.paddingBottom=n+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){U(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,r;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,r=t.length;e<r;e++)j(t[e].label)&&(t.splice(e,1),r--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let r=this.ticks;e<r.length&&(r=Wn(r,e)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,r){const{ctx:n,_longestTextCache:i}=this,a=[],s=[],o=Math.floor(e/Vn(e,r));let l,c,h,d,u,p,f,m,g,b,v,y=0,w=0;for(l=0;l<e;l+=o){if(d=t[l].label,u=this._resolveTickFontOptions(l),n.font=p=u.string,f=i[p]=i[p]||{data:{},gc:[]},m=u.lineHeight,g=b=0,j(d)||z(d)){if(z(d))for(c=0,h=d.length;c<h;++c)v=d[c],j(v)||z(v)||(g=oe(n,f.data,f.gc,g,v),b+=m)}else g=oe(n,f.data,f.gc,g,d),b=m;a.push(g),s.push(b),y=Math.max(g,y),w=Math.max(b,w)}!function(t,e){q(t,(t=>{const r=t.gc,n=r.length/2;let i;if(n>e){for(i=0;i<n;++i)delete t.data[r[i]];r.splice(0,n)}}))}(i,e);const _=a.indexOf(y),x=s.indexOf(w),k=t=>({width:a[t]||0,height:s[t]||0});return{first:k(0),last:k(e-1),widest:k(_),highest:k(x),widths:a,heights:s}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Ct(this._alignToPixels?ce(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const r=e[t];return r.$context||(r.$context=function(t,e,r){return $e(t,{tick:r,index:e,type:"tick"})}(this.getContext(),t,r))}return this.$context||(this.$context=$e(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const t=this.options.ticks,e=wt(this.labelRotation),r=Math.abs(Math.cos(e)),n=Math.abs(Math.sin(e)),i=this._getLabelSizes(),a=t.autoSkipPadding||0,s=i?i.widest.width+a:0,o=i?i.highest.height+a:0;return this.isHorizontal()?o*r>s*n?s/r:o/n:o*n<s*r?o/r:s/n}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,r=this.chart,n=this.options,{grid:i,position:a,border:s}=n,o=i.offset,l=this.isHorizontal(),c=this.ticks.length+(o?1:0),h=qn(i),d=[],u=s.setContext(this.getContext()),p=u.display?u.width:0,f=p/2,m=function(t){return ce(r,t,p)};let g,b,v,y,w,_,x,k,S,I,M,D;if("top"===a)g=m(this.bottom),_=this.bottom-h,k=g-f,I=m(t.top)+f,D=t.bottom;else if("bottom"===a)g=m(this.top),I=t.top,D=m(t.bottom)-f,_=g+f,k=this.top+h;else if("left"===a)g=m(this.right),w=this.right-h,x=g-f,S=m(t.left)+f,M=t.right;else if("right"===a)g=m(this.left),S=t.left,M=m(t.right)-f,w=g+f,x=this.left+h;else if("x"===e){if("center"===a)g=m((t.top+t.bottom)/2+.5);else if(N(a)){const t=Object.keys(a)[0],e=a[t];g=m(this.chart.scales[t].getPixelForValue(e))}I=t.top,D=t.bottom,_=g+f,k=_+h}else if("y"===e){if("center"===a)g=m((t.left+t.right)/2);else if(N(a)){const t=Object.keys(a)[0],e=a[t];g=m(this.chart.scales[t].getPixelForValue(e))}w=g-f,x=w-h,S=t.left,M=t.right}const C=V(n.ticks.maxTicksLimit,c),A=Math.max(1,Math.ceil(c/C));for(b=0;b<c;b+=A){const t=this.getContext(b),e=i.setContext(t),n=s.setContext(t),a=e.lineWidth,c=e.color,h=n.dash||[],u=n.dashOffset,p=e.tickWidth,f=e.tickColor,m=e.tickBorderDash||[],g=e.tickBorderDashOffset;v=Un(this,b,o),void 0!==v&&(y=ce(r,v,a),l?w=x=S=M=y:_=k=I=D=y,d.push({tx1:w,ty1:_,tx2:x,ty2:k,x1:S,y1:I,x2:M,y2:D,width:a,color:c,borderDash:h,borderDashOffset:u,tickWidth:p,tickColor:f,tickBorderDash:m,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,d}_computeLabelItems(t){const e=this.axis,r=this.options,{position:n,ticks:i}=r,a=this.isHorizontal(),s=this.ticks,{align:o,crossAlign:l,padding:c,mirror:h}=i,d=qn(r.grid),u=d+c,p=h?-c:u,f=-wt(this.labelRotation),m=[];let g,b,v,y,w,_,x,k,S,I,M,D,C="middle";if("top"===n)_=this.bottom-p,x=this._getXAxisLabelAlignment();else if("bottom"===n)_=this.top+p,x=this._getXAxisLabelAlignment();else if("left"===n){const t=this._getYAxisLabelAlignment(d);x=t.textAlign,w=t.x}else if("right"===n){const t=this._getYAxisLabelAlignment(d);x=t.textAlign,w=t.x}else if("x"===e){if("center"===n)_=(t.top+t.bottom)/2+u;else if(N(n)){const t=Object.keys(n)[0],e=n[t];_=this.chart.scales[t].getPixelForValue(e)+u}x=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===n)w=(t.left+t.right)/2-u;else if(N(n)){const t=Object.keys(n)[0],e=n[t];w=this.chart.scales[t].getPixelForValue(e)}x=this._getYAxisLabelAlignment(d).textAlign}"y"===e&&("start"===o?C="top":"end"===o&&(C="bottom"));const A=this._getLabelSizes();for(g=0,b=s.length;g<b;++g){v=s[g],y=v.label;const t=i.setContext(this.getContext(g));k=this.getPixelForTick(g)+i.labelOffset,S=this._resolveTickFontOptions(g),I=S.lineHeight,M=z(y)?y.length:1;const e=M/2,r=t.color,o=t.textStrokeColor,c=t.textStrokeWidth;let d,u=x;if(a?(w=k,"inner"===x&&(u=g===b-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),D="top"===n?"near"===l||0!==f?-M*I+I/2:"center"===l?-A.highest.height/2-e*I+I:-A.highest.height+I/2:"near"===l||0!==f?I/2:"center"===l?A.highest.height/2-e*I:A.highest.height-M*I,h&&(D*=-1),0===f||t.showLabelBackdrop||(w+=I/2*Math.sin(f))):(_=k,D=(1-M)*I/2),t.showLabelBackdrop){const e=Ce(t.backdropPadding),r=A.heights[g],n=A.widths[g];let i=D-e.top,a=0-e.left;switch(C){case"middle":i-=r/2;break;case"bottom":i-=r}switch(x){case"center":a-=n/2;break;case"right":a-=n}d={left:a,top:i,width:n+e.width,height:r+e.height,color:t.backdropColor}}m.push({label:y,font:S,textOffset:D,options:{rotation:f,color:r,strokeColor:o,strokeWidth:c,textAlign:u,textBaseline:C,translation:[w,_],backdrop:d}})}return m}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-wt(this.labelRotation))return"top"===t?"left":"right";let r="center";return"start"===e.align?r="left":"end"===e.align?r="right":"inner"===e.align&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:r,mirror:n,padding:i}}=this.options,a=t+i,s=this._getLabelSizes().widest.width;let o,l;return"left"===e?n?(l=this.right+i,"near"===r?o="left":"center"===r?(o="center",l+=s/2):(o="right",l+=s)):(l=this.right-a,"near"===r?o="right":"center"===r?(o="center",l-=s/2):(o="left",l=this.left)):"right"===e?n?(l=this.left+i,"near"===r?o="right":"center"===r?(o="center",l-=s/2):(o="left",l-=s)):(l=this.left+a,"near"===r?o="left":"center"===r?(o="center",l+=s/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:r,top:n,width:i,height:a}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(r,n,i,a),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex((e=>e.value===t));if(r>=0){return e.setContext(this.getContext(r)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,r=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,a;const s=(t,e,n)=>{n.width&&n.color&&(r.save(),r.lineWidth=n.width,r.strokeStyle=n.color,r.setLineDash(n.borderDash||[]),r.lineDashOffset=n.borderDashOffset,r.beginPath(),r.moveTo(t.x,t.y),r.lineTo(e.x,e.y),r.stroke(),r.restore())};if(e.display)for(i=0,a=n.length;i<a;++i){const t=n[i];e.drawOnChartArea&&s({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&s({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:r,grid:n}}=this,i=r.setContext(this.getContext()),a=r.display?i.width:0;if(!a)return;const s=n.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,c,h,d;this.isHorizontal()?(l=ce(t,this.left,a)-a/2,c=ce(t,this.right,s)+s/2,h=d=o):(h=ce(t,this.top,a)-a/2,d=ce(t,this.bottom,s)+s/2,l=c=o),e.save(),e.lineWidth=i.width,e.strokeStyle=i.color,e.beginPath(),e.moveTo(l,h),e.lineTo(c,d),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,r=this._computeLabelArea();r&&fe(e,r);const n=this.getLabelItems(t);for(const t of n){const r=t.options,n=t.font;we(e,t.label,0,t.textOffset,n,r)}r&&me(e)}drawTitle(){const{ctx:t,options:{position:e,title:r,reverse:n}}=this;if(!r.display)return;const i=Ae(r.font),a=Ce(r.padding),s=r.align;let o=i.lineHeight/2;"bottom"===e||"center"===e||N(e)?(o+=a.bottom,z(r.text)&&(o+=i.lineHeight*(r.text.length-1))):o+=a.top;const{titleX:l,titleY:c,maxWidth:h,rotation:d}=function(t,e,r,n){const{top:i,left:a,bottom:s,right:o,chart:l}=t,{chartArea:c,scales:h}=l;let d,u,p,f=0;const m=s-i,g=o-a;if(t.isHorizontal()){if(u=zt(n,a,o),N(r)){const t=Object.keys(r)[0],n=r[t];p=h[t].getPixelForValue(n)+m-e}else p="center"===r?(c.bottom+c.top)/2+m-e:Hn(t,r,e);d=o-a}else{if(N(r)){const t=Object.keys(r)[0],n=r[t];u=h[t].getPixelForValue(n)-g+e}else u="center"===r?(c.left+c.right)/2-g+e:Hn(t,r,e);p=zt(n,s,i),f="left"===r?-dt:dt}return{titleX:u,titleY:p,maxWidth:d,rotation:f}}(this,o,e,s);we(t,r.text,0,0,i,{color:r.color,maxWidth:h,rotation:d,textAlign:Xn(s,e,n),textBaseline:"middle",translation:[l,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,r=V(t.grid&&t.grid.z,-1),n=V(t.border&&t.border.z,0);return this._isVisible()&&this.draw===Gn.prototype.draw?[{z:r,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",n=[];let i,a;for(i=0,a=e.length;i<a;++i){const a=e[i];a[r]!==this.id||t&&a.type!==t||n.push(a)}return n}_resolveTickFontOptions(t){return Ae(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Yn{constructor(t,e,r){this.type=t,this.scope=e,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let r;(function(t){return"id"in t&&"defaults"in t})(e)&&(r=this.register(e));const n=this.items,i=t.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in n||(n[i]=t,function(t,e,r){const n=Q(Object.create(null),[r?se.get(r):{},se.get(e),t.defaults]);se.set(e,n),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((r=>{const n=r.split("."),i=n.pop(),a=[t].concat(n).join("."),s=e[r].split("."),o=s.pop(),l=s.join(".");se.route(a,i,l,o)}))}(e,t.defaultRoutes);t.descriptors&&se.describe(e,t.descriptors)}(t,a,r),this.override&&se.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const e=this.items,r=t.id,n=this.scope;r in e&&delete e[r],n&&r in se[n]&&(delete se[n][r],this.override&&delete ee[r])}}class Qn{constructor(){this.controllers=new Yn(Br,"datasets",!0),this.elements=new Yn(zn,"elements"),this.plugins=new Yn(Object,"plugins"),this.scales=new Yn(Gn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,r){[...e].forEach((e=>{const n=r||this._getRegistryForType(e);r||n.isForType(e)||n===this.plugins&&e.id?this._exec(t,n,e):q(e,(e=>{const n=r||this._getRegistryForType(e);this._exec(t,n,e)}))}))}_exec(t,e,r){const n=rt(t);U(r["before"+n],[],r),e[t](r),U(r["after"+n],[],r)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const r=this._typedRegistries[e];if(r.isForType(t))return r}return this.plugins}_get(t,e,r){const n=e.get(t);if(void 0===n)throw new Error('"'+t+'" is not a registered '+r+".");return n}}var Jn=new Qn;class Kn{constructor(){this._init=[]}notify(t,e,r,n){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=n?this._descriptors(t).filter(n):this._descriptors(t),a=this._notify(i,t,e,r);return"afterDestroy"===e&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,e,r,n){n=n||{};for(const i of t){const t=i.plugin;if(!1===U(t[r],[e,n,i.options],t)&&n.cancelable)return!1}return!0}invalidate(){j(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const r=t&&t.config,n=V(r.options&&r.options.plugins,{}),i=function(t){const e={},r=[],n=Object.keys(Jn.plugins.items);for(let t=0;t<n.length;t++)r.push(Jn.getPlugin(n[t]));const i=t.plugins||[];for(let t=0;t<i.length;t++){const n=i[t];-1===r.indexOf(n)&&(r.push(n),e[n.id]=!0)}return{plugins:r,localIds:e}}(r);return!1!==n||e?function(t,{plugins:e,localIds:r},n,i){const a=[],s=t.getContext();for(const o of e){const e=o.id,l=ti(n[e],i);null!==l&&a.push({plugin:o,options:ei(t.config,{plugin:o,local:r[e]},l,s)})}return a}(t,i,n,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],r=this._cache,n=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(n(e,r),t,"stop"),this._notify(n(r,e),t,"start")}}function ti(t,e){return e||!1!==t?!0===t?{}:t:null}function ei(t,{plugin:e,local:r},n,i){const a=t.pluginScopeKeys(e),s=t.getOptionScopes(n,a);return r&&e.defaults&&s.push(e.defaults),t.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ri(t,e){const r=se.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function ni(t){if("x"===t||"y"===t||"r"===t)return t}function ii(t,...e){if(ni(t))return t;for(const n of e){const e=n.axis||("top"===(r=n.position)||"bottom"===r?"x":"left"===r||"right"===r?"y":void 0)||t.length>1&&ni(t[0].toLowerCase());if(e)return e}var r;throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function ai(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function si(t,e){const r=ee[t.type]||{scales:{}},n=e.scales||{},i=ri(t.type,e),a=Object.create(null);return Object.keys(n).forEach((e=>{const s=n[e];if(!N(s))return console.error(`Invalid scale configuration for scale: ${e}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${e}`);const o=ii(e,s,function(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter((e=>e.xAxisID===t||e.yAxisID===t));if(r.length)return ai(t,"x",r[0])||ai(t,"y",r[0])}return{}}(e,t),se.scales[s.type]),l=function(t,e){return t===e?"_index_":"_value_"}(o,i),c=r.scales||{};a[e]=J(Object.create(null),[{axis:o},s,c[o],c[l]])})),t.data.datasets.forEach((r=>{const i=r.type||t.type,s=r.indexAxis||ri(i,e),o=(ee[i]||{}).scales||{};Object.keys(o).forEach((t=>{const e=function(t,e){let r=t;return"_index_"===t?r=e:"_value_"===t&&(r="x"===e?"y":"x"),r}(t,s),i=r[e+"AxisID"]||e;a[i]=a[i]||Object.create(null),J(a[i],[{axis:e},n[i],o[t]])}))})),Object.keys(a).forEach((t=>{const e=a[t];J(e,[se.scales[e.type],se.scale])})),a}function oi(t){const e=t.options||(t.options={});e.plugins=V(e.plugins,{}),e.scales=si(t,e)}function li(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const ci=new Map,hi=new Set;function di(t,e){let r=ci.get(t);return r||(r=e(),ci.set(t,r),hi.add(r)),r}const ui=(t,e,r)=>{const n=et(e,r);void 0!==n&&t.add(n)};class pi{constructor(t){this._config=function(t){return(t=t||{}).data=li(t.data),oi(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=li(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),oi(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return di(t,(()=>[[`datasets.${t}`,""]]))}datasetAnimationScopeKeys(t,e){return di(`${t}.transition.${e}`,(()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]]))}datasetElementScopeKeys(t,e){return di(`${t}-${e}`,(()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]]))}pluginScopeKeys(t){const e=t.id;return di(`${this.type}-plugin-${e}`,(()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const r=this._scopeCache;let n=r.get(t);return n&&!e||(n=new Map,r.set(t,n)),n}getOptionScopes(t,e,r){const{options:n,type:i}=this,a=this._cachedScopes(t,r),s=a.get(e);if(s)return s;const o=new Set;e.forEach((e=>{t&&(o.add(t),e.forEach((e=>ui(o,t,e)))),e.forEach((t=>ui(o,n,t))),e.forEach((t=>ui(o,ee[i]||{},t))),e.forEach((t=>ui(o,se,t))),e.forEach((t=>ui(o,re,t)))}));const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),hi.has(e)&&a.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,ee[e]||{},se.datasets[e]||{},{type:e},se,re]}resolveNamedOptions(t,e,r,n=[""]){const i={$shared:!0},{resolver:a,subPrefixes:s}=fi(this._resolverCache,t,n);let o=a;if(function(t,e){const{isScriptable:r,isIndexable:n}=Oe(t);for(const i of e){const e=r(i),a=n(i),s=(a||e)&&t[i];if(e&&(it(s)||mi(s))||a&&z(s))return!0}return!1}(a,e)){i.$shared=!1;o=Ee(a,r=it(r)?r():r,this.createResolver(t,r,s))}for(const t of e)i[t]=o[t];return i}createResolver(t,e,r=[""],n){const{resolver:i}=fi(this._resolverCache,t,r);return N(e)?Ee(i,e,void 0,n):i}}function fi(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const i=r.join();let a=n.get(i);if(!a){a={resolver:Te(e,r),subPrefixes:r.filter((t=>!t.toLowerCase().includes("hover")))},n.set(i,a)}return a}const mi=t=>N(t)&&Object.getOwnPropertyNames(t).reduce(((e,r)=>e||it(t[r])),!1);const gi=["top","bottom","left","right","chartArea"];function bi(t,e){return"top"===t||"bottom"===t||-1===gi.indexOf(t)&&"x"===e}function vi(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function yi(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),U(r&&r.onComplete,[t],e)}function wi(t){const e=t.chart,r=e.options.animation;U(r&&r.onProgress,[t],e)}function _i(t){return Ke()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const xi={},ki=t=>{const e=_i(t);return Object.values(xi).filter((t=>t.canvas===e)).pop()};function Si(t,e,r){const n=Object.keys(t);for(const i of n){const n=+i;if(n>=e){const a=t[i];delete t[i],(r>0||n>e)&&(t[n+r]=a)}}}class Ii{static defaults=se;static instances=xi;static overrides=ee;static registry=Jn;static version="4.3.0";static getChart=ki;static register(...t){Jn.add(...t),Mi()}static unregister(...t){Jn.remove(...t),Mi()}constructor(t,e){const r=this.config=new pi(e),n=_i(t),i=ki(n);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function(t){return!Ke()||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?Sn:jn}(n)),this.platform.updateConfig(r);const s=this.platform.acquireContext(n,a.aspectRatio),o=s&&s.canvas,l=o&&o.height,c=o&&o.width;this.id=F(),this.ctx=s,this.canvas=o,this.width=c,this.height=l,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Kn,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}((t=>this.update(t)),a.resizeDelay||0),this._dataChanges=[],xi[this.id]=this,s&&o?(Ir.listen(this,"complete",yi),Ir.listen(this,"progress",wi),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:r,height:n,_aspectRatio:i}=this;return j(t)?e&&i?i:n?r/n:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Jn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():lr(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return he(this.canvas,this.ctx),this}stop(){return Ir.stop(this),this}resize(t,e){Ir.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const r=this.options,n=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(n,t,e,i),s=r.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,lr(this,s,!0)&&(this.notifyPlugins("resize",{size:a}),U(r.onResize,[this,a],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){q(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,r=this.scales,n=Object.keys(r).reduce(((t,e)=>(t[e]=!1,t)),{});let i=[];e&&(i=i.concat(Object.keys(e).map((t=>{const r=e[t],n=ii(t,r),i="r"===n,a="x"===n;return{options:r,dposition:i?"chartArea":a?"bottom":"left",dtype:i?"radialLinear":a?"category":"linear"}})))),q(i,(e=>{const i=e.options,a=i.id,s=ii(a,i),o=V(i.type,e.dtype);void 0!==i.position&&bi(i.position,s)===bi(e.dposition)||(i.position=e.dposition),n[a]=!0;let l=null;if(a in r&&r[a].type===o)l=r[a];else{l=new(Jn.getScale(o))({id:a,type:o,ctx:this.ctx,chart:this}),r[l.id]=l}l.init(i,t)})),q(n,((t,e)=>{t||delete r[e]})),q(r,(t=>{xn.configure(this,t,t.options),xn.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,r=t.length;if(t.sort(((t,e)=>t.index-e.index)),r>e){for(let t=e;t<r;++t)this._destroyDatasetMeta(t);t.splice(e,r-e)}this._sortedMetasets=t.slice(0).sort(vi("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,r)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(r)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let r,n;for(this._removeUnreferencedMetasets(),r=0,n=e.length;r<n;r++){const n=e[r];let i=this.getDatasetMeta(r);const a=n.type||this.config.type;if(i.type&&i.type!==a&&(this._destroyDatasetMeta(r),i=this.getDatasetMeta(r)),i.type=a,i.indexAxis=n.indexAxis||ri(a,this.options),i.order=n.order||0,i.index=r,i.label=""+n.label,i.visible=this.isDatasetVisible(r),i.controller)i.controller.updateIndex(r),i.controller.linkScales();else{const e=Jn.getController(a),{datasetElementType:n,dataElementType:s}=se.datasets[a];Object.assign(e,{dataElementType:Jn.getElement(s),datasetElementType:n&&Jn.getElement(n)}),i.controller=new e(this,r),t.push(i.controller)}}return this._updateMetasets(),t}_resetElements(){q(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const r=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let t=0,e=this.data.datasets.length;t<e;t++){const{controller:e}=this.getDatasetMeta(t),r=!n&&-1===i.indexOf(e);e.buildOrUpdateElements(r),a=Math.max(+e.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),n||q(i,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(vi("z","_idx"));const{_active:s,_lastEvent:o}=this;o?this._eventHandler(o,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){q(this.scales,(t=>{xn.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),r=new Set(t.events);at(e,r)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:r,start:n,count:i}of e){Si(t,n,"_removeElements"===r?-i:i)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,r=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),n=r(0);for(let t=1;t<e;t++)if(!at(n,r(t)))return;return Array.from(n).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;xn.update(this,this.width,this.height,t);const e=this.chartArea,r=e.width<=0||e.height<=0;this._layers=[],q(this.boxes,(t=>{r&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,r=this.data.datasets.length;e<r;++e)this._updateDataset(e,it(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const r=this.getDatasetMeta(t),n={meta:r,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(r.controller._update(e),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Ir.has(this)?this.attached&&!Ir.running(this)&&Ir.start(this):(this.draw(),yi({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,r=[];let n,i;for(n=0,i=e.length;n<i;++n){const i=e[n];t&&!i.visible||r.push(i)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,r=t._clip,n=!r.disabled,i=function(t){const{xScale:e,yScale:r}=t;if(e&&r)return{left:e.left,right:e.right,top:r.top,bottom:r.bottom}}(t)||this.chartArea,a={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(n&&fe(e,{left:!1===r.left?0:i.left-r.left,right:!1===r.right?this.width:i.right+r.right,top:!1===r.top?0:i.top-r.top,bottom:!1===r.bottom?this.height:i.bottom+r.bottom}),t.controller.draw(),n&&me(e),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return pe(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,r,n){const i=cn.modes[e];return"function"==typeof i?i(this,t,r,n):[]}getDatasetMeta(t){const e=this.data.datasets[t],r=this._metasets;let n=r.filter((t=>t&&t._dataset===e)).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},r.push(n)),n}getContext(){return this.$context||(this.$context=$e(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const r=this.getDatasetMeta(t);return"boolean"==typeof r.hidden?!r.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,r){const n=r?"show":"hide",i=this.getDatasetMeta(t),a=i.controller._resolveAnimations(void 0,n);nt(e)?(i.data[e].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),a.update(i,{visible:r}),this.update((e=>e.datasetIndex===t?n:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Ir.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),he(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete xi[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,r=(r,n)=>{e.addEventListener(this,r,n),t[r]=n},n=(t,e,r)=>{t.offsetX=e,t.offsetY=r,this._eventHandler(t)};q(this.options.events,(t=>r(t,n)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,r=(r,n)=>{e.addEventListener(this,r,n),t[r]=n},n=(r,n)=>{t[r]&&(e.removeEventListener(this,r,n),delete t[r])},i=(t,e)=>{this.canvas&&this.resize(t,e)};let a;const s=()=>{n("attach",s),this.attached=!0,this.resize(),r("resize",i),r("detach",a)};a=()=>{this.attached=!1,n("resize",i),this._stop(),this._resize(0,0),r("attach",s)},e.isAttached(this.canvas)?s():a()}unbindEvents(){q(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},q(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,r){const n=r?"set":"remove";let i,a,s,o;for("dataset"===e&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+n+"DatasetHoverStyle"]()),s=0,o=t.length;s<o;++s){a=t[s];const e=a&&this.getDatasetMeta(a.datasetIndex).controller;e&&e[n+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],r=t.map((({datasetIndex:t,index:e})=>{const r=this.getDatasetMeta(t);if(!r)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:r.data[e],index:e}}));!Z(r,e)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,e))}notifyPlugins(t,e,r){return this._plugins.notify(this,t,e,r)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,r){const n=this.options.hover,i=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),a=i(e,t),s=r?t:i(t,e);a.length&&this.updateHoverStyle(a,n.mode,!1),s.length&&n.mode&&this.updateHoverStyle(s,n.mode,!0)}_eventHandler(t,e){const r={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},n=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",r,n))return;const i=this._handleEvent(t,e,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,n),(i||r.changed)&&this.render(),this}_handleEvent(t,e,r){const{_active:n=[],options:i}=this,a=e,s=this._getActiveElements(t,n,r,a),o=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),l=function(t,e,r,n){return r&&"mouseout"!==t.type?n?e:t:null}(t,this._lastEvent,r,o);r&&(this._lastEvent=null,U(i.onHover,[t,s,this],this),o&&U(i.onClick,[t,s,this],this));const c=!Z(s,n);return(c||e)&&(this._active=s,this._updateHoverStyles(s,n,e)),this._lastEvent=l,c}_getActiveElements(t,e,r,n){if("mouseout"===t.type)return[];if(!r)return e;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,n)}}function Mi(){return q(Ii.instances,(t=>t._plugins.invalidate()))}function Di(t,e,r,n){const i=Ie(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const a=(r-e)/2,s=Math.min(a,n*e/2),o=t=>{const e=(r-Math.min(a,t))*n/2;return Ct(t,0,Math.min(a,e))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:Ct(i.innerStart,0,s),innerEnd:Ct(i.innerEnd,0,s)}}function Ci(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function Ai(t,e,r,n,i,a){const{x:s,y:o,startAngle:l,pixelMargin:c,innerRadius:h}=e,d=Math.max(e.outerRadius+n+r-c,0),u=h>0?h+n+r+c:0;let p=0;const f=i-l;if(n){const t=((h>0?h-n:0)+(d>0?d-n:0))/2;p=(f-(0!==t?f*t/(t+n):f))/2}const m=(f-Math.max(.001,f*d-r/st)/d)/2,g=l+m+p,b=i-m-p,{outerStart:v,outerEnd:y,innerStart:w,innerEnd:_}=Di(e,u,d,b-g),x=d-v,k=d-y,S=g+v/x,I=b-y/k,M=u+w,D=u+_,C=g+w/M,A=b-_/D;if(t.beginPath(),a){const e=(S+I)/2;if(t.arc(s,o,d,S,e),t.arc(s,o,d,e,I),y>0){const e=Ci(k,I,s,o);t.arc(e.x,e.y,y,I,b+dt)}const r=Ci(D,b,s,o);if(t.lineTo(r.x,r.y),_>0){const e=Ci(D,A,s,o);t.arc(e.x,e.y,_,b+dt,A+Math.PI)}const n=(b-_/u+(g+w/u))/2;if(t.arc(s,o,u,b-_/u,n,!0),t.arc(s,o,u,n,g+w/u,!0),w>0){const e=Ci(M,C,s,o);t.arc(e.x,e.y,w,C+Math.PI,g-dt)}const i=Ci(x,g,s,o);if(t.lineTo(i.x,i.y),v>0){const e=Ci(x,S,s,o);t.arc(e.x,e.y,v,g-dt,S)}}else{t.moveTo(s,o);const e=Math.cos(S)*d+s,r=Math.sin(S)*d+o;t.lineTo(e,r);const n=Math.cos(I)*d+s,i=Math.sin(I)*d+o;t.lineTo(n,i)}t.closePath()}function Pi(t,e,r,n,i){const{fullCircles:a,startAngle:s,circumference:o,options:l}=e,{borderWidth:c,borderJoinStyle:h,borderDash:d,borderDashOffset:u}=l,p="inner"===l.borderAlign;if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=u,p?(t.lineWidth=2*c,t.lineJoin=h||"round"):(t.lineWidth=c,t.lineJoin=h||"bevel");let f=e.endAngle;if(a){Ai(t,e,r,n,f,i);for(let e=0;e<a;++e)t.stroke();isNaN(o)||(f=s+(o%ot||ot))}p&&function(t,e,r){const{startAngle:n,pixelMargin:i,x:a,y:s,outerRadius:o,innerRadius:l}=e;let c=i/o;t.beginPath(),t.arc(a,s,o,n-c,r+c),l>i?(c=i/l,t.arc(a,s,l,r+c,n-c,!0)):t.arc(a,s,i,r+dt,n-dt),t.closePath(),t.clip()}(t,e,f),a||(Ai(t,e,r,n,f,i),t.stroke())}function $i(t,e,r=e){t.lineCap=V(r.borderCapStyle,e.borderCapStyle),t.setLineDash(V(r.borderDash,e.borderDash)),t.lineDashOffset=V(r.borderDashOffset,e.borderDashOffset),t.lineJoin=V(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=V(r.borderWidth,e.borderWidth),t.strokeStyle=V(r.borderColor,e.borderColor)}function Ti(t,e,r){t.lineTo(r.x,r.y)}function Ei(t,e,r={}){const n=t.length,{start:i=0,end:a=n-1}=r,{start:s,end:o}=e,l=Math.max(i,s),c=Math.min(a,o),h=i<s&&a<s||i>o&&a>o;return{count:n,start:l,loop:e.loop,ilen:c<l&&!h?n+c-l:c-l}}function Oi(t,e,r,n){const{points:i,options:a}=e,{count:s,start:o,loop:l,ilen:c}=Ei(i,r,n),h=function(t){return t.stepped?ge:t.tension||"monotone"===t.cubicInterpolationMode?be:Ti}(a);let d,u,p,{move:f=!0,reverse:m}=n||{};for(d=0;d<=c;++d)u=i[(o+(m?c-d:d))%s],u.skip||(f?(t.moveTo(u.x,u.y),f=!1):h(t,p,u,m,a.stepped),p=u);return l&&(u=i[(o+(m?c:0))%s],h(t,p,u,m,a.stepped)),!!l}function Ri(t,e,r,n){const i=e.points,{count:a,start:s,ilen:o}=Ei(i,r,n),{move:l=!0,reverse:c}=n||{};let h,d,u,p,f,m,g=0,b=0;const v=t=>(s+(c?o-t:t))%a,y=()=>{p!==f&&(t.lineTo(g,f),t.lineTo(g,p),t.lineTo(g,m))};for(l&&(d=i[v(0)],t.moveTo(d.x,d.y)),h=0;h<=o;++h){if(d=i[v(h)],d.skip)continue;const e=d.x,r=d.y,n=0|e;n===u?(r<p?p=r:r>f&&(f=r),g=(b*g+e)/++b):(y(),t.lineTo(e,r),u=n,b=0,p=f=r),m=r}y()}function Li(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!(t._decimated||t._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||r)?Ri:Oi}const Fi="function"==typeof Path2D;function ji(t,e,r,n){Fi&&!e.options.segment?function(t,e,r,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,r,n)&&i.closePath()),$i(t,e.options),t.stroke(i)}(t,e,r,n):function(t,e,r,n){const{segments:i,options:a}=e,s=Li(e);for(const o of i)$i(t,a,o.style),t.beginPath(),s(t,e,o,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}(t,e,r,n)}class zi extends zn{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const r=this.options;if((r.tension||"monotone"===r.cubicInterpolationMode)&&!r.stepped&&!this._pointsUpdated){const n=r.spanGaps?this._loop:this._fullLoop;Je(this._points,r,t,n,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,e){const r=t.points,n=t.options.spanGaps,i=r.length;if(!i)return[];const a=!!t._loop,{start:s,end:o}=function(t,e,r,n){let i=0,a=e-1;if(r&&!n)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,r&&(a+=i);a>i&&t[a%e].skip;)a--;return a%=e,{start:i,end:a}}(r,i,a,n);return _r(t,!0===n?[{start:s,end:o,loop:a}]:function(t,e,r,n){const i=t.length,a=[];let s,o=e,l=t[e];for(s=e+1;s<=r;++s){const r=t[s%i];r.skip||r.stop?l.skip||(n=!1,a.push({start:e%i,end:(s-1)%i,loop:n}),e=o=r.stop?s:null):(o=s,l.skip&&(e=s)),l=r}return null!==o&&a.push({start:e%i,end:o%i,loop:n}),a}(r,s,o<s?o+i:o,!!t._fullLoop&&0===s&&o===i-1),r,e)}(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,r=t.length;return r&&e[t[r-1].end]}interpolate(t,e){const r=this.options,n=t[e],i=this.points,a=wr(this,{property:e,start:n,end:n});if(!a.length)return;const s=[],o=function(t){return t.stepped?ur:t.tension||"monotone"===t.cubicInterpolationMode?pr:dr}(r);let l,c;for(l=0,c=a.length;l<c;++l){const{start:c,end:h}=a[l],d=i[c],u=i[h];if(d===u){s.push(d);continue}const p=o(d,u,Math.abs((n-d[e])/(u[e]-d[e])),r.stepped);p[e]=t[e],s.push(p)}return 1===s.length?s[0]:s}pathSegment(t,e,r){return Li(this)(t,this,e,r)}path(t,e,r){const n=this.segments,i=Li(this);let a=this._loop;e=e||0,r=r||this.points.length-e;for(const s of n)a&=i(t,this,s,{start:e,end:e+r-1});return!!a}draw(t,e,r,n){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),ji(t,this,r,n),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Ni(t,e,r,n){const i=t.options,{[r]:a}=t.getProps([r],n);return Math.abs(e-a)<i.radius+i.hitRadius}function Bi(t,e){const{x:r,y:n,base:i,width:a,height:s}=t.getProps(["x","y","base","width","height"],e);let o,l,c,h,d;return t.horizontal?(d=s/2,o=Math.min(r,i),l=Math.max(r,i),c=n-d,h=n+d):(d=a/2,o=r-d,l=r+d,c=Math.min(n,i),h=Math.max(n,i)),{left:o,top:c,right:l,bottom:h}}function Hi(t,e,r,n){return t?0:Ct(e,r,n)}function Vi(t){const e=Bi(t),r=e.right-e.left,n=e.bottom-e.top,i=function(t,e,r){const n=t.options.borderWidth,i=t.borderSkipped,a=Me(n);return{t:Hi(i.top,a.top,0,r),r:Hi(i.right,a.right,0,e),b:Hi(i.bottom,a.bottom,0,r),l:Hi(i.left,a.left,0,e)}}(t,r/2,n/2),a=function(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,a=De(i),s=Math.min(e,r),o=t.borderSkipped,l=n||N(i);return{topLeft:Hi(!l||o.top||o.left,a.topLeft,0,s),topRight:Hi(!l||o.top||o.right,a.topRight,0,s),bottomLeft:Hi(!l||o.bottom||o.left,a.bottomLeft,0,s),bottomRight:Hi(!l||o.bottom||o.right,a.bottomRight,0,s)}}(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:a},inner:{x:e.left+i.l,y:e.top+i.t,w:r-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function Wi(t,e,r,n){const i=null===e,a=null===r,s=t&&!(i&&a)&&Bi(t,n);return s&&(i||At(e,s.left,s.right))&&(a||At(r,s.top,s.bottom))}function Ui(t,e){t.rect(e.x,e.y,e.w,e.h)}function qi(t,e,r={}){const n=t.x!==r.x?-e:0,i=t.y!==r.y?-e:0,a=(t.x+t.w!==r.x+r.w?e:0)-n,s=(t.y+t.h!==r.y+r.h?e:0)-i;return{x:t.x+n,y:t.y+i,w:t.w+a,h:t.h+s,radius:t.radius}}var Zi=Object.freeze({__proto__:null,ArcElement:class extends zn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,r){const n=this.getProps(["x","y"],r),{angle:i,distance:a}=kt(n,{x:t,y:e}),{startAngle:s,endAngle:o,innerRadius:l,outerRadius:c,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),d=(this.options.spacing+this.options.borderWidth)/2,u=V(h,o-s)>=ot||Dt(i,s,o),p=At(a,l+d,c+d);return u&&p}getCenterPoint(t){const{x:e,y:r,startAngle:n,endAngle:i,innerRadius:a,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:o,spacing:l}=this.options,c=(n+i)/2,h=(a+s+l+o)/2;return{x:e+Math.cos(c)*h,y:r+Math.sin(c)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:r}=this,n=(e.offset||0)/4,i=(e.spacing||0)/2,a=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=r>ot?Math.floor(r/ot):0,0===r||this.innerRadius<0||this.outerRadius<0)return;t.save();const s=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(s)*n,Math.sin(s)*n);const o=n*(1-Math.sin(Math.min(st,r||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(t,e,r,n,i){const{fullCircles:a,startAngle:s,circumference:o}=e;let l=e.endAngle;if(a){Ai(t,e,r,n,l,i);for(let e=0;e<a;++e)t.fill();isNaN(o)||(l=s+(o%ot||ot))}Ai(t,e,r,n,l,i),t.fill()}(t,this,o,i,a),Pi(t,this,o,i,a),t.restore()}},BarElement:class extends zn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:r,backgroundColor:n}}=this,{inner:i,outer:a}=Vi(this),s=(o=a.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?_e:Ui;var o;t.save(),a.w===i.w&&a.h===i.h||(t.beginPath(),s(t,qi(a,e,i)),t.clip(),s(t,qi(i,-e,a)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),s(t,qi(i,e)),t.fillStyle=n,t.fill(),t.restore()}inRange(t,e,r){return Wi(this,t,e,r)}inXRange(t,e){return Wi(this,t,null,e)}inYRange(t,e){return Wi(this,null,t,e)}getCenterPoint(t){const{x:e,y:r,base:n,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(e+n)/2:e,y:i?r:(r+n)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}},LineElement:zi,PointElement:class extends zn{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,r){const n=this.options,{x:i,y:a}=this.getProps(["x","y"],r);return Math.pow(t-i,2)+Math.pow(e-a,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(t,e){return Ni(this,t,"x",e)}inYRange(t,e){return Ni(this,t,"y",e)}getCenterPoint(t){const{x:e,y:r}=this.getProps(["x","y"],t);return{x:e,y:r}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const r=this.options;this.skip||r.radius<.1||!pe(this,e,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,de(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}});const Xi=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Gi=Xi.map((t=>t.replace("rgb(","rgba(").replace(")",", 0.5)")));function Yi(t){return Xi[t%Xi.length]}function Qi(t){return Gi[t%Gi.length]}function Ji(t){let e=0;return(r,n)=>{const i=t.getDatasetMeta(n).controller;i instanceof Yr?e=function(t,e){return t.backgroundColor=t.data.map((()=>Yi(e++))),e}(r,e):i instanceof Qr?e=function(t,e){return t.backgroundColor=t.data.map((()=>Qi(e++))),e}(r,e):i&&(e=function(t,e){return t.borderColor=Yi(e),t.backgroundColor=Qi(e),++e}(r,e))}}function Ki(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}var ta={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,r){if(!r.enabled)return;const{data:{datasets:n},options:i}=t.config,{elements:a}=i;if(!r.forceOverride&&(Ki(n)||(s=i)&&(s.borderColor||s.backgroundColor)||a&&Ki(a)))return;var s;const o=Ji(t);n.forEach(o)}};function ea(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function ra(t){t.data.datasets.forEach((t=>{ea(t)}))}var na={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,r)=>{if(!r.enabled)return void ra(t);const n=t.width;t.data.datasets.forEach(((e,i)=>{const{_data:a,indexAxis:s}=e,o=t.getDatasetMeta(i),l=a||e.data;if("y"===Pe([s,t.options.indexAxis]))return;if(!o.controller.supportsDecimation)return;const c=t.scales[o.xAxisID];if("linear"!==c.type&&"time"!==c.type)return;if(t.options.parsing)return;let{start:h,count:d}=function(t,e){const r=e.length;let n,i=0;const{iScale:a}=t,{min:s,max:o,minDefined:l,maxDefined:c}=a.getUserBounds();return l&&(i=Ct($t(e,a.axis,s).lo,0,r-1)),n=c?Ct($t(e,a.axis,o).hi+1,i,r)-i:r-i,{start:i,count:n}}(o,l);if(d<=(r.threshold||4*n))return void ea(e);let u;switch(j(a)&&(e._data=l,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),r.algorithm){case"lttb":u=function(t,e,r,n,i){const a=i.samples||n;if(a>=r)return t.slice(e,e+r);const s=[],o=(r-2)/(a-2);let l=0;const c=e+r-1;let h,d,u,p,f,m=e;for(s[l++]=t[m],h=0;h<a-2;h++){let n,i=0,a=0;const c=Math.floor((h+1)*o)+1+e,g=Math.min(Math.floor((h+2)*o)+1,r)+e,b=g-c;for(n=c;n<g;n++)i+=t[n].x,a+=t[n].y;i/=b,a/=b;const v=Math.floor(h*o)+1+e,y=Math.min(Math.floor((h+1)*o)+1,r)+e,{x:w,y:_}=t[m];for(u=p=-1,n=v;n<y;n++)p=.5*Math.abs((w-i)*(t[n].y-_)-(w-t[n].x)*(a-_)),p>u&&(u=p,d=t[n],f=n);s[l++]=d,m=f}return s[l++]=t[c],s}(l,h,d,n,r);break;case"min-max":u=function(t,e,r,n){let i,a,s,o,l,c,h,d,u,p,f=0,m=0;const g=[],b=e+r-1,v=t[e].x,y=t[b].x-v;for(i=e;i<e+r;++i){a=t[i],s=(a.x-v)/y*n,o=a.y;const e=0|s;if(e===l)o<u?(u=o,c=i):o>p&&(p=o,h=i),f=(m*f+a.x)/++m;else{const r=i-1;if(!j(c)&&!j(h)){const e=Math.min(c,h),n=Math.max(c,h);e!==d&&e!==r&&g.push({...t[e],x:f}),n!==d&&n!==r&&g.push({...t[n],x:f})}i>0&&r!==d&&g.push(t[r]),g.push(a),l=e,m=0,u=p=o,c=h=d=i}}return g}(l,h,d,n);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}e._decimated=u}))},destroy(t){ra(t)}};function ia(t,e,r,n){if(n)return;let i=e[t],a=r[t];return"angle"===t&&(i=Mt(i),a=Mt(a)),{property:t,start:i,end:a}}function aa(t,e,r){for(;e>t;e--){const t=r[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function sa(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function oa(t,e){let r=[],n=!1;return z(t)?(n=!0,r=t):r=function(t,e){const{x:r=null,y:n=null}=t||{},i=e.points,a=[];return e.segments.forEach((({start:t,end:e})=>{e=aa(t,e,i);const s=i[t],o=i[e];null!==n?(a.push({x:s.x,y:n}),a.push({x:o.x,y:n})):null!==r&&(a.push({x:r,y:s.y}),a.push({x:r,y:o.y}))})),a}(t,e),r.length?new zi({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function la(t){return t&&!1!==t.fill}function ca(t,e,r){let n=t[e].fill;const i=[e];let a;if(!r)return n;for(;!1!==n&&-1===i.indexOf(n);){if(!B(n))return n;if(a=t[n],!a)return!1;if(a.visible)return n;i.push(n),n=a.fill}return!1}function ha(t,e,r){const n=function(t){const e=t.options,r=e.fill;let n=V(r&&r.target,r);void 0===n&&(n=!!e.backgroundColor);if(!1===n||null===n)return!1;if(!0===n)return"origin";return n}(t);if(N(n))return!isNaN(n.value)&&n;let i=parseFloat(n);return B(i)&&Math.floor(i)===i?function(t,e,r,n){"-"!==t&&"+"!==t||(r=e+r);if(r===e||r<0||r>=n)return!1;return r}(n[0],e,i,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function da(t,e,r){const n=[];for(let i=0;i<r.length;i++){const a=r[i],{first:s,last:o,point:l}=ua(a,e,"x");if(!(!l||s&&o))if(s)n.unshift(l);else if(t.push(l),!o)break}t.push(...n)}function ua(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const i=n[r],a=t.segments,s=t.points;let o=!1,l=!1;for(let t=0;t<a.length;t++){const e=a[t],n=s[e.start][r],c=s[e.end][r];if(At(i,n,c)){o=i===n,l=i===c;break}}return{first:o,last:l,point:n}}class pa{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,r){const{x:n,y:i,radius:a}=this;return e=e||{start:0,end:ot},t.arc(n,i,a,e.end,e.start,!0),!r.bounds}interpolate(t){const{x:e,y:r,radius:n}=this,i=t.angle;return{x:e+Math.cos(i)*n,y:r+Math.sin(i)*n,angle:i}}}function fa(t){const{chart:e,fill:r,line:n}=t;if(B(r))return function(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}(e,r);if("stack"===r)return function(t){const{scale:e,index:r,line:n}=t,i=[],a=n.segments,s=n.points,o=function(t,e){const r=[],n=t.getMatchingVisibleMetas("line");for(let t=0;t<n.length;t++){const i=n[t];if(i.index===e)break;i.hidden||r.unshift(i.dataset)}return r}(e,r);o.push(oa({x:null,y:e.bottom},n));for(let t=0;t<a.length;t++){const e=a[t];for(let t=e.start;t<=e.end;t++)da(i,s[t],o)}return new zi({points:i,options:{}})}(t);if("shape"===r)return!0;const i=function(t){if((t.scale||{}).getPointPositionForValue)return function(t){const{scale:e,fill:r}=t,n=e.options,i=e.getLabels().length,a=n.reverse?e.max:e.min,s=function(t,e,r){let n;return n="start"===t?r:"end"===t?e.options.reverse?e.min:e.max:N(t)?t.value:e.getBaseValue(),n}(r,e,a),o=[];if(n.grid.circular){const t=e.getPointPositionForValue(0,a);return new pa({x:t.x,y:t.y,radius:e.getDistanceFromCenterForValue(s)})}for(let t=0;t<i;++t)o.push(e.getPointPositionForValue(t,s));return o}(t);return function(t){const{scale:e={},fill:r}=t,n=function(t,e){let r=null;return"start"===t?r=e.bottom:"end"===t?r=e.top:N(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}(r,e);if(B(n)){const t=e.isHorizontal();return{x:t?n:null,y:t?null:n}}return null}(t)}(t);return i instanceof pa?i:oa(i,n)}function ma(t,e,r){const n=fa(e),{line:i,scale:a,axis:s}=e,o=i.options,l=o.fill,c=o.backgroundColor,{above:h=c,below:d=c}=l||{};n&&i.points.length&&(fe(t,r),function(t,e){const{line:r,target:n,above:i,below:a,area:s,scale:o}=e,l=r._loop?"angle":e.axis;t.save(),"x"===l&&a!==i&&(ga(t,n,s.top),ba(t,{line:r,target:n,color:i,scale:o,property:l}),t.restore(),t.save(),ga(t,n,s.bottom));ba(t,{line:r,target:n,color:a,scale:o,property:l}),t.restore()}(t,{line:i,target:n,above:h,below:d,area:r,scale:a,axis:s}),me(t))}function ga(t,e,r){const{segments:n,points:i}=e;let a=!0,s=!1;t.beginPath();for(const o of n){const{start:n,end:l}=o,c=i[n],h=i[aa(n,l,i)];a?(t.moveTo(c.x,c.y),a=!1):(t.lineTo(c.x,r),t.lineTo(c.x,c.y)),s=!!e.pathSegment(t,o,{move:s}),s?t.closePath():t.lineTo(h.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function ba(t,e){const{line:r,target:n,property:i,color:a,scale:s}=e,o=function(t,e,r){const n=t.segments,i=t.points,a=e.points,s=[];for(const t of n){let{start:n,end:o}=t;o=aa(n,o,i);const l=ia(r,i[n],i[o],t.loop);if(!e.segments){s.push({source:t,target:l,start:i[n],end:i[o]});continue}const c=wr(e,l);for(const e of c){const n=ia(r,a[e.start],a[e.end],e.loop),o=yr(t,i,n);for(const t of o)s.push({source:t,target:e,start:{[r]:sa(l,n,"start",Math.max)},end:{[r]:sa(l,n,"end",Math.min)}})}}return s}(r,n,i);for(const{source:e,target:l,start:c,end:h}of o){const{style:{backgroundColor:o=a}={}}=e,d=!0!==n;t.save(),t.fillStyle=o,va(t,s,d&&ia(i,c,h)),t.beginPath();const u=!!r.pathSegment(t,e);let p;if(d){u?t.closePath():ya(t,n,h,i);const e=!!n.pathSegment(t,l,{move:u,reverse:!0});p=u&&e,p||ya(t,n,c,i)}t.closePath(),t.fill(p?"evenodd":"nonzero"),t.restore()}}function va(t,e,r){const{top:n,bottom:i}=e.chart.chartArea,{property:a,start:s,end:o}=r||{};"x"===a&&(t.beginPath(),t.rect(s,n,o-s,i-n),t.clip())}function ya(t,e,r,n){const i=e.interpolate(r,n);i&&t.lineTo(i.x,i.y)}var wa={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,i=[];let a,s,o,l;for(s=0;s<n;++s)a=t.getDatasetMeta(s),o=a.dataset,l=null,o&&o.options&&o instanceof zi&&(l={visible:t.isDatasetVisible(s),index:s,fill:ha(o,s,n),chart:t,axis:a.controller.options.indexAxis,scale:a.vScale,line:o}),a.$filler=l,i.push(l);for(s=0;s<n;++s)l=i[s],l&&!1!==l.fill&&(l.fill=ca(i,s,r.propagate))},beforeDraw(t,e,r){const n="beforeDraw"===r.drawTime,i=t.getSortedVisibleDatasetMetas(),a=t.chartArea;for(let e=i.length-1;e>=0;--e){const r=i[e].$filler;r&&(r.line.updateControlPoints(a,r.axis),n&&r.fill&&ma(t.ctx,r,a))}},beforeDatasetsDraw(t,e,r){if("beforeDatasetsDraw"!==r.drawTime)return;const n=t.getSortedVisibleDatasetMetas();for(let e=n.length-1;e>=0;--e){const r=n[e].$filler;la(r)&&ma(t.ctx,r,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;la(n)&&"beforeDatasetDraw"===r.drawTime&&ma(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const _a=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}};class xa extends zn{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,r){this.maxWidth=t,this.maxHeight=e,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=U(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,r)=>t.sort(e,r,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const r=t.labels,n=Ae(r.font),i=n.size,a=this._computeTitleHeight(),{boxWidth:s,itemHeight:o}=_a(r,i);let l,c;e.font=n.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(a,i,s,o)+10):(c=this.maxHeight,l=this._fitCols(a,n,s,o)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,e,r,n){const{ctx:i,maxWidth:a,options:{labels:{padding:s}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=n+s;let h=t;i.textAlign="left",i.textBaseline="middle";let d=-1,u=-c;return this.legendItems.forEach(((t,p)=>{const f=r+e/2+i.measureText(t.text).width;(0===p||l[l.length-1]+f+2*s>a)&&(h+=c,l[l.length-(p>0?0:1)]=0,u+=c,d++),o[p]={left:0,top:u,row:d,width:f,height:n},l[l.length-1]+=f+s})),h}_fitCols(t,e,r,n){const{ctx:i,maxHeight:a,options:{labels:{padding:s}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=a-t;let h=s,d=0,u=0,p=0,f=0;return this.legendItems.forEach(((t,a)=>{const{itemWidth:m,itemHeight:g}=function(t,e,r,n,i){const a=function(t,e,r,n){let i=t.text;i&&"string"!=typeof i&&(i=i.reduce(((t,e)=>t.length>e.length?t:e)));return e+r.size/2+n.measureText(i).width}(n,t,e,r),s=function(t,e,r){let n=t;"string"!=typeof e.text&&(n=ka(e,r));return n}(i,n,e.lineHeight);return{itemWidth:a,itemHeight:s}}(r,e,i,t,n);a>0&&u+g+2*s>c&&(h+=d+s,l.push({width:d,height:u}),p+=d+s,f++,d=u=0),o[a]={left:p,top:u,col:f,width:m,height:g},d=Math.max(d,m),u+=g+s})),h+=d,l.push({width:d,height:u}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:r,labels:{padding:n},rtl:i}}=this,a=fr(i,this.left,this.width);if(this.isHorizontal()){let i=0,s=zt(r,this.left+n,this.right-this.lineWidths[i]);for(const o of e)i!==o.row&&(i=o.row,s=zt(r,this.left+n,this.right-this.lineWidths[i])),o.top+=this.top+t+n,o.left=a.leftForLtr(a.x(s),o.width),s+=o.width+n}else{let i=0,s=zt(r,this.top+t+n,this.bottom-this.columnSizes[i].height);for(const o of e)o.col!==i&&(i=o.col,s=zt(r,this.top+t+n,this.bottom-this.columnSizes[i].height)),o.top=s,o.left+=this.left+n,o.left=a.leftForLtr(a.x(o.left),o.width),s+=o.height+n}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;fe(t,this),this._draw(),me(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:r,ctx:n}=this,{align:i,labels:a}=t,s=se.color,o=fr(t.rtl,this.left,this.width),l=Ae(a.font),{padding:c}=a,h=l.size,d=h/2;let u;this.drawTitle(),n.textAlign=o.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=l.string;const{boxWidth:p,boxHeight:f,itemHeight:m}=_a(a,h),g=this.isHorizontal(),b=this._computeTitleHeight();u=g?{x:zt(i,this.left+c,this.right-r[0]),y:this.top+c+b,line:0}:{x:this.left+c,y:zt(i,this.top+b+c,this.bottom-e[0].height),line:0},mr(this.ctx,t.textDirection);const v=m+c;this.legendItems.forEach(((y,w)=>{n.strokeStyle=y.fontColor,n.fillStyle=y.fontColor;const _=n.measureText(y.text).width,x=o.textAlign(y.textAlign||(y.textAlign=a.textAlign)),k=p+d+_;let S=u.x,I=u.y;o.setWidth(this.width),g?w>0&&S+k+c>this.right&&(I=u.y+=v,u.line++,S=u.x=zt(i,this.left+c,this.right-r[u.line])):w>0&&I+v>this.bottom&&(S=u.x=S+e[u.line].width+c,u.line++,I=u.y=zt(i,this.top+b+c,this.bottom-e[u.line].height));if(function(t,e,r){if(isNaN(p)||p<=0||isNaN(f)||f<0)return;n.save();const i=V(r.lineWidth,1);if(n.fillStyle=V(r.fillStyle,s),n.lineCap=V(r.lineCap,"butt"),n.lineDashOffset=V(r.lineDashOffset,0),n.lineJoin=V(r.lineJoin,"miter"),n.lineWidth=i,n.strokeStyle=V(r.strokeStyle,s),n.setLineDash(V(r.lineDash,[])),a.usePointStyle){const s={radius:f*Math.SQRT2/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:i},l=o.xPlus(t,p/2);ue(n,s,l,e+d,a.pointStyleWidth&&p)}else{const a=e+Math.max((h-f)/2,0),s=o.leftForLtr(t,p),l=De(r.borderRadius);n.beginPath(),Object.values(l).some((t=>0!==t))?_e(n,{x:s,y:a,w:p,h:f,radius:l}):n.rect(s,a,p,f),n.fill(),0!==i&&n.stroke()}n.restore()}(o.x(S),I,y),S=((t,e,r,n)=>t===(n?"left":"right")?r:"center"===t?(e+r)/2:e)(x,S+p+d,g?S+k:this.right,t.rtl),function(t,e,r){we(n,r.text,t,e+m/2,l,{strikethrough:r.hidden,textAlign:o.textAlign(r.textAlign)})}(o.x(S),I,y),g)u.x+=k+c;else if("string"!=typeof y.text){const t=l.lineHeight;u.y+=ka(y,t)}else u.y+=v})),gr(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,r=Ae(e.font),n=Ce(e.padding);if(!e.display)return;const i=fr(t.rtl,this.left,this.width),a=this.ctx,s=e.position,o=r.size/2,l=n.top+o;let c,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),c=this.top+l,h=zt(t.align,h,this.right-d);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);c=l+zt(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const u=zt(s,h,h+d);a.textAlign=i.textAlign(jt(s)),a.textBaseline="middle",a.strokeStyle=e.color,a.fillStyle=e.color,a.font=r.string,we(a,e.text,u,c,r)}_computeTitleHeight(){const t=this.options.title,e=Ae(t.font),r=Ce(t.padding);return t.display?e.lineHeight+r.height:0}_getLegendItemAt(t,e){let r,n,i;if(At(t,this.left,this.right)&&At(e,this.top,this.bottom))for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(n=i[r],At(t,n.left,n.left+n.width)&&At(e,n.top,n.top+n.height))return this.legendItems[r];return null}handleEvent(t){const e=this.options;if(!function(t,e){if(("mousemove"===t||"mouseout"===t)&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e))return;const r=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const a=this._hoveredItem,s=(i=r,null!==(n=a)&&null!==i&&n.datasetIndex===i.datasetIndex&&n.index===i.index);a&&!s&&U(e.onLeave,[t,a,this],this),this._hoveredItem=r,r&&!s&&U(e.onHover,[t,r,this],this)}else r&&U(e.onClick,[t,r,this],this);var n,i}}function ka(t,e){return e*(t.text?t.text.length+.5:0)}var Sa={id:"legend",_element:xa,start(t,e,r){const n=t.legend=new xa({ctx:t.ctx,options:r,chart:t});xn.configure(t,n,r),xn.addBox(t,n)},stop(t){xn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;xn.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,i=r.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:i,color:a,useBorderRadius:s,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const l=t.controller.getStyle(r?0:void 0),c=Ce(l.borderWidth);return{text:e[t.index].label,fillStyle:l.backgroundColor,fontColor:a,hidden:!t.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:n||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:s&&(o||l.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Ia extends zn{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const r=this.options;if(this.left=0,this.top=0,!r.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const n=z(r.text)?r.text.length:1;this._padding=Ce(r.padding);const i=n*Ae(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:r,bottom:n,right:i,options:a}=this,s=a.align;let o,l,c,h=0;return this.isHorizontal()?(l=zt(s,r,i),c=e+t,o=i-r):("left"===a.position?(l=r+t,c=zt(s,n,e),h=-.5*st):(l=i-t,c=zt(s,e,n),h=.5*st),o=n-e),{titleX:l,titleY:c,maxWidth:o,rotation:h}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const r=Ae(e.font),n=r.lineHeight/2+this._padding.top,{titleX:i,titleY:a,maxWidth:s,rotation:o}=this._drawArgs(n);we(t,e.text,0,0,r,{color:e.color,maxWidth:s,rotation:o,textAlign:jt(e.align),textBaseline:"middle",translation:[i,a]})}}var Ma={id:"title",_element:Ia,start(t,e,r){!function(t,e){const r=new Ia({ctx:t.ctx,options:e,chart:t});xn.configure(t,r,e),xn.addBox(t,r),t.titleBlock=r}(t,r)},stop(t){const e=t.titleBlock;xn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;xn.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Da=new WeakMap;var Ca={id:"subtitle",start(t,e,r){const n=new Ia({ctx:t.ctx,options:r,chart:t});xn.configure(t,n,r),xn.addBox(t,n),Da.set(t,n)},stop(t){xn.removeBox(t,Da.get(t)),Da.delete(t)},beforeUpdate(t,e,r){const n=Da.get(t);xn.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Aa={average(t){if(!t.length)return!1;let e,r,n=0,i=0,a=0;for(e=0,r=t.length;e<r;++e){const r=t[e].element;if(r&&r.hasValue()){const t=r.tooltipPosition();n+=t.x,i+=t.y,++a}}return{x:n/a,y:i/a}},nearest(t,e){if(!t.length)return!1;let r,n,i,a=e.x,s=e.y,o=Number.POSITIVE_INFINITY;for(r=0,n=t.length;r<n;++r){const n=t[r].element;if(n&&n.hasValue()){const t=St(e,n.getCenterPoint());t<o&&(o=t,i=n)}}if(i){const t=i.tooltipPosition();a=t.x,s=t.y}return{x:a,y:s}}};function Pa(t,e){return e&&(z(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function $a(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function Ta(t,e){const{element:r,datasetIndex:n,index:i}=e,a=t.getDatasetMeta(n).controller,{label:s,value:o}=a.getLabelAndValue(i);return{chart:t,label:s,parsed:a.getParsed(i),raw:t.data.datasets[n].data[i],formattedValue:o,dataset:a.getDataset(),dataIndex:i,datasetIndex:n,element:r}}function Ea(t,e){const r=t.chart.ctx,{body:n,footer:i,title:a}=t,{boxWidth:s,boxHeight:o}=e,l=Ae(e.bodyFont),c=Ae(e.titleFont),h=Ae(e.footerFont),d=a.length,u=i.length,p=n.length,f=Ce(e.padding);let m=f.height,g=0,b=n.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(b+=t.beforeBody.length+t.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),b){m+=p*(e.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(b-p)*l.lineHeight+(b-1)*e.bodySpacing}u&&(m+=e.footerMarginTop+u*h.lineHeight+(u-1)*e.footerSpacing);let v=0;const y=function(t){g=Math.max(g,r.measureText(t).width+v)};return r.save(),r.font=c.string,q(t.title,y),r.font=l.string,q(t.beforeBody.concat(t.afterBody),y),v=e.displayColors?s+2+e.boxPadding:0,q(n,(t=>{q(t.before,y),q(t.lines,y),q(t.after,y)})),v=0,r.font=h.string,q(t.footer,y),r.restore(),g+=f.width,{width:g,height:m}}function Oa(t,e,r,n){const{x:i,width:a}=r,{width:s,chartArea:{left:o,right:l}}=t;let c="center";return"center"===n?c=i<=(o+l)/2?"left":"right":i<=a/2?c="left":i>=s-a/2&&(c="right"),function(t,e,r,n){const{x:i,width:a}=n,s=r.caretSize+r.caretPadding;return"left"===t&&i+a+s>e.width||"right"===t&&i-a-s<0||void 0}(c,t,e,r)&&(c="center"),c}function Ra(t,e,r){const n=r.yAlign||e.yAlign||function(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}(t,r);return{xAlign:r.xAlign||e.xAlign||Oa(t,e,r,n),yAlign:n}}function La(t,e,r,n){const{caretSize:i,caretPadding:a,cornerRadius:s}=t,{xAlign:o,yAlign:l}=r,c=i+a,{topLeft:h,topRight:d,bottomLeft:u,bottomRight:p}=De(s);let f=function(t,e){let{x:r,width:n}=t;return"right"===e?r-=n:"center"===e&&(r-=n/2),r}(e,o);const m=function(t,e,r){let{y:n,height:i}=t;return"top"===e?n+=r:n-="bottom"===e?i+r:i/2,n}(e,l,c);return"center"===l?"left"===o?f+=c:"right"===o&&(f-=c):"left"===o?f-=Math.max(h,u)+i:"right"===o&&(f+=Math.max(d,p)+i),{x:Ct(f,0,n.width-e.width),y:Ct(m,0,n.height-e.height)}}function Fa(t,e,r){const n=Ce(r.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-n.right:t.x+n.left}function ja(t){return Pa([],$a(t))}function za(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const Na={beforeTitle:L,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:L,beforeBody:L,beforeLabel:L,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return j(r)||(e+=r),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:L,afterBody:L,beforeFooter:L,footer:L,afterFooter:L};function Ba(t,e,r,n){const i=t[e].call(r,n);return void 0===i?Na[e].call(r,n):i}class Ha extends zn{static positioners=Aa;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,r=this.options.setContext(this.getContext()),n=r.enabled&&e.options.animation&&r.animations,i=new Ar(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,r=this._tooltipItems,$e(t,{tooltip:e,tooltipItems:r,type:"tooltip"})));var t,e,r}getTitle(t,e){const{callbacks:r}=e,n=Ba(r,"beforeTitle",this,t),i=Ba(r,"title",this,t),a=Ba(r,"afterTitle",this,t);let s=[];return s=Pa(s,$a(n)),s=Pa(s,$a(i)),s=Pa(s,$a(a)),s}getBeforeBody(t,e){return ja(Ba(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:r}=e,n=[];return q(t,(t=>{const e={before:[],lines:[],after:[]},i=za(r,t);Pa(e.before,$a(Ba(i,"beforeLabel",this,t))),Pa(e.lines,Ba(i,"label",this,t)),Pa(e.after,$a(Ba(i,"afterLabel",this,t))),n.push(e)})),n}getAfterBody(t,e){return ja(Ba(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:r}=e,n=Ba(r,"beforeFooter",this,t),i=Ba(r,"footer",this,t),a=Ba(r,"afterFooter",this,t);let s=[];return s=Pa(s,$a(n)),s=Pa(s,$a(i)),s=Pa(s,$a(a)),s}_createItems(t){const e=this._active,r=this.chart.data,n=[],i=[],a=[];let s,o,l=[];for(s=0,o=e.length;s<o;++s)l.push(Ta(this.chart,e[s]));return t.filter&&(l=l.filter(((e,n,i)=>t.filter(e,n,i,r)))),t.itemSort&&(l=l.sort(((e,n)=>t.itemSort(e,n,r)))),q(l,(e=>{const r=za(t.callbacks,e);n.push(Ba(r,"labelColor",this,e)),i.push(Ba(r,"labelPointStyle",this,e)),a.push(Ba(r,"labelTextColor",this,e))})),this.labelColors=n,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=l,l}update(t,e){const r=this.options.setContext(this.getContext()),n=this._active;let i,a=[];if(n.length){const t=Aa[r.position].call(this,n,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const e=this._size=Ea(this,r),s=Object.assign({},t,e),o=Ra(this.chart,r,s),l=La(r,s,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,i={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,r,n){const i=this.getCaretPosition(t,r,n);e.lineTo(i.x1,i.y1),e.lineTo(i.x2,i.y2),e.lineTo(i.x3,i.y3)}getCaretPosition(t,e,r){const{xAlign:n,yAlign:i}=this,{caretSize:a,cornerRadius:s}=r,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:h}=De(s),{x:d,y:u}=t,{width:p,height:f}=e;let m,g,b,v,y,w;return"center"===i?(y=u+f/2,"left"===n?(m=d,g=m-a,v=y+a,w=y-a):(m=d+p,g=m+a,v=y-a,w=y+a),b=m):(g="left"===n?d+Math.max(o,c)+a:"right"===n?d+p-Math.max(l,h)-a:this.caretX,"top"===i?(v=u,y=v-a,m=g-a,b=g+a):(v=u+f,y=v+a,m=g+a,b=g-a),w=v),{x1:m,x2:g,x3:b,y1:v,y2:y,y3:w}}drawTitle(t,e,r){const n=this.title,i=n.length;let a,s,o;if(i){const l=fr(r.rtl,this.x,this.width);for(t.x=Fa(this,r.titleAlign,r),e.textAlign=l.textAlign(r.titleAlign),e.textBaseline="middle",a=Ae(r.titleFont),s=r.titleSpacing,e.fillStyle=r.titleColor,e.font=a.string,o=0;o<i;++o)e.fillText(n[o],l.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+s,o+1===i&&(t.y+=r.titleMarginBottom-s)}}_drawColorBox(t,e,r,n,i){const a=this.labelColors[r],s=this.labelPointStyles[r],{boxHeight:o,boxWidth:l}=i,c=Ae(i.bodyFont),h=Fa(this,"left",i),d=n.x(h),u=o<c.lineHeight?(c.lineHeight-o)/2:0,p=e.y+u;if(i.usePointStyle){const e={radius:Math.min(l,o)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},r=n.leftForLtr(d,l)+l/2,c=p+o/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,de(t,e,r,c),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,de(t,e,r,c)}else{t.lineWidth=N(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const e=n.leftForLtr(d,l),r=n.leftForLtr(n.xPlus(d,1),l-2),s=De(a.borderRadius);Object.values(s).some((t=>0!==t))?(t.beginPath(),t.fillStyle=i.multiKeyBackground,_e(t,{x:e,y:p,w:l,h:o,radius:s}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),_e(t,{x:r,y:p+1,w:l-2,h:o-2,radius:s}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(e,p,l,o),t.strokeRect(e,p,l,o),t.fillStyle=a.backgroundColor,t.fillRect(r,p+1,l-2,o-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,e,r){const{body:n}=this,{bodySpacing:i,bodyAlign:a,displayColors:s,boxHeight:o,boxWidth:l,boxPadding:c}=r,h=Ae(r.bodyFont);let d=h.lineHeight,u=0;const p=fr(r.rtl,this.x,this.width),f=function(r){e.fillText(r,p.x(t.x+u),t.y+d/2),t.y+=d+i},m=p.textAlign(a);let g,b,v,y,w,_,x;for(e.textAlign=a,e.textBaseline="middle",e.font=h.string,t.x=Fa(this,m,r),e.fillStyle=r.bodyColor,q(this.beforeBody,f),u=s&&"right"!==m?"center"===a?l/2+c:l+2+c:0,y=0,_=n.length;y<_;++y){for(g=n[y],b=this.labelTextColors[y],e.fillStyle=b,q(g.before,f),v=g.lines,s&&v.length&&(this._drawColorBox(e,t,y,p,r),d=Math.max(h.lineHeight,o)),w=0,x=v.length;w<x;++w)f(v[w]),d=h.lineHeight;q(g.after,f)}u=0,d=h.lineHeight,q(this.afterBody,f),t.y-=i}drawFooter(t,e,r){const n=this.footer,i=n.length;let a,s;if(i){const o=fr(r.rtl,this.x,this.width);for(t.x=Fa(this,r.footerAlign,r),t.y+=r.footerMarginTop,e.textAlign=o.textAlign(r.footerAlign),e.textBaseline="middle",a=Ae(r.footerFont),e.fillStyle=r.footerColor,e.font=a.string,s=0;s<i;++s)e.fillText(n[s],o.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+r.footerSpacing}}drawBackground(t,e,r,n){const{xAlign:i,yAlign:a}=this,{x:s,y:o}=t,{width:l,height:c}=r,{topLeft:h,topRight:d,bottomLeft:u,bottomRight:p}=De(n.cornerRadius);e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.beginPath(),e.moveTo(s+h,o),"top"===a&&this.drawCaret(t,e,r,n),e.lineTo(s+l-d,o),e.quadraticCurveTo(s+l,o,s+l,o+d),"center"===a&&"right"===i&&this.drawCaret(t,e,r,n),e.lineTo(s+l,o+c-p),e.quadraticCurveTo(s+l,o+c,s+l-p,o+c),"bottom"===a&&this.drawCaret(t,e,r,n),e.lineTo(s+u,o+c),e.quadraticCurveTo(s,o+c,s,o+c-u),"center"===a&&"left"===i&&this.drawCaret(t,e,r,n),e.lineTo(s,o+h),e.quadraticCurveTo(s,o,s+h,o),e.closePath(),e.fill(),n.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,r=this.$animations,n=r&&r.x,i=r&&r.y;if(n||i){const r=Aa[t.position].call(this,this._active,this._eventPosition);if(!r)return;const a=this._size=Ea(this,t),s=Object.assign({},r,this._size),o=Ra(e,t,s),l=La(t,s,o,e);n._to===l.x&&i._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=a.width,this.height=a.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(e);const n={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=Ce(e.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&s&&(t.save(),t.globalAlpha=r,this.drawBackground(i,t,n,e),mr(t,e.textDirection),i.y+=a.top,this.drawTitle(i,t,e),this.drawBody(i,t,e),this.drawFooter(i,t,e),gr(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const r=this._active,n=t.map((({datasetIndex:t,index:e})=>{const r=this.chart.getDatasetMeta(t);if(!r)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:r.data[e],index:e}})),i=!Z(r,n),a=this._positionChanged(n,e);(i||a)&&(this._active=n,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,r=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,i=this._active||[],a=this._getActiveElements(t,i,e,r),s=this._positionChanged(a,t),o=e||!Z(a,i)||s;return o&&(this._active=a,(n.enabled||n.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),o}_getActiveElements(t,e,r,n){const i=this.options;if("mouseout"===t.type)return[];if(!n)return e;const a=this.chart.getElementsAtEventForMode(t,i.mode,i,r);return i.reverse&&a.reverse(),a}_positionChanged(t,e){const{caretX:r,caretY:n,options:i}=this,a=Aa[i.position].call(this,t,e);return!1!==a&&(r!==a.x||n!==a.y)}}var Va={id:"tooltip",_element:Ha,positioners:Aa,afterInit(t,e,r){r&&(t.tooltip=new Ha({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Na},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Wa=Object.freeze({__proto__:null,Colors:ta,Decimation:na,Filler:wa,Legend:Sa,SubTitle:Ca,Title:Ma,Tooltip:Va});function Ua(t,e,r,n){const i=t.indexOf(e);if(-1===i)return((t,e,r,n)=>("string"==typeof e?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r))(t,e,r,n);return i!==t.lastIndexOf(e)?r:i}function qa(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}function Za(t,e){const r=[],{bounds:n,step:i,min:a,max:s,precision:o,count:l,maxTicks:c,maxDigits:h,includeBounds:d}=t,u=i||1,p=c-1,{min:f,max:m}=e,g=!j(a),b=!j(s),v=!j(l),y=(m-f)/(h+1);let w,_,x,k,S=bt((m-f)/p/u)*u;if(S<1e-14&&!g&&!b)return[{value:f},{value:m}];k=Math.ceil(m/S)-Math.floor(f/S),k>p&&(S=bt(k*S/p/u)*u),j(o)||(w=Math.pow(10,o),S=Math.ceil(S*w)/w),"ticks"===n?(_=Math.floor(f/S)*S,x=Math.ceil(m/S)*S):(_=f,x=m),g&&b&&i&&function(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}((s-a)/i,S/1e3)?(k=Math.round(Math.min((s-a)/S,c)),S=(s-a)/k,_=a,x=s):v?(_=g?a:_,x=b?s:x,k=l-1,S=(x-_)/k):(k=(x-_)/S,k=gt(k,Math.round(k),S/1e3)?Math.round(k):Math.ceil(k));const I=Math.max(xt(S),xt(_));w=Math.pow(10,j(o)?I:o),_=Math.round(_*w)/w,x=Math.round(x*w)/w;let M=0;for(g&&(d&&_!==a?(r.push({value:a}),_<a&&M++,gt(Math.round((_+M*S)*w)/w,a,Xa(a,y,t))&&M++):_<a&&M++);M<k;++M){const t=Math.round((_+M*S)*w)/w;if(b&&t>s)break;r.push({value:t})}return b&&d&&x!==s?r.length&&gt(r[r.length-1].value,s,Xa(s,y,t))?r[r.length-1].value=s:r.push({value:s}):b&&x!==s||r.push({value:x}),r}function Xa(t,e,{horizontal:r,minRotation:n}){const i=wt(n),a=(r?Math.sin(i):Math.cos(i))||.001,s=.75*e*(""+t).length;return Math.min(e/a,s)}class Ga extends Gn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return j(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:i}=this;const a=t=>n=e?n:t,s=t=>i=r?i:t;if(t){const t=mt(n),e=mt(i);t<0&&e<0?s(0):t>0&&e>0&&a(0)}if(n===i){let e=0===i?1:Math.abs(.05*i);s(i+e),t||a(n-e)}this.min=n,this.max=i}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:r,stepSize:n}=t;return n?(e=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3)):(e=this.computeTickLimit(),r=r||11),r&&(e=Math.min(r,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const n=Za({maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&yt(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){const t=this.ticks;let e=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const n=(r-e)/Math.max(t.length-1,1)/2;e-=n,r+=n}this._startValue=e,this._endValue=r,this._valueRange=r-e}getLabelForValue(t){return Jt(t,this.chart.options.locale,this.options.ticks.format)}}class Ya extends Ga{static id="linear";static defaults={ticks:{callback:te.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=B(t)?t:0,this.max=B(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,r=wt(this.options.ticks.minRotation),n=(t?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,i.lineHeight/n))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Qa=t=>Math.floor(ft(t)),Ja=(t,e)=>Math.pow(10,Qa(t)+e);function Ka(t){return 1===t/Math.pow(10,Qa(t))}function ts(t,e,r){const n=Math.pow(10,r),i=Math.floor(t/n);return Math.ceil(e/n)-i}function es(t,{min:e,max:r}){e=H(t.min,e);const n=[],i=Qa(e);let a=function(t,e){let r=Qa(e-t);for(;ts(t,e,r)>10;)r++;for(;ts(t,e,r)<10;)r--;return Math.min(r,Qa(t))}(e,r),s=a<0?Math.pow(10,Math.abs(a)):1;const o=Math.pow(10,a),l=i>a?Math.pow(10,i):0,c=Math.round((e-l)*s)/s,h=Math.floor((e-l)/o/10)*o*10;let d=Math.floor((c-h)/Math.pow(10,a)),u=H(t.min,Math.round((l+h+d*Math.pow(10,a))*s)/s);for(;u<r;)n.push({value:u,major:Ka(u),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(a++,d=2,s=a>=0?1:s),u=Math.round((l+h+d*Math.pow(10,a))*s)/s;const p=H(t.max,u);return n.push({value:p,major:Ka(p),significand:d}),n}class rs extends Gn{static id="logarithmic";static defaults={ticks:{callback:te.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const r=Ga.prototype.parse.apply(this,[t,e]);if(0!==r)return B(r)&&r>0?r:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=B(t)?Math.max(0,t):null,this.max=B(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!B(this._userMin)&&(this.min=t===Ja(this.min,0)?Ja(this.min,-1):Ja(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let r=this.min,n=this.max;const i=e=>r=t?r:e,a=t=>n=e?n:t;r===n&&(r<=0?(i(1),a(10)):(i(Ja(r,-1)),a(Ja(n,1)))),r<=0&&i(Ja(n,-1)),n<=0&&a(Ja(r,1)),this.min=r,this.max=n}buildTicks(){const t=this.options,e=es({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&yt(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":Jt(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=ft(t),this._valueRange=ft(this.max)-ft(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(ft(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function ns(t){const e=t.ticks;if(e.display&&t.display){const t=Ce(e.backdropPadding);return V(e.font&&e.font.size,se.font.size)+t.height}return 0}function is(t,e,r,n,i){return t===n||t===i?{start:e-r/2,end:e+r/2}:t<n||t>i?{start:e-r,end:e}:{start:e,end:e+r}}function as(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},r=Object.assign({},e),n=[],i=[],a=t._pointLabels.length,s=t.options.pointLabels,o=s.centerPointLabels?st/a:0;for(let d=0;d<a;d++){const a=s.setContext(t.getPointLabelContext(d));i[d]=a.padding;const u=t.getPointPosition(d,t.drawingArea+i[d],o),p=Ae(a.font),f=(l=t.ctx,c=p,h=z(h=t._pointLabels[d])?h:[h],{w:le(l,c.string,h),h:h.length*c.lineHeight});n[d]=f;const m=Mt(t.getIndexAngle(d)+o),g=Math.round(_t(m));ss(r,e,m,is(g,u.x,f.w,0,180),is(g,u.y,f.h,90,270))}var l,c,h;t.setCenterPoint(e.l-r.l,r.r-e.r,e.t-r.t,r.b-e.b),t._pointLabelItems=function(t,e,r){const n=[],i=t._pointLabels.length,a=t.options,{centerPointLabels:s,display:o}=a.pointLabels,l={extra:ns(a)/2,additionalAngle:s?st/i:0};let c;for(let a=0;a<i;a++){l.padding=r[a],l.size=e[a];const i=os(t,a,l);n.push(i),"auto"===o&&(i.visible=ls(i,c),i.visible&&(c=i))}return n}(t,n,i)}function ss(t,e,r,n,i){const a=Math.abs(Math.sin(r)),s=Math.abs(Math.cos(r));let o=0,l=0;n.start<e.l?(o=(e.l-n.start)/a,t.l=Math.min(t.l,e.l-o)):n.end>e.r&&(o=(n.end-e.r)/a,t.r=Math.max(t.r,e.r+o)),i.start<e.t?(l=(e.t-i.start)/s,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/s,t.b=Math.max(t.b,e.b+l))}function os(t,e,r){const n=t.drawingArea,{extra:i,additionalAngle:a,padding:s,size:o}=r,l=t.getPointPosition(e,n+i+s,a),c=Math.round(_t(Mt(l.angle+dt))),h=function(t,e,r){90===r||270===r?t-=e/2:(r>270||r<90)&&(t-=e);return t}(l.y,o.h,c),d=function(t){if(0===t||180===t)return"center";if(t<180)return"left";return"right"}(c),u=function(t,e,r){"right"===r?t-=e:"center"===r&&(t-=e/2);return t}(l.x,o.w,d);return{visible:!0,x:l.x,y:h,textAlign:d,left:u,top:h,right:u+o.w,bottom:h+o.h}}function ls(t,e){if(!e)return!0;const{left:r,top:n,right:i,bottom:a}=t;return!(pe({x:r,y:n},e)||pe({x:r,y:a},e)||pe({x:i,y:n},e)||pe({x:i,y:a},e))}function cs(t,e,r){const{left:n,top:i,right:a,bottom:s}=r,{backdropColor:o}=e;if(!j(o)){const r=De(e.borderRadius),l=Ce(e.backdropPadding);t.fillStyle=o;const c=n-l.left,h=i-l.top,d=a-n+l.width,u=s-i+l.height;Object.values(r).some((t=>0!==t))?(t.beginPath(),_e(t,{x:c,y:h,w:d,h:u,radius:r}),t.fill()):t.fillRect(c,h,d,u)}}function hs(t,e,r,n){const{ctx:i}=t;if(r)i.arc(t.xCenter,t.yCenter,e,0,ot);else{let r=t.getPointPosition(0,e);i.moveTo(r.x,r.y);for(let a=1;a<n;a++)r=t.getPointPosition(a,e),i.lineTo(r.x,r.y)}}class ds extends Ga{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:te.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Ce(ns(this.options)/2),e=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(e,r)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=B(t)&&!isNaN(t)?t:0,this.max=B(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ns(this.options))}generateTickLabels(t){Ga.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const r=U(this.options.pointLabels.callback,[t,e],this);return r||0===r?r:""})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?as(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,r,n){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((r-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,r,n))}getIndexAngle(t){return Mt(t*(ot/(this._pointLabels.length||1))+wt(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(j(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(j(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const r=e[t];return function(t,e,r){return $e(t,{label:r,index:e,type:"pointLabel"})}(this.getContext(),t,r)}}getPointPosition(t,e,r=0){const n=this.getIndexAngle(t)-dt+r;return{x:Math.cos(n)*e+this.xCenter,y:Math.sin(n)*e+this.yCenter,angle:n}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:r,right:n,bottom:i}=this._pointLabelItems[t];return{left:e,top:r,right:n,bottom:i}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const r=this.ctx;r.save(),r.beginPath(),hs(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:r,grid:n,border:i}=e,a=this._pointLabels.length;let s,o,l;if(e.pointLabels.display&&function(t,e){const{ctx:r,options:{pointLabels:n}}=t;for(let i=e-1;i>=0;i--){const e=t._pointLabelItems[i];if(!e.visible)continue;const a=n.setContext(t.getPointLabelContext(i));cs(r,a,e);const s=Ae(a.font),{x:o,y:l,textAlign:c}=e;we(r,t._pointLabels[i],o,l+s.lineHeight/2,s,{color:a.color,textAlign:c,textBaseline:"middle"})}}(this,a),n.display&&this.ticks.forEach(((t,e)=>{if(0!==e){o=this.getDistanceFromCenterForValue(t.value);const r=this.getContext(e),s=n.setContext(r),l=i.setContext(r);!function(t,e,r,n,i){const a=t.ctx,s=e.circular,{color:o,lineWidth:l}=e;!s&&!n||!o||!l||r<0||(a.save(),a.strokeStyle=o,a.lineWidth=l,a.setLineDash(i.dash),a.lineDashOffset=i.dashOffset,a.beginPath(),hs(t,r,s,n),a.closePath(),a.stroke(),a.restore())}(this,s,o,a,l)}})),r.display){for(t.save(),s=a-1;s>=0;s--){const n=r.setContext(this.getPointLabelContext(s)),{color:i,lineWidth:a}=n;a&&i&&(t.lineWidth=a,t.strokeStyle=i,t.setLineDash(n.borderDash),t.lineDashOffset=n.borderDashOffset,o=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),l=this.getPointPosition(s,o),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,r=e.ticks;if(!r.display)return;const n=this.getIndexAngle(0);let i,a;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(n),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((n,s)=>{if(0===s&&!e.reverse)return;const o=r.setContext(this.getContext(s)),l=Ae(o.font);if(i=this.getDistanceFromCenterForValue(this.ticks[s].value),o.showLabelBackdrop){t.font=l.string,a=t.measureText(n.label).width,t.fillStyle=o.backdropColor;const e=Ce(o.backdropPadding);t.fillRect(-a/2-e.left,-i-l.size/2-e.top,a+e.width,l.size+e.height)}we(t,n.label,0,-i,l,{color:o.color})})),t.restore()}drawTitle(){}}const us={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ps=Object.keys(us);function fs(t,e){return t-e}function ms(t,e){if(j(e))return null;const r=t._adapter,{parser:n,round:i,isoWeekday:a}=t._parseOpts;let s=e;return"function"==typeof n&&(s=n(s)),B(s)||(s="string"==typeof n?r.parse(s,n):r.parse(s)),null===s?null:(i&&(s="week"!==i||!vt(a)&&!0!==a?r.startOf(s,i):r.startOf(s,"isoWeek",a)),+s)}function gs(t,e,r,n){const i=ps.length;for(let a=ps.indexOf(t);a<i-1;++a){const t=us[ps[a]],i=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((r-e)/(i*t.size))<=n)return ps[a]}return ps[i-1]}function bs(t,e,r){if(r){if(r.length){const{lo:n,hi:i}=Pt(r,e);t[r[n]>=e?r[n]:r[i]]=!0}}else t[e]=!0}function vs(t,e,r){const n=[],i={},a=e.length;let s,o;for(s=0;s<a;++s)o=e[s],i[o]=s,n.push({value:o,major:!1});return 0!==a&&r?function(t,e,r,n){const i=t._adapter,a=+i.startOf(e[0].value,n),s=e[e.length-1].value;let o,l;for(o=a;o<=s;o=+i.add(o,1,n))l=r[o],l>=0&&(e[l].major=!0);return e}(t,n,i,r):n}class ys extends Gn{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const r=t.time||(t.time={}),n=this._adapter=new en(t.adapters.date);n.init(e),J(r.displayFormats,n.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:ms(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,r=t.time.unit||"day";let{min:n,max:i,minDefined:a,maxDefined:s}=this.getUserBounds();function o(t){a||isNaN(t.min)||(n=Math.min(n,t.min)),s||isNaN(t.max)||(i=Math.max(i,t.max))}a&&s||(o(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||o(this.getMinMax(!1))),n=B(n)&&!isNaN(n)?n:+e.startOf(Date.now(),r),i=B(i)&&!isNaN(i)?i:+e.endOf(Date.now(),r)+1,this.min=Math.min(n,i-1),this.max=Math.max(n+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],r=t[t.length-1]),{min:e,max:r}}buildTicks(){const t=this.options,e=t.time,r=t.ticks,n="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const i=this.min,a=function(t,e,r){let n=0,i=t.length;for(;n<i&&t[n]<e;)n++;for(;i>n&&t[i-1]>r;)i--;return n>0||i<t.length?t.slice(n,i):t}(n,i,this.max);return this._unit=e.unit||(r.autoSkip?gs(e.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(t,e,r,n,i){for(let a=ps.length-1;a>=ps.indexOf(r);a--){const r=ps[a];if(us[r].common&&t._adapter.diff(i,n,r)>=e-1)return r}return ps[r?ps.indexOf(r):0]}(this,a.length,e.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function(t){for(let e=ps.indexOf(t)+1,r=ps.length;e<r;++e)if(us[ps[e]].common)return ps[e]}(this._unit):void 0,this.initOffsets(n),t.reverse&&a.reverse(),vs(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(t=[]){let e,r,n=0,i=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),n=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,r=this.getDecimalForValue(t[t.length-1]),i=1===t.length?r:(r-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;n=Ct(n,0,a),i=Ct(i,0,a),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,e=this.min,r=this.max,n=this.options,i=n.time,a=i.unit||gs(i.minUnit,e,r,this._getLabelCapacity(e)),s=V(n.ticks.stepSize,1),o="week"===a&&i.isoWeekday,l=vt(o)||!0===o,c={};let h,d,u=e;if(l&&(u=+t.startOf(u,"isoWeek",o)),u=+t.startOf(u,l?"day":a),t.diff(r,e,a)>1e5*s)throw new Error(e+" and "+r+" are too far apart with stepSize of "+s+" "+a);const p="data"===n.ticks.source&&this.getDataTimestamps();for(h=u,d=0;h<r;h=+t.add(h,s,a),d++)bs(c,h,p);return h!==r&&"ticks"!==n.bounds&&1!==d||bs(c,h,p),Object.keys(c).sort(((t,e)=>t-e)).map((t=>+t))}getLabelForValue(t){const e=this._adapter,r=this.options.time;return r.tooltipFormat?e.format(t,r.tooltipFormat):e.format(t,r.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,n=this._unit,i=e||r[n];return this._adapter.format(t,i)}_tickFormatFunction(t,e,r,n){const i=this.options,a=i.ticks.callback;if(a)return U(a,[t,e,r],this);const s=i.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&s[o],h=l&&s[l],d=r[e],u=l&&h&&d&&d.major;return this._adapter.format(t,n||(u?h:c))}generateTickLabels(t){let e,r,n;for(e=0,r=t.length;e<r;++e)n=t[e],n.label=this._tickFormatFunction(n.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+r)*e.factor)}getValueForPixel(t){const e=this._offsets,r=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,r=this.ctx.measureText(t).width,n=wt(this.isHorizontal()?e.maxRotation:e.minRotation),i=Math.cos(n),a=Math.sin(n),s=this._resolveTickFontOptions(0).size;return{w:r*i+s*a,h:r*a+s*i}}_getLabelCapacity(t){const e=this.options.time,r=e.displayFormats,n=r[e.unit]||r.millisecond,i=this._tickFormatFunction(t,0,vs(this,[t],this._majorUnit),n),a=this._getLabelSize(i),s=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return s>0?s:1}getDataTimestamps(){let t,e,r=this._cache.data||[];if(r.length)return r;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(t=0,e=n.length;t<e;++t)r=r.concat(n[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(r)}getLabelTimestamps(){const t=this._cache.labels||[];let e,r;if(t.length)return t;const n=this.getLabels();for(e=0,r=n.length;e<r;++e)t.push(ms(this,n[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Rt(t.sort(fs))}}function ws(t,e,r){let n,i,a,s,o=0,l=t.length-1;r?(e>=t[o].pos&&e<=t[l].pos&&({lo:o,hi:l}=$t(t,"pos",e)),({pos:n,time:a}=t[o]),({pos:i,time:s}=t[l])):(e>=t[o].time&&e<=t[l].time&&({lo:o,hi:l}=$t(t,"time",e)),({time:n,pos:a}=t[o]),({time:i,pos:s}=t[l]));const c=i-n;return c?a+(s-a)*(e-n)/c:a}var _s=Object.freeze({__proto__:null,CategoryScale:class extends Gn{static id="category";static defaults={ticks:{callback:qa}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:r,label:n}of e)t[r]===n&&t.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(j(t))return null;const r=this.getLabels();return((t,e)=>null===t?null:Ct(Math.round(t),0,e))(e=isFinite(e)&&r[e]===t?e:Ua(r,t,V(e,t),this._addedLabels),r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:r,max:n}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(r=0),e||(n=this.getLabels().length-1)),this.min=r,this.max=n}buildTicks(){const t=this.min,e=this.max,r=this.options.offset,n=[];let i=this.getLabels();i=0===t&&e===i.length-1?i:i.slice(t,e+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let r=t;r<=e;r++)n.push({value:r});return n}getLabelForValue(t){return qa.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}},LinearScale:Ya,LogarithmicScale:rs,RadialLinearScale:ds,TimeScale:ys,TimeSeriesScale:class extends ys{static id="timeseries";static defaults=ys.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=ws(e,this.min),this._tableRange=ws(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:r}=this,n=[],i=[];let a,s,o,l,c;for(a=0,s=t.length;a<s;++a)l=t[a],l>=e&&l<=r&&n.push(l);if(n.length<2)return[{time:e,pos:0},{time:r,pos:1}];for(a=0,s=n.length;a<s;++a)c=n[a+1],o=n[a-1],l=n[a],Math.round((c+o)/2)!==l&&i.push({time:l,pos:a/(s-1)});return i}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),r=this.getLabelTimestamps();return t=e.length&&r.length?this.normalize(e.concat(r)):e.length?e:r,t=this._cache.all=t,t}getDecimalForValue(t){return(ws(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,r=this.getDecimalForPixel(t)/e.factor-e.end;return ws(this._table,r*this._tableRange+this._minPos,!0)}}});const xs=[Jr,Zi,Wa,_s];Ii.register(...xs);const ks=Ii}},n={};function i(t){var e=n[t];if(void 0!==e){if(void 0!==e.error)throw e.error;return e.exports}var a=n[t]={id:t,exports:{}};try{var s={id:t,module:a,factory:r[t],require:i};i.i.forEach((function(t){t(s)})),a=s.module,s.factory.call(a.exports,a,a.exports,s.require)}catch(t){throw a.error=t,t}return a.exports}i.m=r,i.c=n,i.i=[],i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},i.f={},i.e=t=>Promise.all(Object.keys(i.f).reduce(((e,r)=>(i.f[r](t,e),e)),[])),i.u=t=>t+"."+{374:"0e31988bb4075e35b2d0",496:"46cc8334d41e59507bb4",674:"37902d6f1506dc0c97b4"}[t]+".js",i.hu=t=>t+"."+i.h()+".hot-update.js",i.hmrF=()=>"main."+i.h()+".hot-update.json",i.h=()=>"e35bd4e0f4ff69f1134b",i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t={},e="cylixguide:",i.l=(r,n,a,s)=>{if(t[r])t[r].push(n);else{var o,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),h=0;h<c.length;h++){var d=c[h];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==e+a){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,i.nc&&o.setAttribute("nonce",i.nc),o.setAttribute("data-webpack",e+a),o.src=r),t[r]=[n];var u=(e,n)=>{o.onerror=o.onload=null,clearTimeout(p);var i=t[r];if(delete t[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((t=>t(n))),e)return e(n)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=u.bind(null,o.onerror),o.onload=u.bind(null,o.onload),l&&document.head.appendChild(o)}},i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t,e,r,n,a={},s=i.c,o=[],l=[],c="idle";function h(t){c=t;for(var e=[],r=0;r<l.length;r++)e[r]=l[r].call(null,t);return Promise.all(e)}function d(t){if(0===e.length)return t();var r=e;return e=[],Promise.all(r).then((function(){return d(t)}))}function u(t){if("idle"!==c)throw new Error("check() is only allowed in idle status");return h("check").then(i.hmrM).then((function(n){return n?h("prepare").then((function(){var a=[];return e=[],r=[],Promise.all(Object.keys(i.hmrC).reduce((function(t,e){return i.hmrC[e](n.c,n.r,n.m,t,r,a),t}),[])).then((function(){return d((function(){return t?f(t):h("ready").then((function(){return a}))}))}))})):h(m()?"ready":"idle").then((function(){return null}))}))}function p(t){return"ready"!==c?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status")})):f(t)}function f(t){t=t||{},m();var e=r.map((function(e){return e(t)}));r=void 0;var i=e.map((function(t){return t.error})).filter(Boolean);if(i.length>0)return h("abort").then((function(){throw i[0]}));var a=h("dispose");e.forEach((function(t){t.dispose&&t.dispose()}));var s,o=h("apply"),l=function(t){s||(s=t)},c=[];return e.forEach((function(t){if(t.apply){var e=t.apply(l);if(e)for(var r=0;r<e.length;r++)c.push(e[r])}})),Promise.all([a,o]).then((function(){return s?h("fail").then((function(){throw s})):n?f(t).then((function(t){return c.forEach((function(e){t.indexOf(e)<0&&t.push(e)})),t})):h("idle").then((function(){return c}))}))}function m(){if(n)return r||(r=[]),Object.keys(i.hmrI).forEach((function(t){n.forEach((function(e){i.hmrI[t](e,r)}))})),n=void 0,!0}i.hmrD=a,i.i.push((function(f){var m,g,b,v,y=f.module,w=function(r,n){var i=s[n];if(!i)return r;var a=function(e){if(i.hot.active){if(s[e]){var a=s[e].parents;-1===a.indexOf(n)&&a.push(n)}else o=[n],t=e;-1===i.children.indexOf(e)&&i.children.push(e)}else console.warn("[HMR] unexpected require("+e+") from disposed module "+n),o=[];return r(e)},l=function(t){return{configurable:!0,enumerable:!0,get:function(){return r[t]},set:function(e){r[t]=e}}};for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&"e"!==u&&Object.defineProperty(a,u,l(u));return a.e=function(t){return function(t){switch(c){case"ready":return h("prepare"),e.push(t),d((function(){return h("ready")})),t;case"prepare":return e.push(t),t;default:return t}}(r.e(t))},a}(f.require,f.id);y.hot=(m=f.id,g=y,v={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:b=t!==m,_requireSelf:function(){o=g.parents.slice(),t=b?void 0:m,i(m)},active:!0,accept:function(t,e,r){if(void 0===t)v._selfAccepted=!0;else if("function"==typeof t)v._selfAccepted=t;else if("object"==typeof t&&null!==t)for(var n=0;n<t.length;n++)v._acceptedDependencies[t[n]]=e||function(){},v._acceptedErrorHandlers[t[n]]=r;else v._acceptedDependencies[t]=e||function(){},v._acceptedErrorHandlers[t]=r},decline:function(t){if(void 0===t)v._selfDeclined=!0;else if("object"==typeof t&&null!==t)for(var e=0;e<t.length;e++)v._declinedDependencies[t[e]]=!0;else v._declinedDependencies[t]=!0},dispose:function(t){v._disposeHandlers.push(t)},addDisposeHandler:function(t){v._disposeHandlers.push(t)},removeDisposeHandler:function(t){var e=v._disposeHandlers.indexOf(t);e>=0&&v._disposeHandlers.splice(e,1)},invalidate:function(){switch(this._selfInvalidated=!0,c){case"idle":r=[],Object.keys(i.hmrI).forEach((function(t){i.hmrI[t](m,r)})),h("ready");break;case"ready":Object.keys(i.hmrI).forEach((function(t){i.hmrI[t](m,r)}));break;case"prepare":case"check":case"dispose":case"apply":(n=n||[]).push(m)}},check:u,apply:p,status:function(t){if(!t)return c;l.push(t)},addStatusHandler:function(t){l.push(t)},removeStatusHandler:function(t){var e=l.indexOf(t);e>=0&&l.splice(e,1)},data:a[m]},t=void 0,v),y.parents=o,y.children=[],o=[],f.require=w})),i.hmrC={},i.hmrI={}})(),i.p="/",(()=>{i.b=document.baseURI||self.location.href;var t=i.hmrS_jsonp=i.hmrS_jsonp||{179:0};i.f.j=(e,r)=>{var n=i.o(t,e)?t[e]:void 0;if(0!==n)if(n)r.push(n[2]);else{var a=new Promise(((r,i)=>n=t[e]=[r,i]));r.push(n[2]=a);var s=i.p+i.u(e),o=new Error;i.l(s,(r=>{if(i.o(t,e)&&(0!==(n=t[e])&&(t[e]=void 0),n)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+e+" failed.\n("+a+": "+s+")",o.name="ChunkLoadError",o.type=a,o.request=s,n[1](o)}}),"chunk-"+e,e)}};var e,r,n,a,s={};function o(t){return new Promise(((e,r)=>{s[t]=e;var n=i.p+i.hu(t),a=new Error;i.l(n,(e=>{if(s[t]){s[t]=void 0;var n=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;a.message="Loading hot update chunk "+t+" failed.\n("+n+": "+i+")",a.name="ChunkLoadError",a.type=n,a.request=i,r(a)}}))}))}function l(s){function o(t){for(var e=[t],r={},n=e.map((function(t){return{chain:[t],id:t}}));n.length>0;){var a=n.pop(),s=a.id,o=a.chain,c=i.c[s];if(c&&(!c.hot._selfAccepted||c.hot._selfInvalidated)){if(c.hot._selfDeclined)return{type:"self-declined",chain:o,moduleId:s};if(c.hot._main)return{type:"unaccepted",chain:o,moduleId:s};for(var h=0;h<c.parents.length;h++){var d=c.parents[h],u=i.c[d];if(u){if(u.hot._declinedDependencies[s])return{type:"declined",chain:o.concat([d]),moduleId:s,parentId:d};-1===e.indexOf(d)&&(u.hot._acceptedDependencies[s]?(r[d]||(r[d]=[]),l(r[d],[s])):(delete r[d],e.push(d),n.push({chain:o.concat([d]),id:d})))}}}}return{type:"accepted",moduleId:t,outdatedModules:e,outdatedDependencies:r}}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];-1===t.indexOf(n)&&t.push(n)}}i.f&&delete i.f.jsonpHmr,e=void 0;var c={},h=[],d={},u=function(t){console.warn("[HMR] unexpected require("+t.id+") to disposed module")};for(var p in r)if(i.o(r,p)){var f,m=r[p],g=!1,b=!1,v=!1,y="";switch((f=m?o(p):{type:"disposed",moduleId:p}).chain&&(y="\nUpdate propagation: "+f.chain.join(" -> ")),f.type){case"self-declined":s.onDeclined&&s.onDeclined(f),s.ignoreDeclined||(g=new Error("Aborted because of self decline: "+f.moduleId+y));break;case"declined":s.onDeclined&&s.onDeclined(f),s.ignoreDeclined||(g=new Error("Aborted because of declined dependency: "+f.moduleId+" in "+f.parentId+y));break;case"unaccepted":s.onUnaccepted&&s.onUnaccepted(f),s.ignoreUnaccepted||(g=new Error("Aborted because "+p+" is not accepted"+y));break;case"accepted":s.onAccepted&&s.onAccepted(f),b=!0;break;case"disposed":s.onDisposed&&s.onDisposed(f),v=!0;break;default:throw new Error("Unexception type "+f.type)}if(g)return{error:g};if(b)for(p in d[p]=m,l(h,f.outdatedModules),f.outdatedDependencies)i.o(f.outdatedDependencies,p)&&(c[p]||(c[p]=[]),l(c[p],f.outdatedDependencies[p]));v&&(l(h,[f.moduleId]),d[p]=u)}r=void 0;for(var w,_=[],x=0;x<h.length;x++){var k=h[x],S=i.c[k];S&&(S.hot._selfAccepted||S.hot._main)&&d[k]!==u&&!S.hot._selfInvalidated&&_.push({module:k,require:S.hot._requireSelf,errorHandler:S.hot._selfAccepted})}return{dispose:function(){var e;n.forEach((function(e){delete t[e]})),n=void 0;for(var r,a=h.slice();a.length>0;){var s=a.pop(),o=i.c[s];if(o){var l={},d=o.hot._disposeHandlers;for(x=0;x<d.length;x++)d[x].call(null,l);for(i.hmrD[s]=l,o.hot.active=!1,delete i.c[s],delete c[s],x=0;x<o.children.length;x++){var u=i.c[o.children[x]];u&&((e=u.parents.indexOf(s))>=0&&u.parents.splice(e,1))}}}for(var p in c)if(i.o(c,p)&&(o=i.c[p]))for(w=c[p],x=0;x<w.length;x++)r=w[x],(e=o.children.indexOf(r))>=0&&o.children.splice(e,1)},apply:function(t){for(var e in d)i.o(d,e)&&(i.m[e]=d[e]);for(var r=0;r<a.length;r++)a[r](i);for(var n in c)if(i.o(c,n)){var o=i.c[n];if(o){w=c[n];for(var l=[],u=[],p=[],f=0;f<w.length;f++){var m=w[f],g=o.hot._acceptedDependencies[m],b=o.hot._acceptedErrorHandlers[m];if(g){if(-1!==l.indexOf(g))continue;l.push(g),u.push(b),p.push(m)}}for(var v=0;v<l.length;v++)try{l[v].call(null,w)}catch(e){if("function"==typeof u[v])try{u[v](e,{moduleId:n,dependencyId:p[v]})}catch(r){s.onErrored&&s.onErrored({type:"accept-error-handler-errored",moduleId:n,dependencyId:p[v],error:r,originalError:e}),s.ignoreErrored||(t(r),t(e))}else s.onErrored&&s.onErrored({type:"accept-errored",moduleId:n,dependencyId:p[v],error:e}),s.ignoreErrored||t(e)}}}for(var y=0;y<_.length;y++){var x=_[y],k=x.module;try{x.require(k)}catch(e){if("function"==typeof x.errorHandler)try{x.errorHandler(e,{moduleId:k,module:i.c[k]})}catch(r){s.onErrored&&s.onErrored({type:"self-accept-error-handler-errored",moduleId:k,error:r,originalError:e}),s.ignoreErrored||(t(r),t(e))}else s.onErrored&&s.onErrored({type:"self-accept-errored",moduleId:k,error:e}),s.ignoreErrored||t(e)}}return h}}}self.webpackHotUpdatecylixguide=(t,e,n)=>{for(var o in e)i.o(e,o)&&(r[o]=e[o]);n&&a.push(n),s[t]&&(s[t](),s[t]=void 0)},i.hmrI.jsonp=function(t,e){r||(r={},a=[],n=[],e.push(l)),i.o(r,t)||(r[t]=i.m[t])},i.hmrC.jsonp=function(s,c,h,d,u,p){u.push(l),e={},n=c,r=h.reduce((function(t,e){return t[e]=!1,t}),{}),a=[],s.forEach((function(r){i.o(t,r)&&void 0!==t[r]&&(d.push(o(r)),e[r]=!0)})),i.f&&(i.f.jsonpHmr=function(r,n){e&&!i.o(e,r)&&i.o(t,r)&&void 0!==t[r]&&(n.push(o(r)),e[r]=!0)})},i.hmrM=()=>{if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(i.p+i.hmrF()).then((t=>{if(404!==t.status){if(!t.ok)throw new Error("Failed to fetch update manifest "+t.statusText);return t.json()}}))};var c=(e,r)=>{var n,a,[s,o,l]=r,c=0;if(s.some((e=>0!==t[e]))){for(n in o)i.o(o,n)&&(i.m[n]=o[n]);if(l)l(i)}for(e&&e(r);c<s.length;c++)a=s[c],i.o(t,a)&&t[a]&&t[a][0](),t[a]=0},h=self.webpackChunkcylixguide=self.webpackChunkcylixguide||[];h.forEach(c.bind(null,0)),h.push=c.bind(null,h.push.bind(h))})();i(6136)})();